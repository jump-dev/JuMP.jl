<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Debugging · JuMP</title><meta name="title" content="Debugging · JuMP"/><meta property="og:title" content="Debugging · JuMP"/><meta property="twitter:title" content="Debugging · JuMP"/><meta name="description" content="Documentation for JuMP."/><meta property="og:description" content="Documentation for JuMP."/><meta property="twitter:description" content="Documentation for JuMP."/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-44252521-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-44252521-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/extra_styles.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img class="docs-light-only" src="../../../assets/logo.svg" alt="JuMP logo"/><img class="docs-dark-only" src="../../../assets/logo-dark.svg" alt="JuMP logo"/></a><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../../should_i_use/">Should I use JuMP?</a></li><li><a class="tocitem" href="../../../installation/">Installation Guide</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox" checked/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../introduction/">Introduction</a></li><li><a class="tocitem" href="../getting_started_with_julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../getting_started_with_JuMP/">Getting started with JuMP</a></li><li><a class="tocitem" href="../getting_started_with_sets_and_indexing/">Getting started with sets and indexing</a></li><li><a class="tocitem" href="../getting_started_with_data_and_plotting/">Getting started with data and plotting</a></li><li class="is-active"><a class="tocitem" href>Debugging</a><ul class="internal"><li><a class="tocitem" href="#Getting-help"><span>Getting help</span></a></li><li><a class="tocitem" href="#Debugging-Julia-code"><span>Debugging Julia code</span></a></li><li><a class="tocitem" href="#Solve-failures"><span>Solve failures</span></a></li><li><a class="tocitem" href="#Incorrect-results"><span>Incorrect results</span></a></li><li><a class="tocitem" href="#Debugging-an-infeasible-model"><span>Debugging an infeasible model</span></a></li><li><a class="tocitem" href="#Debugging-an-unbounded-model"><span>Debugging an unbounded model</span></a></li></ul></li><li><a class="tocitem" href="../design_patterns_for_larger_models/">Design patterns for larger models</a></li><li><a class="tocitem" href="../performance_tips/">Performance tips</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Linear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../linear/introduction/">Introduction</a></li><li><a class="tocitem" href="../../linear/diet/">The diet problem</a></li><li><a class="tocitem" href="../../linear/cannery/">The cannery problem</a></li><li><a class="tocitem" href="../../linear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../linear/facility_location/">The facility location problem</a></li><li><a class="tocitem" href="../../linear/factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../../linear/finance/">Financial modeling problems</a></li><li><a class="tocitem" href="../../linear/geographic_clustering/">Geographical clustering</a></li><li><a class="tocitem" href="../../linear/multi_objective_knapsack/">Multi-objective knapsack</a></li><li><a class="tocitem" href="../../linear/multi_objective_examples/">Simple multi-objective examples</a></li><li><a class="tocitem" href="../../linear/knapsack/">The knapsack problem example</a></li><li><a class="tocitem" href="../../linear/multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../../linear/n-queens/">N-Queens</a></li><li><a class="tocitem" href="../../linear/lp_sensitivity/">Sensitivity analysis of a linear program</a></li><li><a class="tocitem" href="../../linear/network_flows/">Network flow problems</a></li><li><a class="tocitem" href="../../linear/sudoku/">Sudoku</a></li><li><a class="tocitem" href="../../linear/transp/">The transportation problem</a></li><li><a class="tocitem" href="../../linear/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../linear/constraint_programming/">Constraint programming</a></li><li><a class="tocitem" href="../../linear/mip_duality/">Computing the duals of a mixed-integer program</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Nonlinear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../nonlinear/introduction/">Introduction</a></li><li><a class="tocitem" href="../../nonlinear/simple_examples/">Simple examples</a></li><li><a class="tocitem" href="../../nonlinear/portfolio/">Portfolio optimization</a></li><li><a class="tocitem" href="../../nonlinear/rocket_control/">Rocket Control</a></li><li><a class="tocitem" href="../../nonlinear/space_shuttle_reentry_trajectory/">Optimal control for a Space Shuttle reentry trajectory</a></li><li><a class="tocitem" href="../../nonlinear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../nonlinear/user_defined_hessians/">User-defined Hessians</a></li><li><a class="tocitem" href="../../nonlinear/querying_hessians/">Computing Hessians</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Conic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../conic/introduction/">Introduction</a></li><li><a class="tocitem" href="../../conic/start_values/">Primal and dual warm-starts</a></li><li><a class="tocitem" href="../../conic/tips_and_tricks/">Tips and Tricks</a></li><li><a class="tocitem" href="../../conic/simple_examples/">Simple semidefinite programming examples</a></li><li><a class="tocitem" href="../../conic/logistic_regression/">Logistic regression</a></li><li><a class="tocitem" href="../../conic/experiment_design/">Experiment design</a></li><li><a class="tocitem" href="../../conic/min_ellipse/">Minimal ellipses</a></li><li><a class="tocitem" href="../../conic/ellipse_approx/">Ellipsoid approximation</a></li><li><a class="tocitem" href="../../conic/quantum_discrimination/">Quantum state discrimination</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Algorithms</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../algorithms/benders_decomposition/">Benders decomposition</a></li><li><a class="tocitem" href="../../algorithms/cutting_stock_column_generation/">Column generation</a></li><li><a class="tocitem" href="../../algorithms/tsp_lazy_constraints/">Traveling Salesperson Problem</a></li><li><a class="tocitem" href="../../algorithms/parallelism/">Parallelism</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-6" type="checkbox"/><label class="tocitem" for="menuitem-2-6"><span class="docs-label">Applications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../applications/power_systems/">Power Systems</a></li><li><a class="tocitem" href="../../applications/web_app/">Serving web apps</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../manual/models/">Models</a></li><li><a class="tocitem" href="../../../manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../manual/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../manual/objective/">Objectives</a></li><li><a class="tocitem" href="../../../manual/containers/">Containers</a></li><li><a class="tocitem" href="../../../manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../manual/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../manual/callbacks/">Solver-independent Callbacks</a></li><li><a class="tocitem" href="../../../manual/complex/">Complex number support</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../reference/models/">Models</a></li><li><a class="tocitem" href="../../../reference/variables/">Variables</a></li><li><a class="tocitem" href="../../../reference/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../reference/objectives/">Objectives</a></li><li><a class="tocitem" href="../../../reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../reference/containers/">Containers</a></li><li><a class="tocitem" href="../../../reference/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../reference/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../../reference/extensions/">Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Background Information</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../background/algebraic_modeling_languages/">Algebraic modeling languages</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../developers/contributing/">Contributing</a></li><li><a class="tocitem" href="../../../developers/extensions/">Extensions</a></li><li><a class="tocitem" href="../../../developers/custom_solver_binaries/">Custom binaries</a></li><li><a class="tocitem" href="../../../developers/style/">Style Guide</a></li><li><a class="tocitem" href="../../../developers/roadmap/">Roadmap</a></li></ul></li><li><a class="tocitem" href="../../../release_notes/">Release notes</a></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">MathOptInterface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-8-1" type="checkbox"/><label class="tocitem" for="menuitem-8-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/">Introduction</a></li><li><a class="tocitem" href="../../../moi/background/motivation/">Motivation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-2" type="checkbox"/><label class="tocitem" for="menuitem-8-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/tutorials/example/">Solving a problem using MathOptInterface</a></li><li><a class="tocitem" href="../../../moi/tutorials/implementing/">Implementing a solver interface</a></li><li><a class="tocitem" href="../../../moi/tutorials/mathprogbase/">Transitioning from MathProgBase</a></li><li><a class="tocitem" href="../../../moi/tutorials/bridging_constraint/">Implementing a constraint bridge</a></li><li><a class="tocitem" href="../../../moi/tutorials/manipulating_expressions/">Manipulating expressions</a></li><li><a class="tocitem" href="../../../moi/tutorials/latency/">Latency</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-3" type="checkbox"/><label class="tocitem" for="menuitem-8-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/manual/standard_form/">Standard form problem</a></li><li><a class="tocitem" href="../../../moi/manual/models/">Models</a></li><li><a class="tocitem" href="../../../moi/manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../moi/manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../moi/manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../moi/manual/modification/">Problem modification</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-4" type="checkbox"/><label class="tocitem" for="menuitem-8-4"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/background/duality/">Duality</a></li><li><a class="tocitem" href="../../../moi/background/infeasibility_certificates/">Infeasibility certificates</a></li><li><a class="tocitem" href="../../../moi/background/naming_conventions/">Naming conventions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-5" type="checkbox"/><label class="tocitem" for="menuitem-8-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/reference/standard_form/">Standard form</a></li><li><a class="tocitem" href="../../../moi/reference/models/">Models</a></li><li><a class="tocitem" href="../../../moi/reference/variables/">Variables</a></li><li><a class="tocitem" href="../../../moi/reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../moi/reference/modification/">Modifications</a></li><li><a class="tocitem" href="../../../moi/reference/nonlinear/">Nonlinear programming</a></li><li><a class="tocitem" href="../../../moi/reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../../moi/reference/errors/">Errors</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6" type="checkbox"/><label class="tocitem" for="menuitem-8-6"><span class="docs-label">Submodules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-8-6-1" type="checkbox"/><label class="tocitem" for="menuitem-8-6-1"><span class="docs-label">Benchmarks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Benchmarks/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Benchmarks/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-2" type="checkbox"/><label class="tocitem" for="menuitem-8-6-2"><span class="docs-label">Bridges</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Bridges/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Bridges/list_of_bridges/">List of bridges</a></li><li><a class="tocitem" href="../../../moi/submodules/Bridges/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-3" type="checkbox"/><label class="tocitem" for="menuitem-8-6-3"><span class="docs-label">FileFormats</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/FileFormats/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/FileFormats/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-4" type="checkbox"/><label class="tocitem" for="menuitem-8-6-4"><span class="docs-label">Nonlinear</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Nonlinear/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Nonlinear/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-5" type="checkbox"/><label class="tocitem" for="menuitem-8-6-5"><span class="docs-label">Utilities</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Utilities/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Utilities/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-6" type="checkbox"/><label class="tocitem" for="menuitem-8-6-6"><span class="docs-label">Test</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Test/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Test/reference/">API Reference</a></li></ul></li></ul></li><li><a class="tocitem" href="../../../moi/release_notes/">Release notes</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Getting started</a></li><li class="is-active"><a href>Debugging</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Debugging</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jump-dev/JuMP.jl" title="View the repository on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/tutorials/getting_started/debugging.jl" title="View source on GitHub"><span class="docs-icon fas"></span></a><a class="docs-settings-button docs-navbar-link fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button docs-navbar-link fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Debugging"><a class="docs-heading-anchor" href="#Debugging">Debugging</a><a id="Debugging-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging" title="Permalink"></a></h1><p>Dealing with bugs is an unavoidable part of coding optimization models in any framework, including JuMP. Sources of bugs include not only generic coding errors (method errors, typos, off-by-one issues), but also semantic mistakes in the formulation of an optimization problem and the incorrect use of a solver.</p><p>This tutorial explains some common sources of bugs and modeling issues that you might encounter when writing models in JuMP, and it suggests a variety of strategies to deal with them.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>This tutorial is more advanced than the other &quot;Getting started&quot; tutorials. It&#39;s in the &quot;Getting started&quot; section to give you an early preview of how to debug JuMP models. However, if you are new to JuMP, you may want to briefly skim the tutorial, and come back to it once you have written a few JuMP models.</p></div></div><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using JuMP</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; import HiGHS</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h2 id="Getting-help"><a class="docs-heading-anchor" href="#Getting-help">Getting help</a><a id="Getting-help-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-help" title="Permalink"></a></h2><p>Debugging can be a frustrating part of modeling, particularly if you&#39;re new to optimization and programming. If you&#39;re stuck, join the <a href="https://discourse.julialang.org/c/domain/opt/13">community forum</a> to search for answers to commonly asked questions.</p><p>Before asking a new question, make sure to read the post <a href="https://discourse.julialang.org/t/please-read-make-it-easier-to-help-you/14757">Make it easier to help you</a>, which contains a number of tips on how to ask a good question.</p><p>Above all else, take time to simplify your code as much as possible. The fewer lines of code you can post that reproduces the same issue, the faster someone can answer your question.</p><h2 id="Debugging-Julia-code"><a class="docs-heading-anchor" href="#Debugging-Julia-code">Debugging Julia code</a><a id="Debugging-Julia-code-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging-Julia-code" title="Permalink"></a></h2><p>Read the <a href="https://benlauwens.github.io/ThinkJulia.jl/latest/book.html#chap21">Debugging chapter</a> in the book <a href="https://benlauwens.github.io/ThinkJulia.jl/latest/book.html">ThinkJulia.jl</a>. It has a number of great tips and tricks for debugging Julia code.</p><h2 id="Solve-failures"><a class="docs-heading-anchor" href="#Solve-failures">Solve failures</a><a id="Solve-failures-1"></a><a class="docs-heading-anchor-permalink" href="#Solve-failures" title="Permalink"></a></h2><p>When a solver experiences an issue that prevents it from finding an optimal solution (or proving that one does not exist), JuMP may return one of a number of <a href="../../../reference/solutions/#JuMP.termination_status"><code>termination_status</code></a>es.</p><p>For example, if the solver found a solution, but experienced numerical imprecision, it may return a status such as <code>ALMOST_OPTIMAL</code> or <code>ALMOST_LOCALLY_SOLVED</code> indicating that the problem was solved to a relaxed set of tolerances. Alternatively, the solver may return a problematic status such as <code>NUMERICAL_ERROR</code>, <code>SLOW_PROGRESS</code>, or <code>OTHER_ERROR</code>, indicating that it could not find a solution to the problem.</p><p>Most solvers can experience numerical imprecision because they use <a href="https://en.wikipedia.org/wiki/Floating-point_arithmetic">floating-point arithmetic</a> to perform operations such as addition, subtraction, and multiplication. These operations aren&#39;t exact, and small errors can accrue between the theoretical value and the value that the computer computes. For example:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; 0.1 * 3 == 0.3</code><code class="nohighlight hljs ansi" style="display:block;">false</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Read the <a href="https://www.gurobi.com/documentation/9.5/refman/guidelines_for_numerical_i.html">Guidelines for numerical issues</a> section of the Gurobi documentation, along with the <a href="https://yalmip.github.io/inside/debuggingnumerics/">Debugging numerical problems</a> section of the YALMIP documentation.</p></div></div><h3 id="Common-sources"><a class="docs-heading-anchor" href="#Common-sources">Common sources</a><a id="Common-sources-1"></a><a class="docs-heading-anchor-permalink" href="#Common-sources" title="Permalink"></a></h3><p>Common sources of solve failures are:</p><ul><li>Very large numbers and very small numbers as problem coefficients. Exactly what &quot;large&quot; is depends on the solver and the problem, but in general, values above 1e6 or smaller than 1e-6 cause problems.</li><li>Nonlinear problems with functions that are not defined in parts of their domain. For example, minimizing <code>log(x)</code> where <code>x &gt;= 0</code> is undefined when <code>x = 0</code> (a common starting value).</li></ul><h3 id="Strategies"><a class="docs-heading-anchor" href="#Strategies">Strategies</a><a id="Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Strategies" title="Permalink"></a></h3><p>Strategies to debug sources of solve failures include:</p><ul><li>Rescale variables in the problem and their associated coefficients to make the magnitudes of all coefficients in the 1e-4 to 1e4 range. For example, that might mean rescaling a variable from measuring distance in centimeters to kilometers.</li><li>Try a different solver. Some solvers might be more robust than others for a particular problem.</li><li>Read the documentation of your solver, and try settings that encourage numerical robustness.</li><li>Set bounds or add constraints so that all nonlinear functions are defined across all of the feasible region. This particularly applies for functions like <code>1 / x</code> and <code>log(x)</code> which are not defined for <code>x = 0</code>.</li></ul><h2 id="Incorrect-results"><a class="docs-heading-anchor" href="#Incorrect-results">Incorrect results</a><a id="Incorrect-results-1"></a><a class="docs-heading-anchor-permalink" href="#Incorrect-results" title="Permalink"></a></h2><p>Sometimes, you might find that the solver returns an &quot;optimal&quot; solution that is incorrect according to the model you are trying to solve (perhaps the solution is suboptimal, or it doesn&#39;t satisfy some of the constraints).</p><p>Incorrect results can be hard to detect and debug, because the solver gives no hints that there is a problem. Indeed, the <a href="../../../reference/solutions/#JuMP.termination_status"><code>termination_status</code></a> will likely be <code>OPTIMAL</code> and a solution will be available.</p><h3 id="Common-sources-2"><a class="docs-heading-anchor" href="#Common-sources-2">Common sources</a><a class="docs-heading-anchor-permalink" href="#Common-sources-2" title="Permalink"></a></h3><p>Common sources of incorrect results are:</p><ul><li>A modeling error, so that your JuMP model does not match the formulation you have on paper</li><li>Not accounting for the tolerances that solvers use (for example, if <code>x</code> is binary, a value like <code>x = 1.0000001</code> may still be considered feasible)</li><li>A bug in JuMP or the solver.</li></ul><p>The probability of the issue being a bug in JuMP or the solver is much smaller than a modeling error. When in doubt, first assume there is a bug in your code before assuming that there is a bug in JuMP.</p><h3 id="Strategies-2"><a class="docs-heading-anchor" href="#Strategies-2">Strategies</a><a class="docs-heading-anchor-permalink" href="#Strategies-2" title="Permalink"></a></h3><p>Strategies to debug sources of incorrect results include:</p><ul><li>Print your JuMP model to see if it matches the formulation you have on paper. Look out for incorrect signs <code>+</code> instead of <code>-</code>, and off-by-one errors such as <code>x[t]</code> instead of <code>x[t-1]</code>.</li><li>Check that you are not using exact comparisons like <code>value(x) == 1.0</code>; always use <code>isapprox(value(x), 1.0; atol = 1e-6)</code> where you manually specify the comparison tolerance.</li><li>Try a different solver. If one solver succeeds where another doesn&#39;t this is a sign that the problem is a numerical issue or a bug in the solver.</li></ul><h2 id="Debugging-an-infeasible-model"><a class="docs-heading-anchor" href="#Debugging-an-infeasible-model">Debugging an infeasible model</a><a id="Debugging-an-infeasible-model-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging-an-infeasible-model" title="Permalink"></a></h2><p>A model is infeasible if there is no primal solution that satisfies all of the constraints. In general, an infeasible model means one of two things:</p><ul><li>Your problem really has no feasible solution</li><li>There is a mistake in your model.</li></ul><h3 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h3><p>A simple example of an infeasible model is:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model(HiGHS.Optimizer);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; set_silent(model)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x &gt;= 0)</code><code class="nohighlight hljs ansi" style="display:block;">x</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @objective(model, Max, 2x + 1)</code><code class="nohighlight hljs ansi" style="display:block;">2 x + 1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, con, 2x - 1 &lt;= -2)</code><code class="nohighlight hljs ansi" style="display:block;">con : 2 x ≤ -1.0</code></pre><p>because the bound says that <code>x &gt;= 0</code>, but we can rewrite the constraint to be <code>x &lt;= -1/2</code>. When the problem is infeasible, JuMP may return one of a number of statuses. The most common is <code>INFEASIBLE</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; optimize!(model)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; termination_status(model)</code><code class="nohighlight hljs ansi" style="display:block;">INFEASIBLE::TerminationStatusCode = 2</code></pre><p>Depending on the solver, you may also receive <code>INFEASIBLE_OR_UNBOUNDED</code> or <code>LOCALLY_INFEASIBLE</code>.</p><p>A termination status of <code>INFEASIBLE_OR_UNBOUNDED</code> means that the solver could not prove if the solver was infeasible or unbounded, only that the model does not have a finite feasible optimal solution.</p><p>Nonlinear optimizers such as Ipopt may return the status <code>LOCALLY_INFEASIBLE</code>. This does not mean that the solver <em>proved</em> no feasible solution exists, only that it could not find one. If you know a primal feasible point, try providing it as a starting point using <a href="../../../reference/variables/#JuMP.set_start_value"><code>set_start_value</code></a> and re-optimize.</p><h3 id="Common-sources-3"><a class="docs-heading-anchor" href="#Common-sources-3">Common sources</a><a class="docs-heading-anchor-permalink" href="#Common-sources-3" title="Permalink"></a></h3><p>Common sources of infeasibility are:</p><ul><li>Incorrect units, for example, using a lower bound of megawatts and an upper bound of kilowatts</li><li>Using <code>+</code> instead of <code>-</code> in a constraint</li><li>Off-by-one and related errors, for example, using <code>x[t]</code> instead of <code>x[t-1]</code> in part of a constraint</li><li>Otherwise invalid mathematical formulations</li></ul><h3 id="Strategies-3"><a class="docs-heading-anchor" href="#Strategies-3">Strategies</a><a class="docs-heading-anchor-permalink" href="#Strategies-3" title="Permalink"></a></h3><p>Strategies to debug sources of infeasibility include:</p><ul><li>Iteratively comment out a constraint (or block of constraints) and re-solve the problem. When you find a constraint that makes the problem infeasible when added, check the constraint carefully for errors.</li><li>If the problem is still infeasible with all constraints commented out, check all variable bounds. Do they use the right data?</li><li>If you have a known feasible solution, use <a href="../../../reference/solutions/#JuMP.primal_feasibility_report"><code>primal_feasibility_report</code></a> to evaluate the constraints and check for violations. You&#39;ll probably find that you have a typo in one of the constraints.</li><li>Try a different solver. Sometimes, solvers have bugs, and they can incorrectly report a problem as infeasible when it isn&#39;t. If you find such a case where one solver reports the problem is infeasible and another can find an optimal solution, please report it by opening an issue on the GitHub repository of the solver that reports infeasibility.</li></ul><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Some solvers also have specialized support for debugging sources of infeasibility via an <a href="../../../manual/solutions/#Conflicts">irreducible infeasible subsystem</a>. To see if your solver has support, try calling <a href="../../../reference/solutions/#JuMP.compute_conflict!"><code>compute_conflict!</code></a>:</p><pre><code class="language-julia hljs">julia&gt; compute_conflict!(model)
ERROR: ArgumentError: The optimizer HiGHS.Optimizer does not support `compute_conflict!`</code></pre><p>In this case, HiGHS does not support computing conflicts, but other solvers such as Gurobi and CPLEX do. If the solver does support computing conflicts, read <a href="../../../manual/solutions/#Conflicts">Conflicts</a> for more details.</p></div></div><h3 id="Penalty-relaxation"><a class="docs-heading-anchor" href="#Penalty-relaxation">Penalty relaxation</a><a id="Penalty-relaxation-1"></a><a class="docs-heading-anchor-permalink" href="#Penalty-relaxation" title="Permalink"></a></h3><p>Another strategy to debug sources of infeasibility is the <a href="../../../reference/constraints/#JuMP.relax_with_penalty!"><code>relax_with_penalty!</code></a> function.</p><p>The penalty relaxation modifies constraints of the form <span>$f(x) \in S$</span> into <span>$f(x) + y - z \in S$</span>, where <span>$y, z \ge 0$</span>, and then it introduces a penalty term into the objective of <span>$a \times (y + z)$</span> (if minimizing, else <span>$-a$</span>), where <span>$a$</span> is a penalty.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; map = relax_with_penalty!(model)</code><code class="nohighlight hljs ansi" style="display:block;">┌ Warning: Skipping PenaltyRelaxation for ConstraintIndex{MathOptInterface.VariableIndex,MathOptInterface.GreaterThan{Float64}}
└ @ MathOptInterface.Utilities ~/.julia/packages/MathOptInterface/NCblk/src/Utilities/penalty_relaxation.jl:289
Dict{ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.LessThan{Float64}}, ScalarShape}, AffExpr} with 1 entry:
  con : 2 x - _[2] ≤ -1.0 =&gt; _[2]</code></pre><p>Here <code>map</code> is a dictionary which maps constraint indices to an affine expression representing <span>$(y + z)$</span>.</p><p>If we optimize the relaxed model, this time we get a feasible solution:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; optimize!(model)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; termination_status(model)</code><code class="nohighlight hljs ansi" style="display:block;">OPTIMAL::TerminationStatusCode = 1</code></pre><p>Iterate over the contents of <code>map</code> to see which constraints are violated:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; for (con, penalty) in map
           violation = value(penalty)
           if violation &gt; 0
               println(&quot;Constraint `$(name(con))` is violated by $violation&quot;)
           end
       end</code><code class="nohighlight hljs ansi" style="display:block;">Constraint `con` is violated by 1.0</code></pre><p>Once you find a violated constraint in the relaxed problem, take a look to see if there is a typo or other common mistake in that particular constraint.</p><p>Consult the docstring <a href="../../../reference/constraints/#JuMP.relax_with_penalty!"><code>relax_with_penalty!</code></a> for information on how to modify the penalty cost term <code>a</code>, either for every constraint in the model or a particular subset of the constraints.</p><p>When using <a href="../../../reference/constraints/#JuMP.relax_with_penalty!"><code>relax_with_penalty!</code></a>, you should be aware that:</p><ul><li>Variable bounds and integrality restrictions are not relaxed. If the problem is still infeasible after calling <a href="../../../reference/constraints/#JuMP.relax_with_penalty!"><code>relax_with_penalty!</code></a>, check the variable bounds.</li><li>You cannot undo the penalty relaxation. If you need an unmodified model, rebuild the problem, or call <a href="../../../reference/models/#JuMP.copy_model"><code>copy_model</code></a> before calling <a href="../../../reference/constraints/#JuMP.relax_with_penalty!"><code>relax_with_penalty!</code></a>.</li></ul><h2 id="Debugging-an-unbounded-model"><a class="docs-heading-anchor" href="#Debugging-an-unbounded-model">Debugging an unbounded model</a><a id="Debugging-an-unbounded-model-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging-an-unbounded-model" title="Permalink"></a></h2><p>A model is unbounded if there is no limit on how good the objective value can get. Most often, an unbounded model means that you have an error in your modeling, because all physical systems have limits. (You cannot make an infinite amount of profit.)</p><h3 id="Example-2"><a class="docs-heading-anchor" href="#Example-2">Example</a><a class="docs-heading-anchor-permalink" href="#Example-2" title="Permalink"></a></h3><p>A simple example of an unbounded model is:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model(HiGHS.Optimizer);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; set_silent(model)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x &gt;= 0)</code><code class="nohighlight hljs ansi" style="display:block;">x</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @objective(model, Max, 2x + 1)</code><code class="nohighlight hljs ansi" style="display:block;">2 x + 1</code></pre><p>because we can increase <code>x</code> without limit, and the objective value <code>2x + 1</code> gets better as <code>x</code> increases.</p><p>When the problem is unbounded, JuMP may return one of a number of statuses. The most common is <code>DUAL_INFEASIBLE</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; optimize!(model)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; termination_status(model)</code><code class="nohighlight hljs ansi" style="display:block;">DUAL_INFEASIBLE::TerminationStatusCode = 3</code></pre><p>Depending on the solver, you may also receive <code>INFEASIBLE_OR_UNBOUNDED</code> or an error code like <code>NORM_LIMIT</code>.</p><h3 id="Common-sources-4"><a class="docs-heading-anchor" href="#Common-sources-4">Common sources</a><a class="docs-heading-anchor-permalink" href="#Common-sources-4" title="Permalink"></a></h3><p>Common sources of unboundedness are:</p><ul><li>Using <code>Max</code> instead of <code>Min</code></li><li>Omitting variable bounds, such as <code>0 &lt;= x &lt;= 1</code></li><li>Using <code>+</code> instead of <code>-</code> in a term of the objective function.</li></ul><h3 id="Strategies-4"><a class="docs-heading-anchor" href="#Strategies-4">Strategies</a><a class="docs-heading-anchor-permalink" href="#Strategies-4" title="Permalink"></a></h3><p>Strategies to debug sources of unboundedness include:</p><ul><li>Double check whether you intended <code>Min</code> or <code>Max</code> in the <a href="../../../reference/objectives/#JuMP.@objective"><code>@objective</code></a> line.</li><li>Print the objective function with <code>print(objective_function(model))</code> and verify that the value and sign of each coefficient is as you expect.</li><li>Add large bounds to all variables that are free or have one-sided bounds, then re-solve the problem. Because all variables are now bounded, the problem will have a finite optimal solution. Look at the value of each variable in the optimal solution to see if it is at one of the new bounds. If it is, you either need to specify a better bound for that variable, or there might be a mistake in the objective function associated with that variable (for example, a <code>+</code> instead of a <code>-</code>).</li></ul><p>If there are too many variables to add bounds to, or there are too many terms to examine by hand, another strategy is to create a new variable with a large upper bound (if maximizing, lower bound if minimizing) and a constraint that the variable must be less-than or equal to the expression of the objective function. For example:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model(HiGHS.Optimizer);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; set_silent(model)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x &gt;= 0)</code><code class="nohighlight hljs ansi" style="display:block;">x</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; # @objective(model, Max, 2x + 1)
       @variable(model, objective &lt;= 10_000)</code><code class="nohighlight hljs ansi" style="display:block;">objective</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, objective &lt;= 2x + 1)</code><code class="nohighlight hljs ansi" style="display:block;">-2 x + objective ≤ 1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @objective(model, Max, objective)</code><code class="nohighlight hljs ansi" style="display:block;">objective</code></pre><p>This new model has a finite optimal solution, so we can solve it and then look for variables with large positive or negative values in the optimal solution.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; optimize!(model)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; for var in all_variables(model)
           if var == objective
               continue
           end
           if abs(value(var)) &gt; 1e3
               println(&quot;Variable `$(name(var))` may be unbounded&quot;)
           end
       end</code><code class="nohighlight hljs ansi" style="display:block;">Variable `x` may be unbounded</code></pre><hr/><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>This tutorial was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>. <a href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/tutorials/getting_started/debugging.jl">View the source <code>.jl</code> file on GitHub</a>.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../getting_started_with_data_and_plotting/">« Getting started with data and plotting</a><a class="docs-footer-nextpage" href="../design_patterns_for_larger_models/">Design patterns for larger models »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.28.0-DEV on <span class="colophon-date" title="Tuesday 7 March 2023 00:54">Tuesday 7 March 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
