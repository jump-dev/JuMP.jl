<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · JuMP</title><meta name="title" content="Overview · JuMP"/><meta property="og:title" content="Overview · JuMP"/><meta property="twitter:title" content="Overview · JuMP"/><meta name="description" content="Documentation for JuMP."/><meta property="og:description" content="Documentation for JuMP."/><meta property="twitter:description" content="Documentation for JuMP."/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-44252521-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-44252521-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.048/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../../assets/documenter.js"></script><script src="../../../../siteinfo.js"></script><script src="../../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../../assets/themeswap.js"></script><link href="../../../../assets/extra_styles.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../../"><img class="docs-light-only" src="../../../../assets/logo.svg" alt="JuMP logo"/><img class="docs-dark-only" src="../../../../assets/logo-dark.svg" alt="JuMP logo"/></a><form class="docs-search" action="../../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs (Ctrl + /)"/></form><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../">Introduction</a></li><li><a class="tocitem" href="../../../../should_i_use/">Should you use JuMP?</a></li><li><a class="tocitem" href="../../../../installation/">Installation Guide</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../tutorials/getting_started/introduction/">Introduction</a></li><li><a class="tocitem" href="../../../../tutorials/getting_started/getting_started_with_julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../../../../tutorials/getting_started/getting_started_with_JuMP/">Getting started with JuMP</a></li><li><a class="tocitem" href="../../../../tutorials/getting_started/getting_started_with_sets_and_indexing/">Getting started with sets and indexing</a></li><li><a class="tocitem" href="../../../../tutorials/getting_started/getting_started_with_data_and_plotting/">Getting started with data and plotting</a></li><li><a class="tocitem" href="../../../../tutorials/getting_started/debugging/">Debugging</a></li><li><a class="tocitem" href="../../../../tutorials/getting_started/design_patterns_for_larger_models/">Design patterns for larger models</a></li><li><a class="tocitem" href="../../../../tutorials/getting_started/performance_tips/">Performance tips</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Linear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../tutorials/linear/introduction/">Introduction</a></li><li><a class="tocitem" href="../../../../tutorials/linear/diet/">The diet problem</a></li><li><a class="tocitem" href="../../../../tutorials/linear/cannery/">The cannery problem</a></li><li><a class="tocitem" href="../../../../tutorials/linear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../../../tutorials/linear/facility_location/">The facility location problem</a></li><li><a class="tocitem" href="../../../../tutorials/linear/factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../../../../tutorials/linear/finance/">Financial modeling problems</a></li><li><a class="tocitem" href="../../../../tutorials/linear/geographic_clustering/">Geographical clustering</a></li><li><a class="tocitem" href="../../../../tutorials/linear/multi_objective_knapsack/">Multi-objective knapsack</a></li><li><a class="tocitem" href="../../../../tutorials/linear/multi_objective_examples/">Simple multi-objective examples</a></li><li><a class="tocitem" href="../../../../tutorials/linear/knapsack/">The knapsack problem example</a></li><li><a class="tocitem" href="../../../../tutorials/linear/multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../../../../tutorials/linear/n-queens/">N-Queens</a></li><li><a class="tocitem" href="../../../../tutorials/linear/lp_sensitivity/">Sensitivity analysis of a linear program</a></li><li><a class="tocitem" href="../../../../tutorials/linear/network_flows/">Network flow problems</a></li><li><a class="tocitem" href="../../../../tutorials/linear/sudoku/">Sudoku</a></li><li><a class="tocitem" href="../../../../tutorials/linear/transp/">The transportation problem</a></li><li><a class="tocitem" href="../../../../tutorials/linear/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../../../tutorials/linear/constraint_programming/">Constraint programming</a></li><li><a class="tocitem" href="../../../../tutorials/linear/mip_duality/">Computing the duals of a mixed-integer program</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Nonlinear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../tutorials/nonlinear/introduction/">Introduction</a></li><li><a class="tocitem" href="../../../../tutorials/nonlinear/simple_examples/">Simple examples</a></li><li><a class="tocitem" href="../../../../tutorials/nonlinear/portfolio/">Portfolio optimization</a></li><li><a class="tocitem" href="../../../../tutorials/nonlinear/rocket_control/">Rocket Control</a></li><li><a class="tocitem" href="../../../../tutorials/nonlinear/space_shuttle_reentry_trajectory/">Optimal control for a Space Shuttle reentry trajectory</a></li><li><a class="tocitem" href="../../../../tutorials/nonlinear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../../../tutorials/nonlinear/user_defined_hessians/">User-defined Hessians</a></li><li><a class="tocitem" href="../../../../tutorials/nonlinear/nested_problems/">Nested optimization problems</a></li><li><a class="tocitem" href="../../../../tutorials/nonlinear/querying_hessians/">Computing Hessians</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Conic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../tutorials/conic/introduction/">Introduction</a></li><li><a class="tocitem" href="../../../../tutorials/conic/start_values/">Primal and dual warm-starts</a></li><li><a class="tocitem" href="../../../../tutorials/conic/tips_and_tricks/">Tips and Tricks</a></li><li><a class="tocitem" href="../../../../tutorials/conic/simple_examples/">Simple semidefinite programming examples</a></li><li><a class="tocitem" href="../../../../tutorials/conic/logistic_regression/">Logistic regression</a></li><li><a class="tocitem" href="../../../../tutorials/conic/experiment_design/">Experiment design</a></li><li><a class="tocitem" href="../../../../tutorials/conic/min_ellipse/">Minimal ellipses</a></li><li><a class="tocitem" href="../../../../tutorials/conic/ellipse_approx/">Ellipsoid approximation</a></li><li><a class="tocitem" href="../../../../tutorials/conic/quantum_discrimination/">Quantum state discrimination</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Algorithms</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../tutorials/algorithms/benders_decomposition/">Benders decomposition</a></li><li><a class="tocitem" href="../../../../tutorials/algorithms/cutting_stock_column_generation/">Column generation</a></li><li><a class="tocitem" href="../../../../tutorials/algorithms/tsp_lazy_constraints/">Traveling Salesperson Problem</a></li><li><a class="tocitem" href="../../../../tutorials/algorithms/parallelism/">Parallelism</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-6" type="checkbox"/><label class="tocitem" for="menuitem-2-6"><span class="docs-label">Applications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../tutorials/applications/power_systems/">Power Systems</a></li><li><a class="tocitem" href="../../../../tutorials/applications/web_app/">Serving web apps</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../manual/models/">Models</a></li><li><a class="tocitem" href="../../../../manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../../manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../../manual/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../../manual/objective/">Objectives</a></li><li><a class="tocitem" href="../../../../manual/containers/">Containers</a></li><li><a class="tocitem" href="../../../../manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../../manual/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../../manual/callbacks/">Solver-independent Callbacks</a></li><li><a class="tocitem" href="../../../../manual/complex/">Complex number support</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../reference/models/">Models</a></li><li><a class="tocitem" href="../../../../reference/variables/">Variables</a></li><li><a class="tocitem" href="../../../../reference/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../../reference/objectives/">Objectives</a></li><li><a class="tocitem" href="../../../../reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../../reference/containers/">Containers</a></li><li><a class="tocitem" href="../../../../reference/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../../reference/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../../reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../../../reference/extensions/">Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Background Information</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../background/algebraic_modeling_languages/">Algebraic modeling languages</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../developers/contributing/">Contributing</a></li><li><a class="tocitem" href="../../../../developers/extensions/">Extensions</a></li><li><a class="tocitem" href="../../../../developers/custom_solver_binaries/">Custom binaries</a></li><li><a class="tocitem" href="../../../../developers/style/">Style Guide</a></li><li><a class="tocitem" href="../../../../developers/roadmap/">Roadmap</a></li><li><a class="tocitem" href="../../../../developers/release_process/">Release process</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Solvers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../packages/solvers/">Introduction</a></li><li><a class="tocitem" href="../../../../packages/AmplNLWriter/">jump-dev/AmplNLWriter.jl</a></li><li><a class="tocitem" href="../../../../packages/BARON/">jump-dev/BARON.jl</a></li><li><a class="tocitem" href="../../../../packages/CPLEX/">jump-dev/CPLEX.jl</a></li><li><a class="tocitem" href="../../../../packages/CSDP/">jump-dev/CSDP.jl</a></li><li><a class="tocitem" href="../../../../packages/Cbc/">jump-dev/Cbc.jl</a></li><li><a class="tocitem" href="../../../../packages/Clp/">jump-dev/Clp.jl</a></li><li><a class="tocitem" href="../../../../packages/Dualization/">jump-dev/Dualization.jl</a></li><li><a class="tocitem" href="../../../../packages/ECOS/">jump-dev/ECOS.jl</a></li><li><a class="tocitem" href="../../../../packages/GLPK/">jump-dev/GLPK.jl</a></li><li><a class="tocitem" href="../../../../packages/Gurobi/">jump-dev/Gurobi.jl</a></li><li><a class="tocitem" href="../../../../packages/HiGHS/">jump-dev/HiGHS.jl</a></li><li><a class="tocitem" href="../../../../packages/Ipopt/">jump-dev/Ipopt.jl</a></li><li><a class="tocitem" href="../../../../packages/KNITRO/">jump-dev/KNITRO.jl</a></li><li><a class="tocitem" href="../../../../packages/MiniZinc/">jump-dev/MiniZinc.jl</a></li><li><a class="tocitem" href="../../../../packages/MosekTools/">jump-dev/MosekTools.jl</a></li><li><a class="tocitem" href="../../../../packages/MultiObjectiveAlgorithms/">jump-dev/MultiObjectiveAlgorithms.jl</a></li><li><a class="tocitem" href="../../../../packages/Pajarito/">jump-dev/Pajarito.jl</a></li><li><a class="tocitem" href="../../../../packages/Pavito/">jump-dev/Pavito.jl</a></li><li><a class="tocitem" href="../../../../packages/Penopt/">jump-dev/Penopt.jl</a></li><li><a class="tocitem" href="../../../../packages/SCS/">jump-dev/SCS.jl</a></li><li><a class="tocitem" href="../../../../packages/SDPA/">jump-dev/SDPA.jl</a></li><li><a class="tocitem" href="../../../../packages/SDPNAL/">jump-dev/SDPNAL.jl</a></li><li><a class="tocitem" href="../../../../packages/SDPT3/">jump-dev/SDPT3.jl</a></li><li><a class="tocitem" href="../../../../packages/SeDuMi/">jump-dev/SeDuMi.jl</a></li><li><a class="tocitem" href="../../../../packages/Xpress/">jump-dev/Xpress.jl</a></li><li><a class="tocitem" href="../../../../packages/PATHSolver/">chkwon/PATHSolver.jl</a></li><li><a class="tocitem" href="../../../../packages/NEOSServer/">odow/NEOSServer.jl</a></li><li><a class="tocitem" href="../../../../packages/SCIP/">scipopt/SCIP.jl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">Extensions</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../../packages/extensions/">Introduction</a></li><li><a class="tocitem" href="../../../../packages/DiffOpt/">jump-dev/DiffOpt.jl</a></li><li><a class="tocitem" href="../../../../packages/ParametricOptInterface/">jump-dev/ParametricOptInterface.jl</a></li><li><a class="tocitem" href="../../../../packages/PolyJuMP/">jump-dev/PolyJuMP.jl</a></li><li><a class="tocitem" href="../../../../packages/SumOfSquares/">jump-dev/SumOfSquares.jl</a></li><li><a class="tocitem" href="../../../../packages/SDDP/">odow/SDDP.jl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox" checked/><label class="tocitem" for="menuitem-9"><span class="docs-label">MathOptInterface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-9-1" type="checkbox"/><label class="tocitem" for="menuitem-9-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../../background/motivation/">Motivation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../tutorials/example/">Solving a problem using MathOptInterface</a></li><li><a class="tocitem" href="../../../tutorials/implementing/">Implementing a solver interface</a></li><li><a class="tocitem" href="../../../tutorials/mathprogbase/">Transitioning from MathProgBase</a></li><li><a class="tocitem" href="../../../tutorials/bridging_constraint/">Implementing a constraint bridge</a></li><li><a class="tocitem" href="../../../tutorials/manipulating_expressions/">Manipulating expressions</a></li><li><a class="tocitem" href="../../../tutorials/latency/">Latency</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-3" type="checkbox"/><label class="tocitem" for="menuitem-9-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../manual/standard_form/">Standard form problem</a></li><li><a class="tocitem" href="../../../manual/models/">Models</a></li><li><a class="tocitem" href="../../../manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../manual/modification/">Problem modification</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-4" type="checkbox"/><label class="tocitem" for="menuitem-9-4"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../background/duality/">Duality</a></li><li><a class="tocitem" href="../../../background/infeasibility_certificates/">Infeasibility certificates</a></li><li><a class="tocitem" href="../../../background/naming_conventions/">Naming conventions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-5" type="checkbox"/><label class="tocitem" for="menuitem-9-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../reference/standard_form/">Standard form</a></li><li><a class="tocitem" href="../../../reference/models/">Models</a></li><li><a class="tocitem" href="../../../reference/variables/">Variables</a></li><li><a class="tocitem" href="../../../reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../reference/modification/">Modifications</a></li><li><a class="tocitem" href="../../../reference/nonlinear/">Nonlinear programming</a></li><li><a class="tocitem" href="../../../reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../../reference/errors/">Errors</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6" type="checkbox" checked/><label class="tocitem" for="menuitem-9-6"><span class="docs-label">Submodules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-9-6-1" type="checkbox"/><label class="tocitem" for="menuitem-9-6-1"><span class="docs-label">Benchmarks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Benchmarks/overview/">Overview</a></li><li><a class="tocitem" href="../../Benchmarks/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-2" type="checkbox"/><label class="tocitem" for="menuitem-9-6-2"><span class="docs-label">Bridges</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Bridges/overview/">Overview</a></li><li><a class="tocitem" href="../../Bridges/list_of_bridges/">List of bridges</a></li><li><a class="tocitem" href="../../Bridges/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-3" type="checkbox"/><label class="tocitem" for="menuitem-9-6-3"><span class="docs-label">FileFormats</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../FileFormats/overview/">Overview</a></li><li><a class="tocitem" href="../../FileFormats/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-4" type="checkbox"/><label class="tocitem" for="menuitem-9-6-4"><span class="docs-label">Nonlinear</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Nonlinear/overview/">Overview</a></li><li><a class="tocitem" href="../../Nonlinear/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-5" type="checkbox" checked/><label class="tocitem" for="menuitem-9-6-5"><span class="docs-label">Utilities</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#Utilities.Model"><span>Utilities.Model</span></a></li><li><a class="tocitem" href="#Utilities.UniversalFallback"><span>Utilities.UniversalFallback</span></a></li><li><a class="tocitem" href="#Utilities.@model"><span>Utilities.@model</span></a></li><li><a class="tocitem" href="#Utilities.CachingOptimizer"><span>Utilities.CachingOptimizer</span></a></li><li><a class="tocitem" href="#Printing"><span>Printing</span></a></li><li><a class="tocitem" href="#Utilities.PenaltyRelaxation"><span>Utilities.PenaltyRelaxation</span></a></li><li><a class="tocitem" href="#Utilities.MatrixOfConstraints"><span>Utilities.MatrixOfConstraints</span></a></li><li><a class="tocitem" href="#ModelFilter"><span>ModelFilter</span></a></li><li><a class="tocitem" href="#Fallbacks"><span>Fallbacks</span></a></li><li><a class="tocitem" href="#DoubleDicts"><span>DoubleDicts</span></a></li></ul></li><li><a class="tocitem" href="../reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-6" type="checkbox"/><label class="tocitem" for="menuitem-9-6-6"><span class="docs-label">Test</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Test/overview/">Overview</a></li><li><a class="tocitem" href="../../Test/reference/">API Reference</a></li></ul></li></ul></li><li><a class="tocitem" href="../../../release_notes/">Release notes</a></li></ul></li><li><a class="tocitem" href="../../../../release_notes/">Release notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">MathOptInterface</a></li><li><a class="is-disabled">Submodules</a></li><li><a class="is-disabled">Utilities</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jump-dev/JuMP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/moi/submodules/Utilities/overview.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="The-Utilities-submodule"><a class="docs-heading-anchor" href="#The-Utilities-submodule">The Utilities submodule</a><a id="The-Utilities-submodule-1"></a><a class="docs-heading-anchor-permalink" href="#The-Utilities-submodule" title="Permalink"></a></h1><p>The Utilities submodule provides a variety of functions and datastructures for managing <code>MOI.ModelLike</code> objects.</p><h2 id="Utilities.Model"><a class="docs-heading-anchor" href="#Utilities.Model">Utilities.Model</a><a id="Utilities.Model-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities.Model" title="Permalink"></a></h2><p><a href="../reference/#MathOptInterface.Utilities.Model"><code>Utilities.Model</code></a> provides an implementation of a <a href="../../../reference/models/#MathOptInterface.ModelLike"><code>ModelLike</code></a> that efficiently supports all functions and sets defined within MOI. However, given the extensibility of MOI, this might not cover all use cases.</p><p>Create a model as follows:</p><pre><code class="language-julia-repl hljs">julia&gt; model = MOI.Utilities.Model{Float64}()
MOIU.Model{Float64}</code></pre><h2 id="Utilities.UniversalFallback"><a class="docs-heading-anchor" href="#Utilities.UniversalFallback">Utilities.UniversalFallback</a><a id="Utilities.UniversalFallback-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities.UniversalFallback" title="Permalink"></a></h2><p><a href="../reference/#MathOptInterface.Utilities.UniversalFallback"><code>Utilities.UniversalFallback</code></a> is a layer that sits on top of any <a href="../../../reference/models/#MathOptInterface.ModelLike"><code>ModelLike</code></a> and provides non-specialized (slower) fallbacks for constraints and attributes that the underlying <a href="../../../reference/models/#MathOptInterface.ModelLike"><code>ModelLike</code></a> does not support.</p><p>For example, <a href="../reference/#MathOptInterface.Utilities.Model"><code>Utilities.Model</code></a> doesn&#39;t support some variable attributes like <a href="../../../reference/variables/#MathOptInterface.VariablePrimalStart"><code>VariablePrimalStart</code></a>, so JuMP uses a combination of Universal fallback and <a href="../reference/#MathOptInterface.Utilities.Model"><code>Utilities.Model</code></a> as a generic problem cache:</p><pre><code class="language-julia-repl hljs">julia&gt; model = MOI.Utilities.UniversalFallback(MOI.Utilities.Model{Float64}())
MOIU.UniversalFallback{MOIU.Model{Float64}}
fallback for MOIU.Model{Float64}</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Adding a UniversalFallback means that your <code>model</code> will now support all constraints, even if the inner-model does not. This can lead to unexpected behavior.</p></div></div><h2 id="Utilities.@model"><a class="docs-heading-anchor" href="#Utilities.@model">Utilities.@model</a><a id="Utilities.@model-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities.@model" title="Permalink"></a></h2><p>For advanced use cases that need efficient support for functions and sets defined outside of MOI (but still known at compile time), we provide the <a href="../reference/#MathOptInterface.Utilities.@model"><code>Utilities.@model</code></a> macro.</p><p>The <code>@model</code> macro takes a name (for a new type, which must not exist yet), eight tuples specifying the types of constraints that are supported, and then a <code>Bool</code> indicating the type is a subtype of <code>MOI.AbstractOptimizer</code> (if <code>true</code>) or <code>MOI.ModelLike</code> (if <code>false</code>).</p><p>The eight tuples are in the following order:</p><ol><li>Un-typed scalar sets, for example, <a href="../../../reference/standard_form/#MathOptInterface.Integer"><code>Integer</code></a></li><li>Typed scalar sets, for example, <a href="../../../reference/standard_form/#MathOptInterface.LessThan"><code>LessThan</code></a></li><li>Un-typed vector sets, for example, <a href="../../../reference/standard_form/#MathOptInterface.Nonnegatives"><code>Nonnegatives</code></a></li><li>Typed vector sets, for example, <a href="../../../reference/standard_form/#MathOptInterface.PowerCone"><code>PowerCone</code></a></li><li>Un-typed scalar functions, for example, <a href="../../../reference/standard_form/#MathOptInterface.VariableIndex"><code>VariableIndex</code></a></li><li>Typed scalar functions, for example, <a href="../../../reference/standard_form/#MathOptInterface.ScalarAffineFunction"><code>ScalarAffineFunction</code></a></li><li>Un-typed vector functions, for example, <a href="../../../reference/standard_form/#MathOptInterface.VectorOfVariables"><code>VectorOfVariables</code></a></li><li>Typed vector functions, for example, <a href="../../../reference/standard_form/#MathOptInterface.VectorAffineFunction"><code>VectorAffineFunction</code></a></li></ol><p>The tuples can contain more than one element. Typed-sets must be specified without their type parameter, for example, <code>MOI.LessThan</code>, not <code>MOI.LessThan{Float64}</code>.</p><p>Here is an example:</p><pre><code class="language-julia-repl hljs">julia&gt; MOI.Utilities.@model(
           MyNewModel,
           (MOI.Integer,),                  # Un-typed scalar sets
           (MOI.GreaterThan,),              # Typed scalar sets
           (MOI.Nonnegatives,),             # Un-typed vector sets
           (MOI.PowerCone,),                # Typed vector sets
           (MOI.VariableIndex,),            # Un-typed scalar functions
           (MOI.ScalarAffineFunction,),     # Typed scalar functions
           (MOI.VectorOfVariables,),        # Un-typed vector functions
           (MOI.VectorAffineFunction,),     # Typed vector functions
           true,                            # &lt;:MOI.AbstractOptimizer?
       )
MathOptInterface.Utilities.GenericOptimizer{T, MathOptInterface.Utilities.ObjectiveContainer{T}, MathOptInterface.Utilities.VariablesContainer{T}, MyNewModelFunctionConstraints{T}} where T

julia&gt; model = MyNewModel{Float64}()
MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MyNewModelFunctionConstraints{Float64}}</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p><code>MyNewModel</code> supports every <code>VariableIndex</code>-in-Set constraint, as well as <a href="../../../reference/standard_form/#MathOptInterface.VariableIndex"><code>VariableIndex</code></a>, <a href="../../../reference/standard_form/#MathOptInterface.ScalarAffineFunction"><code>ScalarAffineFunction</code></a>, and <a href="../../../reference/standard_form/#MathOptInterface.ScalarQuadraticFunction"><code>ScalarQuadraticFunction</code></a> objective functions. Implement <code>MOI.supports</code> as needed to forbid constraint and objective function combinations.</p></div></div><p>As another example, <a href="https://github.com/chkwon/PATHSolver.jl">PATHSolver</a>, which only supports <a href="../../../reference/standard_form/#MathOptInterface.VectorAffineFunction"><code>VectorAffineFunction</code></a>-in-<a href="../../../reference/standard_form/#MathOptInterface.Complements"><code>Complements</code></a> defines its optimizer as:</p><pre><code class="language-julia-repl hljs">julia&gt; MOI.Utilities.@model(
           PathOptimizer,
           (),  # Scalar sets
           (),  # Typed scalar sets
           (MOI.Complements,),  # Vector sets
           (),  # Typed vector sets
           (),  # Scalar functions
           (),  # Typed scalar functions
           (),  # Vector functions
           (MOI.VectorAffineFunction,),  # Typed vector functions
           true,  # is_optimizer
       )
MathOptInterface.Utilities.GenericOptimizer{T, MathOptInterface.Utilities.ObjectiveContainer{T}, MathOptInterface.Utilities.VariablesContainer{T}, MathOptInterface.Utilities.VectorOfConstraints{MathOptInterface.VectorAffineFunction{T}, MathOptInterface.Complements}} where T</code></pre><p>However, <code>PathOptimizer</code> does not support some <code>VariableIndex</code>-in-Set constraints, so we must explicitly define:</p><pre><code class="language-julia-repl hljs">julia&gt; function MOI.supports_constraint(
           ::PathOptimizer,
           ::Type{MOI.VariableIndex},
           ::Type{Union{&lt;:MOI.Semiinteger,MOI.Semicontinuous,MOI.ZeroOne,MOI.Integer}}
       )
           return false
       end</code></pre><p>Finally, PATH doesn&#39;t support an objective function, so we need to add:</p><pre><code class="language-julia-repl hljs">julia&gt; MOI.supports(::PathOptimizer, ::MOI.ObjectiveFunction) = false</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This macro creates a new type, so it must be called from the top-level of a module, for example, it cannot be called from inside a function.</p></div></div><h2 id="Utilities.CachingOptimizer"><a class="docs-heading-anchor" href="#Utilities.CachingOptimizer">Utilities.CachingOptimizer</a><a id="Utilities.CachingOptimizer-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities.CachingOptimizer" title="Permalink"></a></h2><p>A [<code>Utilities.CachingOptimizer</code>] is an MOI layer that abstracts the difference between solvers that support incremental modification (for example, they support adding variables one-by-one), and solvers that require the entire problem in a single API call (for example, they only accept the <code>A</code>, <code>b</code> and <code>c</code> matrices of a linear program).</p><p>It has two parts:</p><ol><li>A cache, where the model can be built and modified incrementally</li><li>An optimizer, which is used to solve the problem</li></ol><pre><code class="language-julia-repl hljs">julia&gt; model = MOI.Utilities.CachingOptimizer(
           MOI.Utilities.Model{Float64}(),
           PathOptimizer{Float64}(),
       )
MOIU.CachingOptimizer{MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MOIU.VectorOfConstraints{MOI.VectorAffineFunction{Float64}, MOI.Complements}}, MOIU.Model{Float64}}
in state EMPTY_OPTIMIZER
in mode AUTOMATIC
with model cache MOIU.Model{Float64}
with optimizer MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MOIU.VectorOfConstraints{MOI.VectorAffineFunction{Float64}, MOI.Complements}}</code></pre><p>A <a href="../reference/#MathOptInterface.Utilities.CachingOptimizer"><code>Utilities.CachingOptimizer</code></a> may be in one of three possible states:</p><ul><li><code>NO_OPTIMIZER</code>: The CachingOptimizer does not have any optimizer.</li><li><code>EMPTY_OPTIMIZER</code>: The CachingOptimizer has an empty optimizer, and it is not synchronized with the cached model. Modifications are forwarded to the cache, but <em>not</em> to the optimizer.</li><li><code>ATTACHED_OPTIMIZER</code>: The CachingOptimizer has an optimizer, and it is synchronized with the cached model. Modifications are forwarded to the optimizer. If the optimizer does not support modifications, and error will be thrown.</li></ul><p>Use <a href="../reference/#MathOptInterface.Utilities.attach_optimizer"><code>Utilities.attach_optimizer</code></a> to go from <code>EMPTY_OPTIMIZER</code> to <code>ATTACHED_OPTIMIZER</code>:</p><pre><code class="language-julia-repl hljs">julia&gt; MOI.Utilities.attach_optimizer(model)

julia&gt; model
MOIU.CachingOptimizer{MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MOIU.VectorOfConstraints{MOI.VectorAffineFunction{Float64}, MOI.Complements}}, MOIU.Model{Float64}}
in state ATTACHED_OPTIMIZER
in mode AUTOMATIC
with model cache MOIU.Model{Float64}
with optimizer MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MOIU.VectorOfConstraints{MOI.VectorAffineFunction{Float64}, MOI.Complements}}</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>You must be in <code>ATTACHED_OPTIMIZER</code> to use <a href="../../../reference/models/#MathOptInterface.optimize!"><code>optimize!</code></a>.</p></div></div><p>Use <a href="../reference/#MathOptInterface.Utilities.reset_optimizer"><code>Utilities.reset_optimizer</code></a> to go from <code>ATTACHED_OPTIMIZER</code> to <code>EMPTY_OPTIMIZER</code>:</p><pre><code class="language-julia-repl hljs">julia&gt; MOI.Utilities.reset_optimizer(model)

julia&gt; model
MOIU.CachingOptimizer{MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MOIU.VectorOfConstraints{MOI.VectorAffineFunction{Float64}, MOI.Complements}}, MOIU.Model{Float64}}
in state EMPTY_OPTIMIZER
in mode AUTOMATIC
with model cache MOIU.Model{Float64}
with optimizer MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MOIU.VectorOfConstraints{MOI.VectorAffineFunction{Float64}, MOI.Complements}}</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>Calling <code>MOI.empty!(model)</code> also resets the state to <code>EMPTY_OPTIMIZER</code>. So after emptying a model, the modification will only be applied to the cache.</p></div></div><p>Use <a href="../reference/#MathOptInterface.Utilities.drop_optimizer"><code>Utilities.drop_optimizer</code></a> to go from any state to <code>NO_OPTIMIZER</code>:</p><pre><code class="language-julia-repl hljs">julia&gt; MOI.Utilities.drop_optimizer(model)

julia&gt; model
MOIU.CachingOptimizer{MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MOIU.VectorOfConstraints{MOI.VectorAffineFunction{Float64}, MOI.Complements}}, MOIU.Model{Float64}}
in state NO_OPTIMIZER
in mode AUTOMATIC
with model cache MOIU.Model{Float64}
with optimizer nothing</code></pre><p>Pass an empty optimizer to <a href="../reference/#MathOptInterface.Utilities.reset_optimizer"><code>Utilities.reset_optimizer</code></a> to go from <code>NO_OPTIMIZER</code> to <code>EMPTY_OPTIMIZER</code>:</p><pre><code class="language-julia-repl hljs">julia&gt; MOI.Utilities.reset_optimizer(model, PathOptimizer{Float64}())

julia&gt; model
MOIU.CachingOptimizer{MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MOIU.VectorOfConstraints{MOI.VectorAffineFunction{Float64}, MOI.Complements}}, MOIU.Model{Float64}}
in state EMPTY_OPTIMIZER
in mode AUTOMATIC
with model cache MOIU.Model{Float64}
with optimizer MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MOIU.VectorOfConstraints{MOI.VectorAffineFunction{Float64}, MOI.Complements}}</code></pre><p>Deciding when to attach and reset the optimizer is tedious, and you will often write code like this:</p><pre><code class="language-julia hljs">try
    # modification
catch
    MOI.Utilities.reset_optimizer(model)
    # Re-try modification
end</code></pre><p>To make this easier, <a href="../reference/#MathOptInterface.Utilities.CachingOptimizer"><code>Utilities.CachingOptimizer</code></a> has two modes of operation:</p><ul><li><code>AUTOMATIC</code>: The <code>CachingOptimizer</code> changes its state when necessary. Attempting to add a constraint or perform a modification not supported by the optimizer results in a drop to <code>EMPTY_OPTIMIZER</code> mode.</li><li><code>MANUAL</code>: The user must change the state of the <code>CachingOptimizer</code>. Attempting to perform an operation in the incorrect state results in an error.</li></ul><p>By default, <code>AUTOMATIC</code> mode is chosen. However, you can create a <code>CachingOptimizer</code> in <code>MANUAL</code> mode as follows:</p><pre><code class="language-julia-repl hljs">julia&gt; model = MOI.Utilities.CachingOptimizer(
           MOI.Utilities.Model{Float64}(),
           MOI.Utilities.MANUAL,
       )
MOIU.CachingOptimizer{MOI.AbstractOptimizer, MOIU.Model{Float64}}
in state NO_OPTIMIZER
in mode MANUAL
with model cache MOIU.Model{Float64}
with optimizer nothing

julia&gt; MOI.Utilities.reset_optimizer(model, PathOptimizer{Float64}())

julia&gt; model
MOIU.CachingOptimizer{MOI.AbstractOptimizer, MOIU.Model{Float64}}
in state EMPTY_OPTIMIZER
in mode MANUAL
with model cache MOIU.Model{Float64}
with optimizer MOIU.GenericOptimizer{Float64, MOIU.ObjectiveContainer{Float64}, MOIU.VariablesContainer{Float64}, MOIU.VectorOfConstraints{MOI.VectorAffineFunction{Float64}, MOI.Complements}}</code></pre><h2 id="Printing"><a class="docs-heading-anchor" href="#Printing">Printing</a><a id="Printing-1"></a><a class="docs-heading-anchor-permalink" href="#Printing" title="Permalink"></a></h2><p>Use <code>print</code> to print the formulation of the model.</p><pre><code class="language-julia-repl hljs">julia&gt; model = MOI.Utilities.Model{Float64}();

julia&gt; x = MOI.add_variable(model)
MOI.VariableIndex(1)

julia&gt; MOI.set(model, MOI.VariableName(), x, &quot;x_var&quot;)

julia&gt; MOI.add_constraint(model, x, MOI.ZeroOne())
MathOptInterface.ConstraintIndex{MathOptInterface.VariableIndex, MathOptInterface.ZeroOne}(1)

julia&gt; MOI.set(model, MOI.ObjectiveFunction{typeof(x)}(), x)

julia&gt; MOI.set(model, MOI.ObjectiveSense(), MOI.MAX_SENSE)

julia&gt; print(model)
Maximize VariableIndex:
 x_var

Subject to:

VariableIndex-in-ZeroOne
 x_var ∈ {0, 1}</code></pre><p>Use <a href="../reference/#MathOptInterface.Utilities.latex_formulation"><code>Utilities.latex_formulation</code></a> to display the model in LaTeX form:</p><pre><code class="language-julia-repl hljs">julia&gt; MOI.Utilities.latex_formulation(model)
$$ \begin{aligned}
\max\quad &amp; x\_var \\
\text{Subject to}\\
 &amp; \text{VariableIndex-in-ZeroOne} \\
 &amp; x\_var \in \{0, 1\} \\
\end{aligned} $$</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>In IJulia, calling <code>print</code> or ending a cell with <a href="../reference/#MathOptInterface.Utilities.latex_formulation"><code>Utilities.latex_formulation</code></a> will render the model in LaTeX.</p></div></div><h2 id="Utilities.PenaltyRelaxation"><a class="docs-heading-anchor" href="#Utilities.PenaltyRelaxation">Utilities.PenaltyRelaxation</a><a id="Utilities.PenaltyRelaxation-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities.PenaltyRelaxation" title="Permalink"></a></h2><p>Pass <a href="../reference/#MathOptInterface.Utilities.PenaltyRelaxation"><code>Utilities.PenaltyRelaxation</code></a> to <a href="../../../reference/modification/#MathOptInterface.modify"><code>modify</code></a> to relax the problem by adding penalized slack variables to the constraints. This is helpful when debugging sources of infeasible models.</p><pre><code class="language-julia-repl hljs">julia&gt; model = MOI.Utilities.Model{Float64}();

julia&gt; x = MOI.add_variable(model);

julia&gt; MOI.set(model, MOI.VariableName(), x, &quot;x&quot;)

julia&gt; c = MOI.add_constraint(model, 1.0 * x, MOI.LessThan(2.0));

julia&gt; map = MOI.modify(model, MOI.Utilities.PenaltyRelaxation(Dict(c =&gt; 2.0)));

julia&gt; print(model)
Minimize ScalarAffineFunction{Float64}:
 0.0 + 2.0 v[2]

Subject to:

ScalarAffineFunction{Float64}-in-LessThan{Float64}
 0.0 + 1.0 x - 1.0 v[2] &lt;= 2.0

VariableIndex-in-GreaterThan{Float64}
 v[2] &gt;= 0.0

julia&gt; map[c]
0.0 + 1.0 MOI.VariableIndex(2)</code></pre><p>You can also modify a single constraint using <a href="../reference/#MathOptInterface.Utilities.ScalarPenaltyRelaxation"><code>Utilities.ScalarPenaltyRelaxation</code></a>:</p><pre><code class="language-julia-repl hljs">julia&gt; model = MOI.Utilities.Model{Float64}();

julia&gt; x = MOI.add_variable(model);

julia&gt; MOI.set(model, MOI.VariableName(), x, &quot;x&quot;)

julia&gt; c = MOI.add_constraint(model, 1.0 * x, MOI.LessThan(2.0));

julia&gt; f = MOI.modify(model, c, MOI.Utilities.ScalarPenaltyRelaxation(2.0));

julia&gt; print(model)
Minimize ScalarAffineFunction{Float64}:
 0.0 + 2.0 v[2]

Subject to:

ScalarAffineFunction{Float64}-in-LessThan{Float64}
 0.0 + 1.0 x - 1.0 v[2] &lt;= 2.0

VariableIndex-in-GreaterThan{Float64}
 v[2] &gt;= 0.0

julia&gt; f
0.0 + 1.0 MOI.VariableIndex(2)</code></pre><h2 id="Utilities.MatrixOfConstraints"><a class="docs-heading-anchor" href="#Utilities.MatrixOfConstraints">Utilities.MatrixOfConstraints</a><a id="Utilities.MatrixOfConstraints-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities.MatrixOfConstraints" title="Permalink"></a></h2><p>The constraints of <a href="../reference/#MathOptInterface.Utilities.Model"><code>Utilities.Model</code></a> are stored as a vector of tuples of function and set in a <code>Utilities.VectorOfConstraints</code>. Other representations can be used by parameterizing the type <a href="../reference/#MathOptInterface.Utilities.GenericModel"><code>Utilities.GenericModel</code></a> (resp. <a href="../reference/#MathOptInterface.Utilities.GenericOptimizer"><code>Utilities.GenericOptimizer</code></a>). For instance, if all non-<code>VariableIndex</code> constraints are affine, the coefficients of all the constraints can be stored in a single sparse matrix using <a href="../reference/#MathOptInterface.Utilities.MatrixOfConstraints"><code>Utilities.MatrixOfConstraints</code></a>. The constraints storage can even be customized up to a point where it exactly matches the storage of the solver of interest, in which case <a href="../../../reference/models/#MathOptInterface.copy_to"><code>copy_to</code></a> can be implemented for the solver by calling <a href="../../../reference/models/#MathOptInterface.copy_to"><code>copy_to</code></a> to this custom model.</p><p>For instance, <a href="https://github.com/jump-dev/Clp.jl">Clp</a> defines the following model:</p><pre><code class="language-julia hljs">MOI.Utilities.@product_of_scalar_sets(LP, MOI.EqualTo{T}, MOI.LessThan{T}, MOI.GreaterThan{T})
const Model = MOI.Utilities.GenericModel{
    Float64,
    MOI.Utilities.MatrixOfConstraints{
        Float64,
        MOI.Utilities.MutableSparseMatrixCSC{Float64,Cint,MOI.Utilities.ZeroBasedIndexing},
        MOI.Utilities.Hyperrectangle{Float64},
        LP{Float64},
    },
}</code></pre><p>The <a href="../../../reference/models/#MathOptInterface.copy_to"><code>copy_to</code></a> operation can now be implemented as follows:</p><pre><code class="language-julia hljs">function _copy_to(dest::Optimizer, src::Model)
    @assert MOI.is_empty(dest)
    A = src.constraints.coefficients
    row_bounds = src.constraints.constants
    Clp_loadProblem(
        dest,
        A.n,
        A.m,
        A.colptr,
        A.rowval,
        A.nzval,
        src.lower_bound,
        src.upper_bound,
        # (...) objective vector (omitted),
        row_bounds.lower,
        row_bounds.upper,
    )
    # Set objective sense and constant (omitted)
    return
end

function MOI.copy_to(dest::Optimizer, src::Model)
    _copy_to(dest, src)
    return MOI.Utilities.identity_index_map(src)
end

function MOI.copy_to(
    dest::Optimizer,
    src::MOI.Utilities.UniversalFallback{Model},
)
    # Copy attributes from `src` to `dest` and error in case any unsupported
    # constraints or attributes are set in `UniversalFallback`.
    return MOI.copy_to(dest, src.model)
end

function MOI.copy_to(
    dest::Optimizer,
    src::MOI.ModelLike,
)
    model = Model()
    index_map = MOI.copy_to(model, src)
    _copy_to(dest, model)
    return index_map
end</code></pre><h2 id="ModelFilter"><a class="docs-heading-anchor" href="#ModelFilter">ModelFilter</a><a id="ModelFilter-1"></a><a class="docs-heading-anchor-permalink" href="#ModelFilter" title="Permalink"></a></h2><p>Utilities provides <a href="../reference/#MathOptInterface.Utilities.ModelFilter"><code>Utilities.ModelFilter</code></a> as a useful tool to copy a subset of a model. For example, given an infeasible model, we can copy the irreducible infeasible subsystem (for models implementing <a href="../../../reference/models/#MathOptInterface.ConstraintConflictStatus"><code>ConstraintConflictStatus</code></a>) as follows:</p><pre><code class="language-julia hljs">my_filter(::Any) = true
function my_filter(ci::MOI.ConstraintIndex)
    status = MOI.get(dest, MOI.ConstraintConflictStatus(), ci)
    return status != MOI.NOT_IN_CONFLICT
end
filtered_src = MOI.Utilities.ModelFilter(my_filter, src)
index_map = MOI.copy_to(dest, filtered_src)</code></pre><h2 id="Fallbacks"><a class="docs-heading-anchor" href="#Fallbacks">Fallbacks</a><a id="Fallbacks-1"></a><a class="docs-heading-anchor-permalink" href="#Fallbacks" title="Permalink"></a></h2><p>The value of some attributes can be inferred from the value of other attributes.</p><p>For example, the value of <a href="../../../reference/models/#MathOptInterface.ObjectiveValue"><code>ObjectiveValue</code></a> can be computed using <a href="../../../reference/models/#MathOptInterface.ObjectiveFunction"><code>ObjectiveFunction</code></a> and <a href="../../../reference/variables/#MathOptInterface.VariablePrimal"><code>VariablePrimal</code></a>.</p><p>When a solver gives direct access to an attribute, it is better to return this value. However, if this is not the case, <a href="../reference/#MathOptInterface.Utilities.get_fallback"><code>Utilities.get_fallback</code></a> can be used instead. For example:</p><pre><code class="language-julia hljs">function MOI.get(model::Optimizer, attr::MOI.ObjectiveFunction)
    return MOI.Utilities.get_fallback(model, attr)
end</code></pre><h2 id="DoubleDicts"><a class="docs-heading-anchor" href="#DoubleDicts">DoubleDicts</a><a id="DoubleDicts-1"></a><a class="docs-heading-anchor-permalink" href="#DoubleDicts" title="Permalink"></a></h2><p>When writing MOI interfaces, we often need to handle situations in which we map <a href="../../../reference/constraints/#MathOptInterface.ConstraintIndex"><code>ConstraintIndex</code></a>s to different values. For example, to a string for <a href="../../../reference/constraints/#MathOptInterface.ConstraintName"><code>ConstraintName</code></a>.</p><p>One option is to use a dictionary like <code>Dict{MOI.ConstraintIndex,String}</code>. However, this incurs a performance cost because the key is not a concrete type.</p><p>The DoubleDicts submodule helps this situation by providing two types main types <a href="../reference/#MathOptInterface.Utilities.DoubleDicts.DoubleDict"><code>Utilities.DoubleDicts.DoubleDict</code></a> and <a href="../reference/#MathOptInterface.Utilities.DoubleDicts.IndexDoubleDict"><code>Utilities.DoubleDicts.IndexDoubleDict</code></a>. These types act like normal dictionaries, but internally they use more efficient dictionaries specialized to the type of the function-set pair.</p><p>The most common usage of a <code>DoubleDict</code> is in the <code>index_map</code> returned by <a href="../../../reference/models/#MathOptInterface.copy_to"><code>copy_to</code></a>. Performance can be improved, by using a function barrier. That is, instead of code like:</p><pre><code class="language-julia hljs">index_map = MOI.copy_to(dest, src)
for (F, S) in MOI.get(src, MOI.ListOfConstraintTypesPresent())
    for ci in MOI.get(src, MOI.ListOfConstraintIndices{F,S}())
        dest_ci = index_map[ci]
        # ...
    end
end</code></pre><p>use instead:</p><pre><code class="language-julia hljs">function function_barrier(
    dest,
    src,
    index_map::MOI.Utilities.DoubleDicts.IndexDoubleDictInner{F,S},
) where {F,S}
    for ci in MOI.get(src, MOI.ListOfConstraintIndices{F,S}())
        dest_ci = index_map[ci]
        # ...
    end
    return
end

index_map = MOI.copy_to(dest, src)
for (F, S) in MOI.get(src, MOI.ListOfConstraintTypesPresent())
    function_barrier(dest, src, index_map[F, S])
end</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../Nonlinear/reference/">« API Reference</a><a class="docs-footer-nextpage" href="../reference/">API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.28.0-DEV on <span class="colophon-date" title="Wednesday 3 May 2023 03:42">Wednesday 3 May 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
