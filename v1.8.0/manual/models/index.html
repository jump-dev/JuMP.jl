<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Models · JuMP</title><meta name="title" content="Models · JuMP"/><meta property="og:title" content="Models · JuMP"/><meta property="twitter:title" content="Models · JuMP"/><meta name="description" content="Documentation for JuMP."/><meta property="og:description" content="Documentation for JuMP."/><meta property="twitter:description" content="Documentation for JuMP."/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-44252521-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-44252521-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/extra_styles.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="JuMP logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="JuMP logo"/></a><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../should_i_use/">Should I use JuMP?</a></li><li><a class="tocitem" href="../../installation/">Installation Guide</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/getting_started/introduction/">Introduction</a></li><li><a class="tocitem" href="../../tutorials/getting_started/getting_started_with_julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../../tutorials/getting_started/getting_started_with_JuMP/">Getting started with JuMP</a></li><li><a class="tocitem" href="../../tutorials/getting_started/getting_started_with_sets_and_indexing/">Getting started with sets and indexing</a></li><li><a class="tocitem" href="../../tutorials/getting_started/getting_started_with_data_and_plotting/">Getting started with data and plotting</a></li><li><a class="tocitem" href="../../tutorials/getting_started/debugging/">Debugging</a></li><li><a class="tocitem" href="../../tutorials/getting_started/design_patterns_for_larger_models/">Design patterns for larger models</a></li><li><a class="tocitem" href="../../tutorials/getting_started/performance_tips/">Performance tips</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Linear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/linear/introduction/">Introduction</a></li><li><a class="tocitem" href="../../tutorials/linear/diet/">The diet problem</a></li><li><a class="tocitem" href="../../tutorials/linear/cannery/">The cannery problem</a></li><li><a class="tocitem" href="../../tutorials/linear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../tutorials/linear/facility_location/">The facility location problem</a></li><li><a class="tocitem" href="../../tutorials/linear/factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../../tutorials/linear/finance/">Financial modeling problems</a></li><li><a class="tocitem" href="../../tutorials/linear/geographic_clustering/">Geographical clustering</a></li><li><a class="tocitem" href="../../tutorials/linear/multi_objective_knapsack/">Multi-objective knapsack</a></li><li><a class="tocitem" href="../../tutorials/linear/multi_objective_examples/">Simple multi-objective examples</a></li><li><a class="tocitem" href="../../tutorials/linear/knapsack/">The knapsack problem example</a></li><li><a class="tocitem" href="../../tutorials/linear/multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../../tutorials/linear/n-queens/">N-Queens</a></li><li><a class="tocitem" href="../../tutorials/linear/lp_sensitivity/">Sensitivity analysis of a linear program</a></li><li><a class="tocitem" href="../../tutorials/linear/network_flows/">Network flow problems</a></li><li><a class="tocitem" href="../../tutorials/linear/sudoku/">Sudoku</a></li><li><a class="tocitem" href="../../tutorials/linear/transp/">The transportation problem</a></li><li><a class="tocitem" href="../../tutorials/linear/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../tutorials/linear/constraint_programming/">Constraint programming</a></li><li><a class="tocitem" href="../../tutorials/linear/mip_duality/">Computing the duals of a mixed-integer program</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Nonlinear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/nonlinear/introduction/">Introduction</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/simple_examples/">Simple examples</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/portfolio/">Quadratic portfolio optimization</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/rocket_control/">Rocket Control</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/space_shuttle_reentry_trajectory/">Optimal control for a Space Shuttle reentry trajectory</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/user_defined_hessians/">User-defined Hessians</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/querying_hessians/">Computing Hessians</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Conic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/conic/introduction/">Introduction</a></li><li><a class="tocitem" href="../../tutorials/conic/start_values/">Primal and dual warm-starts</a></li><li><a class="tocitem" href="../../tutorials/conic/tips_and_tricks/">Tips and Tricks</a></li><li><a class="tocitem" href="../../tutorials/conic/logistic_regression/">Logistic regression</a></li><li><a class="tocitem" href="../../tutorials/conic/cluster/">K-means clustering via SDP</a></li><li><a class="tocitem" href="../../tutorials/conic/corr_sdp/">The correlation problem</a></li><li><a class="tocitem" href="../../tutorials/conic/experiment_design/">Experiment design</a></li><li><a class="tocitem" href="../../tutorials/conic/max_cut_sdp/">SDP relaxations: max-cut</a></li><li><a class="tocitem" href="../../tutorials/conic/min_distortion/">The minimum distortion problem</a></li><li><a class="tocitem" href="../../tutorials/conic/min_ellipse/">Minimal ellipses</a></li><li><a class="tocitem" href="../../tutorials/conic/ellipse_approx/">Ellipsoid approximation</a></li><li><a class="tocitem" href="../../tutorials/conic/robust_uncertainty/">Robust uncertainty sets</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Algorithms</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/algorithms/benders_decomposition/">Benders decomposition</a></li><li><a class="tocitem" href="../../tutorials/algorithms/cutting_stock_column_generation/">Column generation</a></li><li><a class="tocitem" href="../../tutorials/algorithms/tsp_lazy_constraints/">Traveling Salesperson Problem</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-6" type="checkbox"/><label class="tocitem" for="menuitem-2-6"><span class="docs-label">Applications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/applications/power_systems/">Power Systems</a></li><li><a class="tocitem" href="../../tutorials/applications/web_app/">Serving web apps</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Models</a><ul class="internal"><li><a class="tocitem" href="#Create-a-model"><span>Create a model</span></a></li><li><a class="tocitem" href="#solver_options"><span>Solver options</span></a></li><li><a class="tocitem" href="#Print-the-model"><span>Print the model</span></a></li><li><a class="tocitem" href="#Turn-off-output"><span>Turn off output</span></a></li><li><a class="tocitem" href="#Set-a-time-limit"><span>Set a time limit</span></a></li><li><a class="tocitem" href="#Write-a-model-to-file"><span>Write a model to file</span></a></li><li><a class="tocitem" href="#Read-a-model-from-file"><span>Read a model from file</span></a></li><li><a class="tocitem" href="#Relax-integrality"><span>Relax integrality</span></a></li><li><a class="tocitem" href="#Backends"><span>Backends</span></a></li><li><a class="tocitem" href="#Direct-mode"><span>Direct mode</span></a></li></ul></li><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../constraints/">Constraints</a></li><li><a class="tocitem" href="../expressions/">Expressions</a></li><li><a class="tocitem" href="../objective/">Objectives</a></li><li><a class="tocitem" href="../containers/">Containers</a></li><li><a class="tocitem" href="../solutions/">Solutions</a></li><li><a class="tocitem" href="../nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../callbacks/">Solver-independent Callbacks</a></li><li><a class="tocitem" href="../complex/">Complex number support</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../reference/models/">Models</a></li><li><a class="tocitem" href="../../reference/variables/">Variables</a></li><li><a class="tocitem" href="../../reference/expressions/">Expressions</a></li><li><a class="tocitem" href="../../reference/objectives/">Objectives</a></li><li><a class="tocitem" href="../../reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../reference/containers/">Containers</a></li><li><a class="tocitem" href="../../reference/solutions/">Solutions</a></li><li><a class="tocitem" href="../../reference/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../reference/extensions/">Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Background Information</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../background/algebraic_modeling_languages/">Algebraic modeling languages</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../developers/contributing/">Contributing</a></li><li><a class="tocitem" href="../../developers/extensions/">Extensions</a></li><li><a class="tocitem" href="../../developers/custom_solver_binaries/">Custom binaries</a></li><li><a class="tocitem" href="../../developers/style/">Style Guide</a></li><li><a class="tocitem" href="../../developers/roadmap/">Roadmap</a></li></ul></li><li><a class="tocitem" href="../../release_notes/">Release notes</a></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">MathOptInterface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-8-1" type="checkbox"/><label class="tocitem" for="menuitem-8-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/">Introduction</a></li><li><a class="tocitem" href="../../moi/background/motivation/">Motivation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-2" type="checkbox"/><label class="tocitem" for="menuitem-8-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/tutorials/example/">Solving a problem using MathOptInterface</a></li><li><a class="tocitem" href="../../moi/tutorials/implementing/">Implementing a solver interface</a></li><li><a class="tocitem" href="../../moi/tutorials/mathprogbase/">Transitioning from MathProgBase</a></li><li><a class="tocitem" href="../../moi/tutorials/bridging_constraint/">Implementing a constraint bridge</a></li><li><a class="tocitem" href="../../moi/tutorials/manipulating_expressions/">Manipulating expressions</a></li><li><a class="tocitem" href="../../moi/tutorials/latency/">Latency</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-3" type="checkbox"/><label class="tocitem" for="menuitem-8-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/manual/standard_form/">Standard form problem</a></li><li><a class="tocitem" href="../../moi/manual/models/">Models</a></li><li><a class="tocitem" href="../../moi/manual/variables/">Variables</a></li><li><a class="tocitem" href="../../moi/manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../moi/manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../moi/manual/modification/">Problem modification</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-4" type="checkbox"/><label class="tocitem" for="menuitem-8-4"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/background/duality/">Duality</a></li><li><a class="tocitem" href="../../moi/background/infeasibility_certificates/">Infeasibility certificates</a></li><li><a class="tocitem" href="../../moi/background/naming_conventions/">Naming conventions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-5" type="checkbox"/><label class="tocitem" for="menuitem-8-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/reference/standard_form/">Standard form</a></li><li><a class="tocitem" href="../../moi/reference/models/">Models</a></li><li><a class="tocitem" href="../../moi/reference/variables/">Variables</a></li><li><a class="tocitem" href="../../moi/reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../moi/reference/modification/">Modifications</a></li><li><a class="tocitem" href="../../moi/reference/nonlinear/">Nonlinear programming</a></li><li><a class="tocitem" href="../../moi/reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../moi/reference/errors/">Errors</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6" type="checkbox"/><label class="tocitem" for="menuitem-8-6"><span class="docs-label">Submodules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-8-6-1" type="checkbox"/><label class="tocitem" for="menuitem-8-6-1"><span class="docs-label">Benchmarks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/Benchmarks/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/Benchmarks/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-2" type="checkbox"/><label class="tocitem" for="menuitem-8-6-2"><span class="docs-label">Bridges</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/Bridges/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/Bridges/list_of_bridges/">List of bridges</a></li><li><a class="tocitem" href="../../moi/submodules/Bridges/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-3" type="checkbox"/><label class="tocitem" for="menuitem-8-6-3"><span class="docs-label">FileFormats</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/FileFormats/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/FileFormats/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-4" type="checkbox"/><label class="tocitem" for="menuitem-8-6-4"><span class="docs-label">Nonlinear</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/Nonlinear/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/Nonlinear/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-5" type="checkbox"/><label class="tocitem" for="menuitem-8-6-5"><span class="docs-label">Utilities</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/Utilities/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/Utilities/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-6" type="checkbox"/><label class="tocitem" for="menuitem-8-6-6"><span class="docs-label">Test</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/Test/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/Test/reference/">API Reference</a></li></ul></li></ul></li><li><a class="tocitem" href="../../moi/release_notes/">Release notes</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Models</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jump-dev/JuMP.jl" title="View the repository on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/manual/models.md" title="Edit source on GitHub"><span class="docs-icon fas"></span></a><a class="docs-settings-button docs-navbar-link fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button docs-navbar-link fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="jump_models"><a class="docs-heading-anchor" href="#jump_models">Models</a><a id="jump_models-1"></a><a class="docs-heading-anchor-permalink" href="#jump_models" title="Permalink"></a></h1><p>JuMP models are the fundamental building block that we use to construct optimization problems. They hold things like the variables and constraints, as well as which solver to use and even solution information.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>JuMP uses &quot;optimizer&quot; as a synonym for &quot;solver.&quot; Our convention is to use &quot;solver&quot; to refer to the underlying software, and use &quot;optimizer&quot; to refer to the Julia object that wraps the solver. For example, <code>HiGHS</code> is a solver, and <code>HiGHS.Optimizer</code> is an optimizer.</p></div></div><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>See <a href="../../installation/#Supported-solvers">Supported solvers</a> for a list of available solvers.</p></div></div><h2 id="Create-a-model"><a class="docs-heading-anchor" href="#Create-a-model">Create a model</a><a id="Create-a-model-1"></a><a class="docs-heading-anchor-permalink" href="#Create-a-model" title="Permalink"></a></h2><p>Create a model by passing an optimizer to <a href="../../reference/models/#JuMP.Model"><code>Model</code></a>:</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model(HiGHS.Optimizer)
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: HiGHS</code></pre><p>If you don&#39;t know which optimizer you will be using at creation time, create a model without an optimizer, and then call <a href="../../reference/models/#JuMP.set_optimizer"><code>set_optimizer</code></a> at any time prior to <a href="../../reference/solutions/#JuMP.optimize!"><code>optimize!</code></a>:</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model()
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: NO_OPTIMIZER
Solver name: No optimizer attached.

julia&gt; set_optimizer(model, HiGHS.Optimizer)</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Don&#39;t know what the fields <code>Model mode</code> and <code>CachingOptimizer state</code> mean? Read the <a href="#Backends">Backends</a> section.</p></div></div><h3 id="What-is-the-difference?"><a class="docs-heading-anchor" href="#What-is-the-difference?">What is the difference?</a><a id="What-is-the-difference?-1"></a><a class="docs-heading-anchor-permalink" href="#What-is-the-difference?" title="Permalink"></a></h3><p>For most models, there is no difference between passing the optimizer to <a href="../../reference/models/#JuMP.Model"><code>Model</code></a>, and calling <a href="../../reference/models/#JuMP.set_optimizer"><code>set_optimizer</code></a>.</p><p>However, if an optimizer does not support a constraint in the model, the timing of when an error will be thrown can differ:</p><ul><li>If you pass an optimizer, an error will be thrown when you try to add the constraint.</li><li>If you call <a href="../../reference/models/#JuMP.set_optimizer"><code>set_optimizer</code></a>, an error will be thrown when you try to solve the model via <a href="../../reference/solutions/#JuMP.optimize!"><code>optimize!</code></a>.</li></ul><p>Therefore, most users should pass an optimizer to <a href="../../reference/models/#JuMP.Model"><code>Model</code></a> because it provides the earliest warning that your solver is not suitable for the model you are trying to build. However, if you are modifying a problem by adding and deleting different constraint types, you may need to use <a href="../../reference/models/#JuMP.set_optimizer"><code>set_optimizer</code></a>. See <a href="#Switching-optimizer-for-the-relaxed-problem">Switching optimizer for the relaxed problem</a> for an example of when this is useful.</p><h3 id="Reducing-time-to-first-solve-latency"><a class="docs-heading-anchor" href="#Reducing-time-to-first-solve-latency">Reducing time-to-first-solve latency</a><a id="Reducing-time-to-first-solve-latency-1"></a><a class="docs-heading-anchor-permalink" href="#Reducing-time-to-first-solve-latency" title="Permalink"></a></h3><p>By default, JuMP uses <a href="#LazyBridgeOptimizer">bridges</a> to reformulate the model you are building into an equivalent model supported by the solver.</p><p>However, if your model is already supported by the solver, bridges add latency (read <a href="../../tutorials/getting_started/performance_tips/#The-&quot;time-to-first-solve&quot;-issue">The &quot;time-to-first-solve&quot; issue</a>). This is particularly noticeable for small models.</p><p>To reduce the &quot;time-to-first-solve&quot;, try passing <code>add_bridges = false</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model(HiGHS.Optimizer; add_bridges = false);</code></pre><p>or</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model();

julia&gt; set_optimizer(model, HiGHS.Optimizer; add_bridges = false)</code></pre><p>However, be wary! If your model and solver combination needs bridges, an error will be thrown:</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model(SCS.Optimizer; add_bridges = false);


julia&gt; @variable(model, x)
x

julia&gt; @constraint(model, 2x &lt;= 1)
ERROR: Constraints of type MathOptInterface.ScalarAffineFunction{Float64}-in-MathOptInterface.LessThan{Float64} are not supported by the solver.

If you expected the solver to support your problem, you may have an error in your formulation. Otherwise, consider using a different solver.

The list of available solvers, along with the problem types they support, is available at https://jump.dev/JuMP.jl/stable/installation/#Supported-solvers.
[...]</code></pre><h3 id="Solvers-which-expect-environments"><a class="docs-heading-anchor" href="#Solvers-which-expect-environments">Solvers which expect environments</a><a id="Solvers-which-expect-environments-1"></a><a class="docs-heading-anchor-permalink" href="#Solvers-which-expect-environments" title="Permalink"></a></h3><p>Some solvers accept (or require) positional arguments such as a license environment or a path to a binary executable. For these solvers, you can pass a function to <a href="../../reference/models/#JuMP.Model"><code>Model</code></a> which takes zero arguments and returns an instance of the optimizer.</p><p>A common use-case for this is passing an environment to Gurobi:</p><pre><code class="language-julia hljs">julia&gt; grb_env = Gurobi.Env();

julia&gt; model = Model(() -&gt; Gurobi.Optimizer(grb_env))
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: Gurobi</code></pre><h2 id="solver_options"><a class="docs-heading-anchor" href="#solver_options">Solver options</a><a id="solver_options-1"></a><a class="docs-heading-anchor-permalink" href="#solver_options" title="Permalink"></a></h2><p>JuMP uses &quot;attribute&quot; as a synonym for &quot;option.&quot; Use <a href="../../reference/models/#JuMP.optimizer_with_attributes"><code>optimizer_with_attributes</code></a> to create an optimizer with some attributes initialized:</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model(
           optimizer_with_attributes(HiGHS.Optimizer, &quot;output_flag&quot; =&gt; false),
       )
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: HiGHS</code></pre><p>Alternatively, use <a href="../../reference/models/#JuMP.set_optimizer_attribute"><code>set_optimizer_attribute</code></a> to set an attribute after the model has been created:</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model(HiGHS.Optimizer);

julia&gt; set_optimizer_attribute(model, &quot;output_flag&quot;, false)

julia&gt; get_optimizer_attribute(model, &quot;output_flag&quot;)
false</code></pre><p>You can also modify attributes within an <a href="../../reference/models/#JuMP.optimizer_with_attributes"><code>optimizer_with_attributes</code></a> object:</p><pre><code class="language-julia-repl hljs">julia&gt; solver = optimizer_with_attributes(HiGHS.Optimizer, &quot;output_flag&quot; =&gt; true);

julia&gt; get_optimizer_attribute(solver, &quot;output_flag&quot;)
true

julia&gt; set_optimizer_attribute(solver, &quot;output_flag&quot;, false)

julia&gt; get_optimizer_attribute(solver, &quot;output_flag&quot;)
false

julia&gt; model = Model(solver);</code></pre><h2 id="Print-the-model"><a class="docs-heading-anchor" href="#Print-the-model">Print the model</a><a id="Print-the-model-1"></a><a class="docs-heading-anchor-permalink" href="#Print-the-model" title="Permalink"></a></h2><p>By default, <code>show(model)</code> will print a summary of the problem:</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model(); @variable(model, x &gt;= 0); @objective(model, Max, x);

julia&gt; model
A JuMP Model
Maximization problem with:
Variable: 1
Objective function type: VariableRef
`VariableRef`-in-`MathOptInterface.GreaterThan{Float64}`: 1 constraint
Model mode: AUTOMATIC
CachingOptimizer state: NO_OPTIMIZER
Solver name: No optimizer attached.
Names registered in the model: x</code></pre><p>Use <code>print</code> to print the formulation of the model (in IJulia, this will render as LaTeX.</p><pre><code class="language-julia-repl hljs">julia&gt; print(model)
Max x
Subject to
 x ≥ 0.0</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This format is specific to JuMP and may change in any future release. It is not intended to be an instance format. To write the model to a file, use <a href="../../reference/models/#JuMP.write_to_file"><code>write_to_file</code></a> instead.</p></div></div><p>Use <a href="../../reference/models/#JuMP.latex_formulation"><code>latex_formulation</code></a> to display the model in LaTeX form.</p><pre><code class="language-julia-repl hljs">julia&gt; latex_formulation(model)
$$ \begin{aligned}
\max\quad &amp; x\\
\text{Subject to} \quad &amp; x \geq 0.0\\
\end{aligned} $$</code></pre><p>In IJulia (and Documenter), ending a cell in with <a href="../../reference/models/#JuMP.latex_formulation"><code>latex_formulation</code></a> will render the model in LaTeX!</p><pre><code class="language-julia hljs">latex_formulation(model)</code></pre><p class="math-container">\[ \begin{aligned}
\max\quad &amp; x\\
\text{Subject to} \quad &amp; x \geq 0.0\\
\end{aligned} \]</p><h2 id="Turn-off-output"><a class="docs-heading-anchor" href="#Turn-off-output">Turn off output</a><a id="Turn-off-output-1"></a><a class="docs-heading-anchor-permalink" href="#Turn-off-output" title="Permalink"></a></h2><p>Use <a href="../../reference/models/#JuMP.set_silent"><code>set_silent</code></a> and <a href="../../reference/models/#JuMP.unset_silent"><code>unset_silent</code></a> to disable or enable printing output from the solver.</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model(HiGHS.Optimizer);

julia&gt; set_silent(model)

julia&gt; unset_silent(model)</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Most solvers will also have a <a href="#solver_options">solver-specific option</a> to provide finer-grained control over the output. Consult their README&#39;s for details.</p></div></div><h2 id="Set-a-time-limit"><a class="docs-heading-anchor" href="#Set-a-time-limit">Set a time limit</a><a id="Set-a-time-limit-1"></a><a class="docs-heading-anchor-permalink" href="#Set-a-time-limit" title="Permalink"></a></h2><p>Use <a href="../../reference/models/#JuMP.set_time_limit_sec"><code>set_time_limit_sec</code></a>, <a href="../../reference/models/#JuMP.unset_time_limit_sec"><code>unset_time_limit_sec</code></a>, and <a href="../../reference/models/#JuMP.time_limit_sec"><code>time_limit_sec</code></a> to manage time limits.</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model(HiGHS.Optimizer);

julia&gt; set_time_limit_sec(model, 60.0)


julia&gt; time_limit_sec(model)
60.0

julia&gt; unset_time_limit_sec(model)

julia&gt; time_limit_sec(model)
Inf</code></pre><p>If your time limit is encoded as a <code>Dates.Period</code> object, use the following code to convert it to <code>Float64</code> for <a href="../../reference/models/#JuMP.set_time_limit_sec"><code>set_time_limit_sec</code></a>:</p><pre><code class="language-julia-repl hljs">julia&gt; import Dates

julia&gt; seconds(x::Dates.Period) = 1e-3 * Dates.value(round(x, Dates.Millisecond))
seconds (generic function with 1 method)

julia&gt; set_time_limit_sec(model, seconds(Dates.Hour(1)))

julia&gt; time_limit_sec(model)
3600.0</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>Some solvers do not support time limits. In these cases, an error will be thrown.</p></div></div><h2 id="Write-a-model-to-file"><a class="docs-heading-anchor" href="#Write-a-model-to-file">Write a model to file</a><a id="Write-a-model-to-file-1"></a><a class="docs-heading-anchor-permalink" href="#Write-a-model-to-file" title="Permalink"></a></h2><p>JuMP can write models to a variety of file-formats using <a href="../../reference/models/#JuMP.write_to_file"><code>write_to_file</code></a> and <a href="../../reference/models/#Base.write-Tuple{IO, Model}"><code>Base.write</code></a>.</p><p>For most common file formats, the file type will be detected from the extension.</p><p>For example, here is how to write an <a href="https://en.wikipedia.org/wiki/MPS_(format)">MPS file</a>:</p><pre><code class="language-julia-repl hljs">julia&gt; write_to_file(model, &quot;model.mps&quot;)</code></pre><p>Other supported file formats include:</p><ul><li><code>.cbf</code> for the <a href="https://docs.mosek.com/latest/capi/cbf-format.html">Conic Benchmark Format</a></li><li><code>.lp</code> for the <a href="https://docs.mosek.com/latest/capi/lp-format.html">LP file format</a></li><li><code>.mof.json</code> for the <a href="https://jump.dev/MathOptFormat/">MathOptFormat</a></li><li><code>.nl</code> for <a href="https://en.wikipedia.org/wiki/Nl_(format)">AMPL&#39;s NL file format</a></li><li><code>.rew</code> for the <a href="https://www.gurobi.com/documentation/9.5/refman/rew_format.html">REW file format</a></li><li><code>.sdpa</code> and &quot;.dat-s&quot; for the <a href="http://plato.asu.edu/ftp/sdpa_format.txt">SDPA file format</a></li></ul><p>To write to a specific <code>io::IO</code>, use <a href="../../reference/models/#Base.write-Tuple{IO, Model}"><code>Base.write</code></a>. Specify the file type by passing a <a href="../../moi/submodules/FileFormats/reference/#MathOptInterface.FileFormats.FileFormat"><code>MOI.FileFormats.FileFormat</code></a> enum.</p><pre><code class="language-julia-repl hljs">julia&gt; write(io, model; format = MOI.FileFormats.FORMAT_MPS)</code></pre><h2 id="Read-a-model-from-file"><a class="docs-heading-anchor" href="#Read-a-model-from-file">Read a model from file</a><a id="Read-a-model-from-file-1"></a><a class="docs-heading-anchor-permalink" href="#Read-a-model-from-file" title="Permalink"></a></h2><p>JuMP models can be created from file formats using <a href="../../reference/models/#JuMP.read_from_file"><code>read_from_file</code></a> and <a href="../../reference/models/#Base.read-Tuple{IO, Type{Model}}"><code>Base.read</code></a>.</p><pre><code class="language-julia-repl hljs">julia&gt; model = read_from_file(&quot;model.mps&quot;)
A JuMP Model
Minimization problem with:
Variables: 0
Objective function type: AffExpr
Model mode: AUTOMATIC
CachingOptimizer state: NO_OPTIMIZER
Solver name: No optimizer attached.

julia&gt; seekstart(io);

julia&gt; model2 = read(io, Model; format = MOI.FileFormats.FORMAT_MPS)
A JuMP Model
Minimization problem with:
Variables: 0
Objective function type: AffExpr
Model mode: AUTOMATIC
CachingOptimizer state: NO_OPTIMIZER
Solver name: No optimizer attached.</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Because file formats do not serialize the containers of JuMP variables and constraints, the names in the model will <em>not</em> be registered. Therefore, you cannot access named variables and constraints via <code>model[:x]</code>. Instead, use <a href="../../reference/variables/#JuMP.variable_by_name"><code>variable_by_name</code></a> or <a href="../../reference/constraints/#JuMP.constraint_by_name"><code>constraint_by_name</code></a> to access specific variables or constraints.</p></div></div><h2 id="Relax-integrality"><a class="docs-heading-anchor" href="#Relax-integrality">Relax integrality</a><a id="Relax-integrality-1"></a><a class="docs-heading-anchor-permalink" href="#Relax-integrality" title="Permalink"></a></h2><p>Use <a href="../../reference/variables/#JuMP.relax_integrality"><code>relax_integrality</code></a> to remove any integrality constraints from the model, such as integer and binary restrictions on variables. <a href="../../reference/variables/#JuMP.relax_integrality"><code>relax_integrality</code></a> returns a function that can be later called with zero arguments to re-add the removed constraints:</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model();

julia&gt; @variable(model, x, Int)
x

julia&gt; num_constraints(model, VariableRef, MOI.Integer)
1

julia&gt; undo = relax_integrality(model);

julia&gt; num_constraints(model, VariableRef, MOI.Integer)
0

julia&gt; undo()

julia&gt; num_constraints(model, VariableRef, MOI.Integer)
1</code></pre><h3 id="Switching-optimizer-for-the-relaxed-problem"><a class="docs-heading-anchor" href="#Switching-optimizer-for-the-relaxed-problem">Switching optimizer for the relaxed problem</a><a id="Switching-optimizer-for-the-relaxed-problem-1"></a><a class="docs-heading-anchor-permalink" href="#Switching-optimizer-for-the-relaxed-problem" title="Permalink"></a></h3><p>A common reason for relaxing integrality is to compute dual variables of the relaxed problem. However, some mixed-integer linear solvers (for example, Cbc) do not return dual solutions, even if the problem does not have integrality restrictions.</p><p>Therefore, after <a href="../../reference/variables/#JuMP.relax_integrality"><code>relax_integrality</code></a> you should call <a href="../../reference/models/#JuMP.set_optimizer"><code>set_optimizer</code></a> with a solver that does support dual solutions, such as Clp.</p><p>For example, instead of:</p><pre><code class="language-julia hljs">using JuMP, Cbc
model = Model(Cbc.Optimizer)
@variable(model, x, Int)
undo = relax_integrality(model)
optimize!(model)
reduced_cost(x)  # Errors</code></pre><p>do:</p><pre><code class="language-julia hljs">using JuMP, Cbc, Clp
model = Model(Cbc.Optimizer)
@variable(model, x, Int)
undo = relax_integrality(model)
set_optimizer(model, Clp.Optimizer)
optimize!(model)
reduced_cost(x)  # Works</code></pre><h2 id="Backends"><a class="docs-heading-anchor" href="#Backends">Backends</a><a id="Backends-1"></a><a class="docs-heading-anchor-permalink" href="#Backends" title="Permalink"></a></h2><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>This section discusses advanced features of JuMP. For new users, you may want to skip this section. You don&#39;t need to know how JuMP manages problems behind the scenes to create and solve JuMP models.</p></div></div><p>A JuMP <a href="../../reference/models/#JuMP.Model"><code>Model</code></a> is a thin layer around a <em>backend</em> of type <a href="../../moi/reference/models/#MathOptInterface.ModelLike"><code>MOI.ModelLike</code></a> that stores the optimization problem and acts as the optimization solver.</p><p>However, if you construct a model like <code>Model(HiGHS.Optimizer)</code>, the backend is not a <code>HiGHS.Optimizer</code>, but a more complicated object.</p><p>From JuMP, the MOI backend can be accessed using the <a href="../../reference/models/#JuMP.backend"><code>backend</code></a> function. Let&#39;s see what the <a href="../../reference/models/#JuMP.backend"><code>backend</code></a> of a JuMP <a href="../../reference/models/#JuMP.Model"><code>Model</code></a> is:</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model(HiGHS.Optimizer);

julia&gt; b = backend(model)
MOIU.CachingOptimizer{MOIB.LazyBridgeOptimizer{HiGHS.Optimizer}, MOIU.UniversalFallback{MOIU.Model{Float64}}}
in state EMPTY_OPTIMIZER
in mode AUTOMATIC
with model cache MOIU.UniversalFallback{MOIU.Model{Float64}}
  fallback for MOIU.Model{Float64}
with optimizer MOIB.LazyBridgeOptimizer{HiGHS.Optimizer}
  with 0 variable bridges
  with 0 constraint bridges
  with 0 objective bridges
  with inner model A HiGHS model with 0 columns and 0 rows.</code></pre><p>Uh oh! Even though we passed a <code>HiGHS.Optimizer</code>, the backend is a much more complicated object.</p><h3 id="CachingOptimizer"><a class="docs-heading-anchor" href="#CachingOptimizer">CachingOptimizer</a><a id="CachingOptimizer-1"></a><a class="docs-heading-anchor-permalink" href="#CachingOptimizer" title="Permalink"></a></h3><p>A <code>MOIU.CachingOptimizer</code> is a layer that abstracts the difference between solvers that support incremental modification (for example, they support adding variables one-by-one), and solvers that require the entire problem in a single API call (for example, they only accept the <code>A</code>, <code>b</code> and <code>c</code> matrices of a linear program).</p><p>It has two parts:</p><ol><li>A cache, where the model can be built and modified incrementally<pre><code class="language-julia-repl hljs">julia&gt; b.model_cache
MOIU.UniversalFallback{MOIU.Model{Float64}}
fallback for MOIU.Model{Float64}</code></pre></li><li>An optimizer, which is used to solve the problem<pre><code class="language-julia-repl hljs">julia&gt; b.optimizer
MOIB.LazyBridgeOptimizer{HiGHS.Optimizer}
with 0 variable bridges
with 0 constraint bridges
with 0 objective bridges
with inner model A HiGHS model with 0 columns and 0 rows.</code></pre></li></ol><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>The <a href="#LazyBridgeOptimizer">LazyBridgeOptimizer</a> section explains what a <code>LazyBridgeOptimizer</code> is.</p></div></div><p>The <code>CachingOptimizer</code> has logic to decide when to copy the problem from the cache to the optimizer, and when it can efficiently update the optimizer in-place.</p><p>A <code>CachingOptimizer</code> may be in one of three possible states:</p><ul><li><code>NO_OPTIMIZER</code>: The CachingOptimizer does not have any optimizer.</li><li><code>EMPTY_OPTIMIZER</code>: The CachingOptimizer has an empty optimizer, and it is not synchronized with the cached model.</li><li><code>ATTACHED_OPTIMIZER</code>: The CachingOptimizer has an optimizer, and it is synchronized with the cached model.</li></ul><p>A <code>CachingOptimizer</code> has two modes of operation:</p><ul><li><code>AUTOMATIC</code>: The <code>CachingOptimizer</code> changes its state when necessary. For example, <a href="../../reference/solutions/#JuMP.optimize!"><code>optimize!</code></a> will automatically call <code>attach_optimizer</code> (an optimizer must have been previously set). Attempting to add a constraint or perform a modification not supported by the optimizer results in a drop to <code>EMPTY_OPTIMIZER</code> mode.</li><li><code>MANUAL</code>: The user must change the state of the <code>CachingOptimizer</code> using <a href="../../reference/models/#MathOptInterface.Utilities.reset_optimizer-Tuple{Model}"><code>MOIU.reset_optimizer(::JuMP.Model)</code></a>, <a href="../../reference/models/#MathOptInterface.Utilities.drop_optimizer-Tuple{Model}"><code>MOIU.drop_optimizer(::JuMP.Model)</code></a>, and <a href="../../reference/models/#MathOptInterface.Utilities.attach_optimizer-Tuple{Model}"><code>MOIU.attach_optimizer(::JuMP.Model)</code></a>. Attempting to perform an operation in the incorrect state results in an error.</li></ul><p>By default <a href="../../reference/models/#JuMP.Model"><code>Model</code></a> will create a <code>CachingOptimizer</code> in <code>AUTOMATIC</code> mode.</p><h3 id="LazyBridgeOptimizer"><a class="docs-heading-anchor" href="#LazyBridgeOptimizer">LazyBridgeOptimizer</a><a id="LazyBridgeOptimizer-1"></a><a class="docs-heading-anchor-permalink" href="#LazyBridgeOptimizer" title="Permalink"></a></h3><p>The second layer that JuMP applies automatically is a <code>LazyBridgeOptimizer</code>. A <code>LazyBridgeOptimizer</code> is an MOI layer that attempts to transform the problem from the formulation provided by the user into an equivalent problem supported by the solver. This may involve adding new variables and constraints to the optimizer. The transformations are selected from a set of known recipes called <em>bridges</em>.</p><p>A common example of a bridge is one that splits an interval constraint like <code>@constraint(model, 1 &lt;= x + y &lt;= 2)</code> into two constraints, <code>@constraint(model, x + y &gt;= 1)</code> and <code>@constraint(model, x + y &lt;= 2)</code>.</p><p>Use the <code>add_bridges = false</code> keyword to remove the bridging layer:</p><pre><code class="language-julia-repl hljs">julia&gt; model = Model(HiGHS.Optimizer; add_bridges = false)
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: HiGHS

julia&gt; backend(model)
MOIU.CachingOptimizer{HiGHS.Optimizer, MOIU.UniversalFallback{MOIU.Model{Float64}}}
in state EMPTY_OPTIMIZER
in mode AUTOMATIC
with model cache MOIU.UniversalFallback{MOIU.Model{Float64}}
  fallback for MOIU.Model{Float64}
with optimizer A HiGHS model with 0 columns and 0 rows.</code></pre><h3 id="Unsafe-backend"><a class="docs-heading-anchor" href="#Unsafe-backend">Unsafe backend</a><a id="Unsafe-backend-1"></a><a class="docs-heading-anchor-permalink" href="#Unsafe-backend" title="Permalink"></a></h3><p>In some advanced use-cases, it is necessary to work with the inner optimization model directly. To access this model, use <a href="../../reference/models/#JuMP.unsafe_backend"><code>unsafe_backend</code></a>:</p><pre><code class="language-julia-repl hljs">julia&gt; backend(model)
MOIU.CachingOptimizer{MOIB.LazyBridgeOptimizer{HiGHS.Optimizer}, MOIU.UniversalFallback{MOIU.Model{Float64}}}
in state EMPTY_OPTIMIZER
in mode AUTOMATIC
with model cache MOIU.UniversalFallback{MOIU.Model{Float64}}
  fallback for MOIU.Model{Float64}
with optimizer MOIB.LazyBridgeOptimizer{HiGHS.Optimizer}
  with 0 variable bridges
  with 0 constraint bridges
  with 0 objective bridges
  with inner model A HiGHS model with 0 columns and 0 rows.

julia&gt; unsafe_backend(model)
A HiGHS model with 0 columns and 0 rows.</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p><a href="../../reference/models/#JuMP.backend"><code>backend</code></a> and <a href="../../reference/models/#JuMP.unsafe_backend"><code>unsafe_backend</code></a> are advanced routines. Read their docstrings to understand the caveats of their usage, and only call them if you wish to access low-level solver-specific functions.</p></div></div><h2 id="Direct-mode"><a class="docs-heading-anchor" href="#Direct-mode">Direct mode</a><a id="Direct-mode-1"></a><a class="docs-heading-anchor-permalink" href="#Direct-mode" title="Permalink"></a></h2><p>Using a <code>CachingOptimizer</code> results in an additional copy of the model being stored by JuMP in the <code>.model_cache</code> field. To avoid this overhead, create a JuMP model using <a href="../../reference/models/#JuMP.direct_model"><code>direct_model</code></a>:</p><pre><code class="language-julia-repl hljs">julia&gt; model = direct_model(HiGHS.Optimizer())
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: DIRECT
Solver name: HiGHS</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Solvers that do not support incremental modification do not support <code>direct_model</code>. An error will be thrown, telling you to use a <code>CachingOptimizer</code> instead.</p></div></div><p>The benefit of using <a href="../../reference/models/#JuMP.direct_model"><code>direct_model</code></a> is that there are no extra layers (for example, <code>Cachingoptimizer</code> or <code>LazyBridgeOptimizer</code>) between <code>model</code> and the provided optimizer:</p><pre><code class="language-julia-repl hljs">julia&gt; backend(model)
A HiGHS model with 0 columns and 0 rows.</code></pre><p>A downside of direct mode is that there is no bridging layer. Therefore, only constraints which are natively supported by the solver are supported. For example, <code>HiGHS.jl</code> does not implement quadratic constraints:</p><pre><code class="language-julia hljs">julia&gt; model = direct_model(HiGHS.Optimizer());

julia&gt; @variable(model, x[1:2]);

julia&gt; @constraint(model, x[1]^2 + x[2]^2 &lt;= 2)
ERROR: Constraints of type MathOptInterface.MathOptInterface.ScalarQuadraticFunction{Float64}-in-MathOptInterface.LessThan{Float64} are not supported by the solver.

If you expected the solver to support your problem, you may have an error in your formulation. Otherwise, consider using a different solver.

The list of available solvers, along with the problem types they support, is available at https://jump.dev/JuMP.jl/stable/installation/#Supported-solvers.
[...]</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Another downside of direct mode is that the behavior of querying solution information after modifying the problem is solver-specific. This can lead to errors, or the solver silently returning an incorrect value. See <a href="../solutions/#OptimizeNotCalled-errors">OptimizeNotCalled errors</a> for more information.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tutorials/applications/web_app/">« Serving web apps</a><a class="docs-footer-nextpage" href="../variables/">Variables »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.28.0-DEV on <span class="colophon-date" title="Thursday 16 February 2023 02:21">Thursday 16 February 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
