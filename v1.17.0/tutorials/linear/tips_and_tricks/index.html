<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tips and tricks · JuMP</title><meta name="title" content="Tips and tricks · JuMP"/><meta property="og:title" content="Tips and tricks · JuMP"/><meta property="twitter:title" content="Tips and tricks · JuMP"/><meta name="description" content="Documentation for JuMP."/><meta property="og:description" content="Documentation for JuMP."/><meta property="twitter:description" content="Documentation for JuMP."/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-44252521-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-44252521-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/extra_styles.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img class="docs-light-only" src="../../../assets/logo.svg" alt="JuMP logo"/><img class="docs-dark-only" src="../../../assets/logo-dark.svg" alt="JuMP logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../../should_i_use/">Should you use JuMP?</a></li><li><a class="tocitem" href="../../../installation/">Installation Guide</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../getting_started/introduction/">Introduction</a></li><li><a class="tocitem" href="../../getting_started/getting_started_with_julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../../getting_started/getting_started_with_JuMP/">Getting started with JuMP</a></li><li><a class="tocitem" href="../../getting_started/getting_started_with_sets_and_indexing/">Getting started with sets and indexing</a></li><li><a class="tocitem" href="../../getting_started/getting_started_with_data_and_plotting/">Getting started with data and plotting</a></li><li><a class="tocitem" href="../../getting_started/debugging/">Debugging</a></li><li><a class="tocitem" href="../../getting_started/design_patterns_for_larger_models/">Design patterns for larger models</a></li><li><a class="tocitem" href="../../getting_started/performance_tips/">Performance tips</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Linear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../introduction/">Introduction</a></li><li><a class="tocitem" href="../knapsack/">The knapsack problem example</a></li><li><a class="tocitem" href="../diet/">The diet problem</a></li><li><a class="tocitem" href="../cannery/">The cannery problem</a></li><li><a class="tocitem" href="../factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../multi_commodity_network/">The network multi-commodity flow problem</a></li><li class="is-active"><a class="tocitem" href>Tips and tricks</a><ul class="internal"><li><a class="tocitem" href="#Absolute-value"><span>Absolute value</span></a></li><li><a class="tocitem" href="#L1-norm"><span>L1-norm</span></a></li><li><a class="tocitem" href="#Infinity-norm"><span>Infinity-norm</span></a></li><li><a class="tocitem" href="#Max"><span>Max</span></a></li><li><a class="tocitem" href="#Min"><span>Min</span></a></li><li><a class="tocitem" href="#Boolean-operators"><span>Boolean operators</span></a></li><li><a class="tocitem" href="#Disjunctions"><span>Disjunctions</span></a></li><li><a class="tocitem" href="#Indicator-constraints"><span>Indicator constraints</span></a></li><li><a class="tocitem" href="#Semi-continuous-variables"><span>Semi-continuous variables</span></a></li><li><a class="tocitem" href="#Semi-integer-variables"><span>Semi-integer variables</span></a></li><li><a class="tocitem" href="#Special-Ordered-Sets-of-Type-1"><span>Special Ordered Sets of Type 1</span></a></li><li><a class="tocitem" href="#tip_sos2"><span>Special Ordered Sets of Type 2</span></a></li><li><a class="tocitem" href="#Piecewise-linear-approximations"><span>Piecewise linear approximations</span></a></li></ul></li><li><a class="tocitem" href="../piecewise_linear/">Approximating nonlinear functions</a></li><li><a class="tocitem" href="../facility_location/">The facility location problem</a></li><li><a class="tocitem" href="../finance/">Financial modeling problems</a></li><li><a class="tocitem" href="../geographic_clustering/">Geographical clustering</a></li><li><a class="tocitem" href="../network_flows/">Network flow problems</a></li><li><a class="tocitem" href="../transp/">The transportation problem</a></li><li><a class="tocitem" href="../multi_objective_knapsack/">Multi-objective knapsack</a></li><li><a class="tocitem" href="../multi_objective_examples/">Simple multi-objective examples</a></li><li><a class="tocitem" href="../sudoku/">Sudoku</a></li><li><a class="tocitem" href="../n-queens/">N-Queens</a></li><li><a class="tocitem" href="../constraint_programming/">Constraint programming</a></li><li><a class="tocitem" href="../callbacks/">Callbacks</a></li><li><a class="tocitem" href="../lp_sensitivity/">Sensitivity analysis of a linear program</a></li><li><a class="tocitem" href="../mip_duality/">Computing the duals of a mixed-integer program</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Nonlinear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../nonlinear/introduction/">Introduction</a></li><li><a class="tocitem" href="../../nonlinear/simple_examples/">Simple examples</a></li><li><a class="tocitem" href="../../nonlinear/portfolio/">Portfolio optimization</a></li><li><a class="tocitem" href="../../nonlinear/rocket_control/">Rocket Control</a></li><li><a class="tocitem" href="../../nonlinear/space_shuttle_reentry_trajectory/">Optimal control for a Space Shuttle reentry trajectory</a></li><li><a class="tocitem" href="../../nonlinear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../nonlinear/user_defined_hessians/">User-defined Hessians</a></li><li><a class="tocitem" href="../../nonlinear/nested_problems/">Nested optimization problems</a></li><li><a class="tocitem" href="../../nonlinear/querying_hessians/">Computing Hessians</a></li><li><a class="tocitem" href="../../nonlinear/complementarity/">Mixed complementarity problems</a></li><li><a class="tocitem" href="../../nonlinear/classifiers/">Classifiers</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Conic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../conic/introduction/">Introduction</a></li><li><a class="tocitem" href="../../conic/start_values/">Primal and dual warm-starts</a></li><li><a class="tocitem" href="../../conic/tips_and_tricks/">Tips and Tricks</a></li><li><a class="tocitem" href="../../conic/simple_examples/">Simple semidefinite programming examples</a></li><li><a class="tocitem" href="../../conic/dualization/">Dualization</a></li><li><a class="tocitem" href="../../conic/arbitrary_precision/">Arbitrary precision arithmetic</a></li><li><a class="tocitem" href="../../conic/logistic_regression/">Logistic regression</a></li><li><a class="tocitem" href="../../conic/experiment_design/">Experiment design</a></li><li><a class="tocitem" href="../../conic/min_ellipse/">Minimal ellipses</a></li><li><a class="tocitem" href="../../conic/ellipse_approx/">Ellipsoid approximation</a></li><li><a class="tocitem" href="../../conic/quantum_discrimination/">Quantum state discrimination</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Algorithms</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../algorithms/benders_decomposition/">Benders decomposition</a></li><li><a class="tocitem" href="../../algorithms/cutting_stock_column_generation/">Column generation</a></li><li><a class="tocitem" href="../../algorithms/tsp_lazy_constraints/">Traveling Salesperson Problem</a></li><li><a class="tocitem" href="../../algorithms/parallelism/">Parallelism</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-6" type="checkbox"/><label class="tocitem" for="menuitem-2-6"><span class="docs-label">Applications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../applications/power_systems/">Power Systems</a></li><li><a class="tocitem" href="../../applications/optimal_power_flow/">Optimal power flow</a></li><li><a class="tocitem" href="../../applications/web_app/">Serving web apps</a></li><li><a class="tocitem" href="../../applications/two_stage_stochastic/">Two-stage stochastic programs</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../manual/models/">Models</a></li><li><a class="tocitem" href="../../../manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../manual/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../manual/objective/">Objectives</a></li><li><a class="tocitem" href="../../../manual/containers/">Containers</a></li><li><a class="tocitem" href="../../../manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../manual/callbacks/">Solver-independent Callbacks</a></li><li><a class="tocitem" href="../../../manual/complex/">Complex number support</a></li><li><a class="tocitem" href="../../../manual/nonlinear/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../manual/nlp/">Nonlinear Modeling (Legacy)</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../api/JuMP/">JuMP</a></li><li><a class="tocitem" href="../../../api/JuMP.Containers/">JuMP.Containers</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Background Information</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../background/algebraic_modeling_languages/">Algebraic modeling languages</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../developers/contributing/">Contributing</a></li><li><a class="tocitem" href="../../../developers/extensions/">Extensions</a></li><li><a class="tocitem" href="../../../developers/custom_solver_binaries/">Custom binaries</a></li><li><a class="tocitem" href="../../../developers/style/">Style Guide</a></li><li><a class="tocitem" href="../../../developers/roadmap/">Roadmap</a></li><li><a class="tocitem" href="../../../developers/checklists/">Checklists</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Solvers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../packages/solvers/">Introduction</a></li><li><a class="tocitem" href="../../../packages/AmplNLWriter/">jump-dev/AmplNLWriter.jl</a></li><li><a class="tocitem" href="../../../packages/BARON/">jump-dev/BARON.jl</a></li><li><a class="tocitem" href="../../../packages/CPLEX/">jump-dev/CPLEX.jl</a></li><li><a class="tocitem" href="../../../packages/CSDP/">jump-dev/CSDP.jl</a></li><li><a class="tocitem" href="../../../packages/Cbc/">jump-dev/Cbc.jl</a></li><li><a class="tocitem" href="../../../packages/Clp/">jump-dev/Clp.jl</a></li><li><a class="tocitem" href="../../../packages/Dualization/">jump-dev/Dualization.jl</a></li><li><a class="tocitem" href="../../../packages/ECOS/">jump-dev/ECOS.jl</a></li><li><a class="tocitem" href="../../../packages/GLPK/">jump-dev/GLPK.jl</a></li><li><a class="tocitem" href="../../../packages/Gurobi/">jump-dev/Gurobi.jl</a></li><li><a class="tocitem" href="../../../packages/HiGHS/">jump-dev/HiGHS.jl</a></li><li><a class="tocitem" href="../../../packages/Ipopt/">jump-dev/Ipopt.jl</a></li><li><a class="tocitem" href="../../../packages/KNITRO/">jump-dev/KNITRO.jl</a></li><li><a class="tocitem" href="../../../packages/MiniZinc/">jump-dev/MiniZinc.jl</a></li><li><a class="tocitem" href="../../../packages/MosekTools/">jump-dev/MosekTools.jl</a></li><li><a class="tocitem" href="../../../packages/MultiObjectiveAlgorithms/">jump-dev/MultiObjectiveAlgorithms.jl</a></li><li><a class="tocitem" href="../../../packages/Pajarito/">jump-dev/Pajarito.jl</a></li><li><a class="tocitem" href="../../../packages/Pavito/">jump-dev/Pavito.jl</a></li><li><a class="tocitem" href="../../../packages/SCS/">jump-dev/SCS.jl</a></li><li><a class="tocitem" href="../../../packages/SDPA/">jump-dev/SDPA.jl</a></li><li><a class="tocitem" href="../../../packages/SDPNAL/">jump-dev/SDPNAL.jl</a></li><li><a class="tocitem" href="../../../packages/SDPT3/">jump-dev/SDPT3.jl</a></li><li><a class="tocitem" href="../../../packages/SeDuMi/">jump-dev/SeDuMi.jl</a></li><li><a class="tocitem" href="../../../packages/Xpress/">jump-dev/Xpress.jl</a></li><li><a class="tocitem" href="../../../packages/COPT/">COPT-Public/COPT.jl</a></li><li><a class="tocitem" href="../../../packages/GAMS/">GAMS-dev/GAMS.jl</a></li><li><a class="tocitem" href="../../../packages/Manopt/">JuliaManifolds/Manopt.jl</a></li><li><a class="tocitem" href="../../../packages/NLopt/">JuliaOpt/NLopt.jl</a></li><li><a class="tocitem" href="../../../packages/CDDLib/">JuliaPolyhedra/CDDLib.jl</a></li><li><a class="tocitem" href="../../../packages/Percival/">JuliaSmoothOptimizers/Percival.jl</a></li><li><a class="tocitem" href="../../../packages/MadNLP/">MadNLP/MadNLP.jl</a></li><li><a class="tocitem" href="../../../packages/EAGO/">PSORLab/EAGO.jl</a></li><li><a class="tocitem" href="../../../packages/PATHSolver/">chkwon/PATHSolver.jl</a></li><li><a class="tocitem" href="../../../packages/Hypatia/">chriscoey/Hypatia.jl</a></li><li><a class="tocitem" href="../../../packages/DAQP/">darnstrom/DAQP.jl</a></li><li><a class="tocitem" href="../../../packages/Tulip/">ds4dm/Tulip.jl</a></li><li><a class="tocitem" href="../../../packages/Loraine/">kocvara/Loraine.jl</a></li><li><a class="tocitem" href="../../../packages/Alpine/">lanl-ansi/Alpine.jl</a></li><li><a class="tocitem" href="../../../packages/Juniper/">lanl-ansi/Juniper.jl</a></li><li><a class="tocitem" href="../../../packages/ProxSDP/">mariohsouto/ProxSDP.jl</a></li><li><a class="tocitem" href="../../../packages/NEOSServer/">odow/NEOSServer.jl</a></li><li><a class="tocitem" href="../../../packages/OSQP/">osqp/OSQP.jl</a></li><li><a class="tocitem" href="../../../packages/CDCS/">oxfordcontrol/CDCS.jl</a></li><li><a class="tocitem" href="../../../packages/COSMO/">oxfordcontrol/COSMO.jl</a></li><li><a class="tocitem" href="../../../packages/Clarabel/">oxfordcontrol/Clarabel.jl</a></li><li><a class="tocitem" href="../../../packages/SCIP/">scipopt/SCIP.jl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">Extensions</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../extensions/introduction/">Introduction</a></li><li><a class="tocitem" href="../../../packages/DiffOpt/">jump-dev/DiffOpt.jl</a></li><li><a class="tocitem" href="../../../packages/ParametricOptInterface/">jump-dev/ParametricOptInterface.jl</a></li><li><a class="tocitem" href="../../../packages/PolyJuMP/">jump-dev/PolyJuMP.jl</a></li><li><a class="tocitem" href="../../../packages/SumOfSquares/">jump-dev/SumOfSquares.jl</a></li><li><a class="tocitem" href="../../../packages/InfiniteOpt/">infiniteopt/InfiniteOpt.jl</a></li><li><a class="tocitem" href="../../../packages/BilevelJuMP/">joaquimg/BilevelJuMP.jl</a></li><li><a class="tocitem" href="../../../packages/SDDP/">odow/SDDP.jl</a></li><li><a class="tocitem" href="../../../packages/Plasmo/">plasmo-dev/Plasmo.jl</a></li><li><a class="tocitem" href="../../../extensions/DimensionalData/">rafaqz/DimensionalData.jl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox"/><label class="tocitem" for="menuitem-9"><span class="docs-label">MathOptInterface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-9-1" type="checkbox"/><label class="tocitem" for="menuitem-9-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/">Introduction</a></li><li><a class="tocitem" href="../../../moi/background/motivation/">Motivation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/tutorials/example/">Solving a problem using MathOptInterface</a></li><li><a class="tocitem" href="../../../moi/tutorials/implementing/">Implementing a solver interface</a></li><li><a class="tocitem" href="../../../moi/tutorials/mathprogbase/">Transitioning from MathProgBase</a></li><li><a class="tocitem" href="../../../moi/tutorials/bridging_constraint/">Implementing a constraint bridge</a></li><li><a class="tocitem" href="../../../moi/tutorials/manipulating_expressions/">Manipulating expressions</a></li><li><a class="tocitem" href="../../../moi/tutorials/latency/">Latency</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-3" type="checkbox"/><label class="tocitem" for="menuitem-9-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/manual/standard_form/">Standard form problem</a></li><li><a class="tocitem" href="../../../moi/manual/models/">Models</a></li><li><a class="tocitem" href="../../../moi/manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../moi/manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../moi/manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../moi/manual/modification/">Problem modification</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-4" type="checkbox"/><label class="tocitem" for="menuitem-9-4"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/background/duality/">Duality</a></li><li><a class="tocitem" href="../../../moi/background/infeasibility_certificates/">Infeasibility certificates</a></li><li><a class="tocitem" href="../../../moi/background/naming_conventions/">Naming conventions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-5" type="checkbox"/><label class="tocitem" for="menuitem-9-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/reference/standard_form/">Standard form</a></li><li><a class="tocitem" href="../../../moi/reference/models/">Models</a></li><li><a class="tocitem" href="../../../moi/reference/variables/">Variables</a></li><li><a class="tocitem" href="../../../moi/reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../moi/reference/modification/">Modifications</a></li><li><a class="tocitem" href="../../../moi/reference/nonlinear/">Nonlinear programming</a></li><li><a class="tocitem" href="../../../moi/reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../../moi/reference/errors/">Errors</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6" type="checkbox"/><label class="tocitem" for="menuitem-9-6"><span class="docs-label">Submodules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-9-6-1" type="checkbox"/><label class="tocitem" for="menuitem-9-6-1"><span class="docs-label">Benchmarks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Benchmarks/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Benchmarks/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-2" type="checkbox"/><label class="tocitem" for="menuitem-9-6-2"><span class="docs-label">Bridges</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Bridges/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Bridges/implementation/">Implementation</a></li><li><a class="tocitem" href="../../../moi/submodules/Bridges/list_of_bridges/">List of bridges</a></li><li><a class="tocitem" href="../../../moi/submodules/Bridges/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-3" type="checkbox"/><label class="tocitem" for="menuitem-9-6-3"><span class="docs-label">FileFormats</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/FileFormats/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/FileFormats/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-4" type="checkbox"/><label class="tocitem" for="menuitem-9-6-4"><span class="docs-label">Nonlinear</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Nonlinear/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Nonlinear/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-5" type="checkbox"/><label class="tocitem" for="menuitem-9-6-5"><span class="docs-label">Utilities</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Utilities/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Utilities/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-6" type="checkbox"/><label class="tocitem" for="menuitem-9-6-6"><span class="docs-label">Test</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Test/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Test/reference/">API Reference</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-7" type="checkbox"/><label class="tocitem" for="menuitem-9-7"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/developer/checklists/">Checklists</a></li></ul></li><li><a class="tocitem" href="../../../moi/release_notes/">Release notes</a></li></ul></li><li><a class="tocitem" href="../../../release_notes/">Release notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Linear programs</a></li><li class="is-active"><a href>Tips and tricks</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tips and tricks</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jump-dev/JuMP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/tutorials/linear/tips_and_tricks.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="linear_tips_and_tricks"><a class="docs-heading-anchor" href="#linear_tips_and_tricks">Tips and tricks</a><a id="linear_tips_and_tricks-1"></a><a class="docs-heading-anchor-permalink" href="#linear_tips_and_tricks" title="Permalink"></a></h1><p><em>This tutorial was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em> <a href="../tips_and_tricks.jl"><em>Download the source as a <code>.jl</code> file</em></a>.</p><p><strong>This tutorial was originally contributed by Arpit Bhatia.</strong></p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>A good source of tips is the <a href="https://docs.mosek.com/modeling-cookbook/mio.html">Mosek Modeling Cookbook</a>.</p></div></div><p>This tutorial collates some tips and tricks you can use when formulating mixed-integer programs. It uses the following packages:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using JuMP</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h2 id="Absolute-value"><a class="docs-heading-anchor" href="#Absolute-value">Absolute value</a><a id="Absolute-value-1"></a><a class="docs-heading-anchor-permalink" href="#Absolute-value" title="Permalink"></a></h2><p>To model the absolute value function <span>$t \ge |x|$</span>, there are a few options. In all cases, these reformulations only work if you are minimizing <span>$t$</span> &quot;down&quot; into <span>$|x|$</span>. They do not work if you are trying to maximize <span>$|x|$</span>.</p><h3 id="Option-1"><a class="docs-heading-anchor" href="#Option-1">Option 1</a><a id="Option-1-1"></a><a class="docs-heading-anchor-permalink" href="#Option-1" title="Permalink"></a></h3><p>This option adds two linear inequality constraints:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x)</code><code class="nohighlight hljs ansi" style="display:block;">x</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, t)</code><code class="nohighlight hljs ansi" style="display:block;">t</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, t &gt;= x)</code><code class="nohighlight hljs ansi" style="display:block;">-x + t ≥ 0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, t &gt;= -x)</code><code class="nohighlight hljs ansi" style="display:block;">x + t ≥ 0</code></pre><h3 id="Option-2"><a class="docs-heading-anchor" href="#Option-2">Option 2</a><a id="Option-2-1"></a><a class="docs-heading-anchor-permalink" href="#Option-2" title="Permalink"></a></h3><p>This option uses two non-negative variables and forms expressions for <span>$x$</span> and <span>$t$</span>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, z[1:2] &gt;= 0)</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{VariableRef}:
 z[1]
 z[2]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @expression(model, t, z[1] + z[2])</code><code class="nohighlight hljs ansi" style="display:block;">z[1] + z[2]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @expression(model, x, z[1] - z[2])</code><code class="nohighlight hljs ansi" style="display:block;">z[1] - z[2]</code></pre><h3 id="Option-3"><a class="docs-heading-anchor" href="#Option-3">Option 3</a><a id="Option-3-1"></a><a class="docs-heading-anchor-permalink" href="#Option-3" title="Permalink"></a></h3><p>This option uses <a href="../../../moi/reference/standard_form/#MathOptInterface.NormOneCone"><code>MOI.NormOneCone</code></a> and lets JuMP choose the reformulation:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x)</code><code class="nohighlight hljs ansi" style="display:block;">x</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, t)</code><code class="nohighlight hljs ansi" style="display:block;">t</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, [t; x] in MOI.NormOneCone(2))</code><code class="nohighlight hljs ansi" style="display:block;">[t, x] ∈ MathOptInterface.NormOneCone(2)</code></pre><h2 id="L1-norm"><a class="docs-heading-anchor" href="#L1-norm">L1-norm</a><a id="L1-norm-1"></a><a class="docs-heading-anchor-permalink" href="#L1-norm" title="Permalink"></a></h2><p>To model <span>$\min ||x||_1$</span>, that is, <span>$\min \sum\limits_i |x_i|$</span>, use the <a href="../../../moi/reference/standard_form/#MathOptInterface.NormOneCone"><code>MOI.NormOneCone</code></a>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:3])</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{VariableRef}:
 x[1]
 x[2]
 x[3]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, t)</code><code class="nohighlight hljs ansi" style="display:block;">t</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, [t; x] in MOI.NormOneCone(1 + length(x)))</code><code class="nohighlight hljs ansi" style="display:block;">[t, x[1], x[2], x[3]] ∈ MathOptInterface.NormOneCone(4)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @objective(model, Min, t)</code><code class="nohighlight hljs ansi" style="display:block;">t</code></pre><h2 id="Infinity-norm"><a class="docs-heading-anchor" href="#Infinity-norm">Infinity-norm</a><a id="Infinity-norm-1"></a><a class="docs-heading-anchor-permalink" href="#Infinity-norm" title="Permalink"></a></h2><p>To model <span>$\min ||x||_\infty$</span>, that is, <span>$\min \max\limits_i |x_i|$</span>, use the <a href="../../../moi/reference/standard_form/#MathOptInterface.NormInfinityCone"><code>MOI.NormInfinityCone</code></a>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:3])</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{VariableRef}:
 x[1]
 x[2]
 x[3]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, t)</code><code class="nohighlight hljs ansi" style="display:block;">t</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, [t; x] in MOI.NormInfinityCone(1 + length(x)))</code><code class="nohighlight hljs ansi" style="display:block;">[t, x[1], x[2], x[3]] ∈ MathOptInterface.NormInfinityCone(4)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @objective(model, Min, t)</code><code class="nohighlight hljs ansi" style="display:block;">t</code></pre><h2 id="Max"><a class="docs-heading-anchor" href="#Max">Max</a><a id="Max-1"></a><a class="docs-heading-anchor-permalink" href="#Max" title="Permalink"></a></h2><p>To model <span>$t \ge \max\{x, y\}$</span>, do:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, t)</code><code class="nohighlight hljs ansi" style="display:block;">t</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x)</code><code class="nohighlight hljs ansi" style="display:block;">x</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, y)</code><code class="nohighlight hljs ansi" style="display:block;">y</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, t &gt;= x)</code><code class="nohighlight hljs ansi" style="display:block;">t - x ≥ 0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, t &gt;= y)</code><code class="nohighlight hljs ansi" style="display:block;">t - y ≥ 0</code></pre><p>This reformulation does not work for <span>$t \ge \min\{x, y\}$</span>.</p><h2 id="Min"><a class="docs-heading-anchor" href="#Min">Min</a><a id="Min-1"></a><a class="docs-heading-anchor-permalink" href="#Min" title="Permalink"></a></h2><p>To model <span>$t \le \min\{x, y\}$</span>, do:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, t)</code><code class="nohighlight hljs ansi" style="display:block;">t</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x)</code><code class="nohighlight hljs ansi" style="display:block;">x</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, y)</code><code class="nohighlight hljs ansi" style="display:block;">y</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, t &lt;= x)</code><code class="nohighlight hljs ansi" style="display:block;">t - x ≤ 0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, t &lt;= y)</code><code class="nohighlight hljs ansi" style="display:block;">t - y ≤ 0</code></pre><p>This reformulation does not work for <span>$t \le \max\{x, y\}$</span>.</p><h2 id="Boolean-operators"><a class="docs-heading-anchor" href="#Boolean-operators">Boolean operators</a><a id="Boolean-operators-1"></a><a class="docs-heading-anchor-permalink" href="#Boolean-operators" title="Permalink"></a></h2><p>Binary variables can be used to construct logical operators. Here are some example.</p><h3 id="Or"><a class="docs-heading-anchor" href="#Or">Or</a><a id="Or-1"></a><a class="docs-heading-anchor-permalink" href="#Or" title="Permalink"></a></h3><p class="math-container">\[x_3 = x_1 \lor x_2\]</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:3], Bin)</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{VariableRef}:
 x[1]
 x[2]
 x[3]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraints(model, begin
           x[1] &lt;= x[3]
           x[2] &lt;= x[3]
           x[3] &lt;= x[1] + x[2]
       end)</code><code class="nohighlight hljs ansi" style="display:block;">(x[1] - x[3] ≤ 0, x[2] - x[3] ≤ 0, -x[1] - x[2] + x[3] ≤ 0)</code></pre><h3 id="And"><a class="docs-heading-anchor" href="#And">And</a><a id="And-1"></a><a class="docs-heading-anchor-permalink" href="#And" title="Permalink"></a></h3><p class="math-container">\[x_3 = x_1 \land x_2\]</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:3], Bin)</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{VariableRef}:
 x[1]
 x[2]
 x[3]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraints(model, begin
           x[3] &lt;= x[1]
           x[3] &lt;= x[2]
           x[3] &gt;= x[1] + x[2] - 1
       end)</code><code class="nohighlight hljs ansi" style="display:block;">(-x[1] + x[3] ≤ 0, -x[2] + x[3] ≤ 0, -x[1] - x[2] + x[3] ≥ -1)</code></pre><h3 id="Not"><a class="docs-heading-anchor" href="#Not">Not</a><a id="Not-1"></a><a class="docs-heading-anchor-permalink" href="#Not" title="Permalink"></a></h3><p class="math-container">\[x_1 \neg x_2\]</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:2], Bin)</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{VariableRef}:
 x[1]
 x[2]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x[1] == 1 - x[2])</code><code class="nohighlight hljs ansi" style="display:block;">x[1] + x[2] = 1</code></pre><h3 id="Implies"><a class="docs-heading-anchor" href="#Implies">Implies</a><a id="Implies-1"></a><a class="docs-heading-anchor-permalink" href="#Implies" title="Permalink"></a></h3><p class="math-container">\[x_1 \implies x_2\]</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:2], Bin)</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{VariableRef}:
 x[1]
 x[2]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x[1] &lt;= x[2])</code><code class="nohighlight hljs ansi" style="display:block;">x[1] - x[2] ≤ 0</code></pre><h2 id="Disjunctions"><a class="docs-heading-anchor" href="#Disjunctions">Disjunctions</a><a id="Disjunctions-1"></a><a class="docs-heading-anchor-permalink" href="#Disjunctions" title="Permalink"></a></h2><h3 id="Problem"><a class="docs-heading-anchor" href="#Problem">Problem</a><a id="Problem-1"></a><a class="docs-heading-anchor-permalink" href="#Problem" title="Permalink"></a></h3><p>Suppose that we have two constraints <span>$a^\top x \leq b$</span> and <span>$c^\top x \leq d$</span>, and we want at least one to hold.</p><h3 id="Trick"><a class="docs-heading-anchor" href="#Trick">Trick</a><a id="Trick-1"></a><a class="docs-heading-anchor-permalink" href="#Trick" title="Permalink"></a></h3><p>Introduce a &quot;big-M&quot; multiplied by a binary variable to relax one of the constraints.</p><p><strong>Example</strong> Either <span>$x_1 \leq 1$</span> or <span>$x_2 \leq 2$</span>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:2])</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{VariableRef}:
 x[1]
 x[2]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, y, Bin)</code><code class="nohighlight hljs ansi" style="display:block;">y</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; M = 100</code><code class="nohighlight hljs ansi" style="display:block;">100</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x[1] &lt;= 1 + M * y)</code><code class="nohighlight hljs ansi" style="display:block;">x[1] - 100 y ≤ 1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x[2] &lt;= 2 + M * (1 - y))</code><code class="nohighlight hljs ansi" style="display:block;">x[2] + 100 y ≤ 102</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If <code>M</code> is too small, the solution may be suboptimal. If <code>M</code> is too big, the solver may encounter numerical issues. Try to use domain knowledge to choose an <code>M</code> that is just right. Gurobi has a <a href="https://www.gurobi.com/documentation/9.1/refman/dealing_with_big_m_constra.html">good documentation section</a> on this topic.</p></div></div><h2 id="Indicator-constraints"><a class="docs-heading-anchor" href="#Indicator-constraints">Indicator constraints</a><a id="Indicator-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Indicator-constraints" title="Permalink"></a></h2><h3 id="Problem-2"><a class="docs-heading-anchor" href="#Problem-2">Problem</a><a class="docs-heading-anchor-permalink" href="#Problem-2" title="Permalink"></a></h3><p>Suppose we want to model that a certain linear inequality must be satisfied when some other event occurs, that is, for a binary variable <span>$z$</span>, we want to model the implication:</p><p class="math-container">\[z = 1 \implies a^\top x \leq b\]</p><h3 id="Trick-1"><a class="docs-heading-anchor" href="#Trick-1">Trick 1</a><a id="Trick-1-1"></a><a class="docs-heading-anchor-permalink" href="#Trick-1" title="Permalink"></a></h3><p>Some solvers have native support for indicator constraints.</p><p><strong>Example</strong> <span>$x_1 + x_2 \leq 1$</span> if <span>$z = 1$</span>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:2])</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{VariableRef}:
 x[1]
 x[2]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, z, Bin)</code><code class="nohighlight hljs ansi" style="display:block;">z</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, z --&gt; {sum(x) &lt;= 1})</code><code class="nohighlight hljs ansi" style="display:block;">z --&gt; {x[1] + x[2] ≤ 1}</code></pre><p><strong>Example</strong> <span>$x_1 + x_2 \leq 1$</span> if <span>$z = 0$</span>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:2])</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{VariableRef}:
 x[1]
 x[2]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, z, Bin)</code><code class="nohighlight hljs ansi" style="display:block;">z</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, !z --&gt; {sum(x) &lt;= 1})</code><code class="nohighlight hljs ansi" style="display:block;">!z --&gt; {x[1] + x[2] ≤ 1}</code></pre><h3 id="Trick-2"><a class="docs-heading-anchor" href="#Trick-2">Trick 2</a><a id="Trick-2-1"></a><a class="docs-heading-anchor-permalink" href="#Trick-2" title="Permalink"></a></h3><p>If the solver doesn&#39;t support indicator constraints, you an use the big-M trick.</p><p><strong>Example</strong> <span>$x_1 + x_2 \leq 1$</span> if <span>$z = 1$</span>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:2])</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{VariableRef}:
 x[1]
 x[2]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, z, Bin)</code><code class="nohighlight hljs ansi" style="display:block;">z</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; M = 100</code><code class="nohighlight hljs ansi" style="display:block;">100</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, sum(x) &lt;= 1 + M * (1 - z))</code><code class="nohighlight hljs ansi" style="display:block;">x[1] + x[2] + 100 z ≤ 101</code></pre><p><strong>Example</strong> <span>$x_1 + x_2 \leq 1$</span> if <span>$z = 0$</span>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:2])</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{VariableRef}:
 x[1]
 x[2]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, z, Bin)</code><code class="nohighlight hljs ansi" style="display:block;">z</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; M = 100</code><code class="nohighlight hljs ansi" style="display:block;">100</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, sum(x) &lt;= 1 + M * z)</code><code class="nohighlight hljs ansi" style="display:block;">x[1] + x[2] - 100 z ≤ 1</code></pre><h2 id="Semi-continuous-variables"><a class="docs-heading-anchor" href="#Semi-continuous-variables">Semi-continuous variables</a><a id="Semi-continuous-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Semi-continuous-variables" title="Permalink"></a></h2><p>A semi-continuous variable is a continuous variable between bounds <span>$[l,u]$</span> that also can assume the value zero, that is: <span>$x \in \{0\} \cup [l,u].$</span></p><p><strong>Example</strong> <span>$x \in \{0\}\cup [1, 2]$</span></p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x in Semicontinuous(1.0, 2.0))</code><code class="nohighlight hljs ansi" style="display:block;">x</code></pre><p>You can also represent a semi-continuous variable using the reformulation:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x)</code><code class="nohighlight hljs ansi" style="display:block;">x</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, z, Bin)</code><code class="nohighlight hljs ansi" style="display:block;">z</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x &lt;= 2 * z)</code><code class="nohighlight hljs ansi" style="display:block;">x - 2 z ≤ 0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x &gt;= 1 * z)</code><code class="nohighlight hljs ansi" style="display:block;">x - z ≥ 0</code></pre><p>When <code>z = 0</code> the two constraints are equivalent to <code>0 &lt;= x &lt;= 0</code>. When <code>z = 1</code>, the two constraints are equivalent to <code>1 &lt;= x &lt;= 2</code>.</p><h2 id="Semi-integer-variables"><a class="docs-heading-anchor" href="#Semi-integer-variables">Semi-integer variables</a><a id="Semi-integer-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Semi-integer-variables" title="Permalink"></a></h2><p>A semi-integer variable is a variable which assumes integer values between bounds <span>$[l,u]$</span> and can also assume the value zero: <span>$x \in \{0\} \cup [l, u] \cap \mathbb{Z}.$</span></p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x in Semiinteger(5.0, 10.0))</code><code class="nohighlight hljs ansi" style="display:block;">x</code></pre><p>You can also represent a semi-integer variable using the reformulation:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x, Int)</code><code class="nohighlight hljs ansi" style="display:block;">x</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, z, Bin)</code><code class="nohighlight hljs ansi" style="display:block;">z</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x &lt;= 10 * z)</code><code class="nohighlight hljs ansi" style="display:block;">x - 10 z ≤ 0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x &gt;= 5 * z)</code><code class="nohighlight hljs ansi" style="display:block;">x - 5 z ≥ 0</code></pre><p>When <code>z = 0</code> the two constraints are equivalent to <code>0 &lt;= x &lt;= 0</code>. When <code>z = 1</code>, the two constraints are equivalent to <code>5 &lt;= x &lt;= 10</code>.</p><h2 id="Special-Ordered-Sets-of-Type-1"><a class="docs-heading-anchor" href="#Special-Ordered-Sets-of-Type-1">Special Ordered Sets of Type 1</a><a id="Special-Ordered-Sets-of-Type-1-1"></a><a class="docs-heading-anchor-permalink" href="#Special-Ordered-Sets-of-Type-1" title="Permalink"></a></h2><p>A Special Ordered Set of Type 1 is a set of variables, at most one of which can take a non-zero value, all others being at 0.</p><p>They most frequently apply where a set of variables are actually binary variables. In other words, we have to choose at most one from a set of possibilities.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:3], Bin)</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{VariableRef}:
 x[1]
 x[2]
 x[3]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x in SOS1())</code><code class="nohighlight hljs ansi" style="display:block;">[x[1], x[2], x[3]] ∈ MathOptInterface.SOS1{Float64}([1.0, 2.0, 3.0])</code></pre><p>You can optionally pass <code>SOS1</code> a weight vector like</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x in SOS1([0.2, 0.5, 0.3]))</code><code class="nohighlight hljs ansi" style="display:block;">[x[1], x[2], x[3]] ∈ MathOptInterface.SOS1{Float64}([0.2, 0.5, 0.3])</code></pre><p>If the decision variables are related and have a physical ordering, then the weight vector, although not used directly in the constraint, can help the solver make a better decision in the solution process.</p><h2 id="tip_sos2"><a class="docs-heading-anchor" href="#tip_sos2">Special Ordered Sets of Type 2</a><a id="tip_sos2-1"></a><a class="docs-heading-anchor-permalink" href="#tip_sos2" title="Permalink"></a></h2><p>A Special Ordered Set of type 2 is a set of non-negative variables, of which at most two can be non-zero, and if two are non-zero these must be consecutive in their ordering.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, x[1:3])</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{VariableRef}:
 x[1]
 x[2]
 x[3]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraint(model, x in SOS2([3.0, 1.0, 2.0]))</code><code class="nohighlight hljs ansi" style="display:block;">[x[1], x[2], x[3]] ∈ MathOptInterface.SOS2{Float64}([3.0, 1.0, 2.0])</code></pre><p>The ordering provided by the weight vector is more important in this case as the variables need to be consecutive according to the ordering. For example, in the above constraint, the possible pairs are:</p><ul><li>Consecutive<ul><li>(<code>x[1]</code> and <code>x[3]</code>) as they correspond to 3 and 2 resp. and thus can be non-zero</li><li>(<code>x[2]</code> and <code>x[3]</code>) as they correspond to 1 and 2 resp. and thus can be non-zero</li></ul></li><li>Non-consecutive<ul><li>(<code>x[1]</code> and <code>x[2]</code>) as they correspond to 3 and 1 resp. and thus cannot be non-zero</li></ul></li></ul><h2 id="Piecewise-linear-approximations"><a class="docs-heading-anchor" href="#Piecewise-linear-approximations">Piecewise linear approximations</a><a id="Piecewise-linear-approximations-1"></a><a class="docs-heading-anchor-permalink" href="#Piecewise-linear-approximations" title="Permalink"></a></h2><p><a href="#tip_sos2">SOSII constraints</a> are most often used to form piecewise linear approximations of a function.</p><p>Given a set of points for <code>x</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; x̂ = -1:0.5:2</code><code class="nohighlight hljs ansi" style="display:block;">-1.0:0.5:2.0</code></pre><p>and a set of corresponding points for <code>y</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ŷ = x̂ .^ 2</code><code class="nohighlight hljs ansi" style="display:block;">7-element Vector{Float64}:
 1.0
 0.25
 0.0
 0.25
 1.0
 2.25
 4.0</code></pre><p>the piecewise linear approximation is constructed by representing <code>x</code> and <code>y</code> as convex combinations of <code>x̂</code> and <code>ŷ</code>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; N = length(x̂)</code><code class="nohighlight hljs ansi" style="display:block;">7</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = Model();</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, -1 &lt;= x &lt;= 2)</code><code class="nohighlight hljs ansi" style="display:block;">x</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, y)</code><code class="nohighlight hljs ansi" style="display:block;">y</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @variable(model, 0 &lt;= λ[1:N] &lt;= 1)</code><code class="nohighlight hljs ansi" style="display:block;">7-element Vector{VariableRef}:
 λ[1]
 λ[2]
 λ[3]
 λ[4]
 λ[5]
 λ[6]
 λ[7]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @objective(model, Max, y)</code><code class="nohighlight hljs ansi" style="display:block;">y</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @constraints(model, begin
           x == sum(x̂[i] * λ[i] for i in 1:N)
           y == sum(ŷ[i] * λ[i] for i in 1:N)
           sum(λ) == 1
           λ in SOS2()
       end)</code><code class="nohighlight hljs ansi" style="display:block;">(x + λ[1] + 0.5 λ[2] - 0.5 λ[4] - λ[5] - 1.5 λ[6] - 2 λ[7] = 0, y - λ[1] - 0.25 λ[2] - 0.25 λ[4] - λ[5] - 2.25 λ[6] - 4 λ[7] = 0, λ[1] + λ[2] + λ[3] + λ[4] + λ[5] + λ[6] + λ[7] = 1, [λ[1], λ[2], λ[3], λ[4], λ[5], λ[6], λ[7]] ∈ MathOptInterface.SOS2{Float64}([1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0]))</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../multi_commodity_network/">« The network multi-commodity flow problem</a><a class="docs-footer-nextpage" href="../piecewise_linear/">Approximating nonlinear functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Sunday 3 December 2023 20:37">Sunday 3 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
