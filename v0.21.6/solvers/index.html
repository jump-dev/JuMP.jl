<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Interacting with solvers · JuMP</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44252521-1', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script data-main="../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" data-theme-name="documenter-dark" href="../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../assets/themeswap.js"></script><script data-outdated-warner="">function maybeAddWarning () {
    const head = document.getElementsByTagName('head')[0];

    // Add a noindex meta tag (unless one exists) so that search engines don't index this version of the docs.
    if (document.body.querySelector('meta[name="robots"]') === null) {
        const meta = document.createElement('meta');
        meta.name = 'robots';
        meta.content = 'noindex';

        head.appendChild(meta);
    };

    // Add a stylesheet to avoid inline styling
    const style = document.createElement('style');
    style.type = 'text/css';
    style.appendChild(document.createTextNode('.outdated-warning-overlay {  position: fixed;  top: 0;  left: 0;  right: 0;  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);  z-index: 999;  background-color: #ffaba7;  color: rgba(0, 0, 0, 0.7);  border-bottom: 3px solid #da0b00;  padding: 10px 35px;  text-align: center;  font-size: 15px; }  .outdated-warning-overlay .outdated-warning-closer {    position: absolute;    top: calc(50% - 10px);    right: 18px;    cursor: pointer;    width: 12px; }  .outdated-warning-overlay a {    color: #2e63b8; }    .outdated-warning-overlay a:hover {      color: #363636; }'));
    head.appendChild(style);

    const div = document.createElement('div');
    div.classList.add('outdated-warning-overlay');
    const closer = document.createElement('div');
    closer.classList.add('outdated-warning-closer');

    // Icon by font-awesome (license: https://fontawesome.com/license, link: https://fontawesome.com/icons/times?style=solid)
    closer.innerHTML = '<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>';
    closer.addEventListener('click', function () {
        document.body.removeChild(div);
    });
    let href = '/stable';
    if (window.documenterBaseURL) {
        href = window.documenterBaseURL + '/../stable';
    }
    div.innerHTML = 'This documentation is not for the latest version. <br> <a href="' + href + '">Go to the latest documentation</a>.';
    div.appendChild(closer);
    document.body.appendChild(div);
};

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', maybeAddWarning);
} else {
    maybeAddWarning();
};
</script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img alt="JuMP logo" src="../assets/logo.png"/></a><div class="docs-package-name"><span class="docs-autofit">JuMP</span></div><form action="../search/" class="docs-search"><input class="docs-search-query" id="documenter-search-query" name="q" placeholder="Search docs" type="text"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><input checked="" class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../installation/">Installation Guide</a></li><li><a class="tocitem" href="../quickstart/">Quick Start Guide</a></li><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../expressions/">Expressions</a></li><li><a class="tocitem" href="../objective/">Objectives</a></li><li><a class="tocitem" href="../constraints/">Constraints</a></li><li><a class="tocitem" href="../containers/">Containers</a></li><li class="is-active"><a class="tocitem" href="">Interacting with solvers</a><ul class="internal"><li><a class="tocitem" href="#Automatic-and-Manual-modes"><span>Automatic and Manual modes</span></a></li><li><a class="tocitem" href="#Direct-mode"><span>Direct mode</span></a></li><li><a class="tocitem" href="#Solver-attributes"><span>Solver attributes</span></a></li><li><a class="tocitem" href="#File-formats"><span>File formats</span></a></li></ul></li><li><a class="tocitem" href="../solutions/">Querying Solutions</a></li><li><a class="tocitem" href="../nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../callbacks/">Callbacks</a></li><li><a class="tocitem" href="../extensions/">Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../reference/callbacks/">Callback API</a></li><li><a class="tocitem" href="../reference/constraints/">Constraint API</a></li><li><a class="tocitem" href="../reference/containers/">Containers API</a></li><li><a class="tocitem" href="../reference/expressions/">Expression API</a></li><li><a class="tocitem" href="../reference/models/">Model API</a></li><li><a class="tocitem" href="../reference/moi/">MathOptInterface API</a></li><li><a class="tocitem" href="../reference/nonlinear/">Nonlinear API</a></li><li><a class="tocitem" href="../reference/objectives/">Objective API</a></li><li><a class="tocitem" href="../reference/solutions/">Solution API</a></li><li><a class="tocitem" href="../reference/variables/">Variable API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/basic/">A basic example</a></li><li><a class="tocitem" href="../examples/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../examples/cannery/">The cannery problem</a></li><li><a class="tocitem" href="../examples/clnlbeam/">The clnlbeam problem</a></li><li><a class="tocitem" href="../examples/cluster/">K-means clustering via SDP</a></li><li><a class="tocitem" href="../examples/corr_sdp/">The correlation problem</a></li><li><a class="tocitem" href="../examples/cutting_stock_column_generation/">Cutting stock</a></li><li><a class="tocitem" href="../examples/diet/">The diet problem</a></li><li><a class="tocitem" href="../examples/factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../examples/knapsack/">The knapsack problem</a></li><li><a class="tocitem" href="../examples/max_cut_sdp/">SDP relaxations: max-cut</a></li><li><a class="tocitem" href="../examples/min_distortion/">The minimum distortion problem</a></li><li><a class="tocitem" href="../examples/min_ellipse/">Minimum ellipses</a></li><li><a class="tocitem" href="../examples/mle/">Maximum likelihood estimation</a></li><li><a class="tocitem" href="../examples/multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../examples/nlp_tricks/">Nonlinear tips and tricks</a></li><li><a class="tocitem" href="../examples/prod/">The workforce scheduling problem</a></li><li><a class="tocitem" href="../examples/qcp/">Quadratically constrained programs</a></li><li><a class="tocitem" href="../examples/robust_uncertainty/">Robust uncertainty sets</a></li><li><a class="tocitem" href="../examples/rosenbrock/">The Rosenbrock function</a></li><li><a class="tocitem" href="../examples/steelT3/">The SteelT3 problem</a></li><li><a class="tocitem" href="../examples/sudoku/">Solving Sudokus with MIP</a></li><li><a class="tocitem" href="../examples/transp/">The transportation problem</a></li><li><a class="tocitem" href="../examples/urban_plan/">The urban planning problem</a></li></ul></li><li><a class="tocitem" href="../style/">Style Guide</a></li><li><a class="tocitem" href="../roadmap/">Development Roadmap</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href="">Interacting with solvers</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">Interacting with solvers</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/solvers.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a></div></header><article class="content" id="documenter-page"><h1 id="Interacting-with-solvers"><a class="docs-heading-anchor" href="#Interacting-with-solvers">Interacting with solvers</a><a id="Interacting-with-solvers-1"></a><a class="docs-heading-anchor-permalink" href="#Interacting-with-solvers" title="Permalink"></a></h1><p>A JuMP model keeps a <a href="https://github.com/jump-dev/MathOptInterface.jl">MathOptInterface (MOI)</a><em>backend</em> of type <code>MOI.ModelLike</code> that stores the optimization problem and acts as the optimization solver. We call it an MOI <em>backend</em> and not optimizer as it can also be a wrapper around an optimization file format such as MPS that writes the JuMP model in a file. From JuMP, the MOI backend can be accessed using the <a href="../reference/models/#JuMP.backend"><code>backend</code></a> function. JuMP can be viewed as a lightweight, user-friendly layer on top of the MOI backend, in the sense that:</p><ul><li>JuMP does not maintain any copy of the model outside this MOI backend.</li><li>JuMP variable (resp. constraint) references are simple structures containing both a reference to the JuMP model and the MOI index of the variable (resp. constraint).</li><li>JuMP gives the constraints to the MOI backend in the form provided by the user without doing any automatic reformulation.</li><li>variables additions, constraints additions/modifications and objective modifications are directly applied to the MOI backend thus expecting the backend to support such modifications.</li></ul><p>While this allows JuMP to be a thin wrapper on top of the solver API, as mentioned in the last point above, this seems rather demanding on the solver. Indeed, while some solvers support incremental building of the model and modifications before and after solve, other solvers only support the model being copied at once before solve. Moreover, it seems to require all solvers to implement all possible reformulations independently which seems both very ambitious and might generate a lot of duplicated code.</p><p>These apparent limitations are addressed at level of MOI in a manner that is completely transparent to JuMP. While the MOI API may seem very demanding, it allows MOI models to be a succession of lightweight MOI layers that fill the gap between JuMP requirements and the solver capabilities. The remainder of this section describes how JuMP interacts with the MOI backend.</p><p>JuMP models can be created in three different modes: <code>AUTOMATIC</code>, <code>MANUAL</code> and <code>DIRECT</code>.</p><h2 id="Automatic-and-Manual-modes"><a class="docs-heading-anchor" href="#Automatic-and-Manual-modes">Automatic and Manual modes</a><a id="Automatic-and-Manual-modes-1"></a><a class="docs-heading-anchor-permalink" href="#Automatic-and-Manual-modes" title="Permalink"></a></h2><p>In <code>AUTOMATIC</code> and <code>MANUAL</code> modes, two MOI layers are automatically applied to the optimizer:</p><ul><li><code>CachingOptimizer</code>: maintains a cache of the model so that when the optimizer does not support an incremental change to the model, the optimizer's internal model can be discarded and restored from the cache just before optimization. The <code>CachingOptimizer</code> has two different modes: <code>AUTOMATIC</code> and <code>MANUAL</code> corresponding to the two JuMP modes with the same names.</li><li><code>LazyBridgeOptimizer</code> (this can be disabled using the <code>bridge_constraints</code> keyword argument to <a href="../reference/models/#JuMP.Model"><code>Model</code></a> constructor): when a constraint added is not supported by the optimizer, it attempts to transform the constraint into an equivalent form, possibly adding new variables and constraints that are supported by the optimizer. The applied transformations are selected among known recipes which are called bridges. A few default bridges are defined in MOI but new ones can be defined and added to the <code>LazyBridgeOptimizer</code> used by JuMP.</li></ul><p>See the <a href="https://jump.dev/MathOptInterface.jl/v0.9.1/">MOI documentation</a> for more details on these two MOI layers.</p><p>To attach an optimizer to a JuMP model, JuMP needs to be able to create a new empty optimizer instance. For this reason, we provide JuMP with a function that creates a new optimizer (i.e., an optimizer factory), instead of a concrete optimizer object.</p><p>The factory can be provided either at model construction time by calling <a href="../reference/models/#JuMP.set_optimizer"><code>set_optimizer</code></a>. An optimizer must be set before a call to <a href="../reference/solutions/#JuMP.optimize!"><code>optimize!</code></a>. The optimizer can be grouped with attributes to be set before optimization with <a href="../reference/models/#JuMP.optimizer_with_attributes"><code>optimizer_with_attributes</code></a>.</p><p>New JuMP models are created using the <a href="../reference/models/#JuMP.Model"><code>Model</code></a> constructor:</p><p>A JuMP model may be reused by emptying it first with <code>empty!(model)</code>.</p><h2 id="Direct-mode"><a class="docs-heading-anchor" href="#Direct-mode">Direct mode</a><a id="Direct-mode-1"></a><a class="docs-heading-anchor-permalink" href="#Direct-mode" title="Permalink"></a></h2><p>JuMP models can be created in <code>MOI.DIRECT</code> mode using the <a href="../reference/models/#JuMP.direct_model"><code>JuMP.direct_model</code></a> function.</p><h2 id="Solver-attributes"><a class="docs-heading-anchor" href="#Solver-attributes">Solver attributes</a><a id="Solver-attributes-1"></a><a class="docs-heading-anchor-permalink" href="#Solver-attributes" title="Permalink"></a></h2><p>Some solver attributes can be queried and set through JuMP models.</p><p>Examples include:</p><ul><li><a href="../reference/models/#JuMP.set_silent"><code>set_silent</code></a> and <a href="../reference/models/#JuMP.unset_silent"><code>unset_silent</code></a></li><li><a href="../reference/models/#JuMP.set_time_limit_sec"><code>set_time_limit_sec</code></a> and <a href="../reference/models/#JuMP.unset_time_limit_sec"><code>unset_time_limit_sec</code></a></li></ul><h2 id="File-formats"><a class="docs-heading-anchor" href="#File-formats">File formats</a><a id="File-formats-1"></a><a class="docs-heading-anchor-permalink" href="#File-formats" title="Permalink"></a></h2><p>JuMP can write models to a variety of file-formats using <a href="../reference/models/#JuMP.write_to_file"><code>write_to_file</code></a> and <a href="../reference/models/#Base.write-Tuple{IO,Model}"><code>Base.write</code></a>.</p><p>The file formats are defined <a href="https://jump.dev/MathOptInterface.jl/v0.9/apireference/#MathOptInterface.FileFormats.FileFormat">within MathOptInterface in the FileFormats enumeration</a>.</p><p>JuMP models can be created from file formats using <a href="../reference/models/#JuMP.read_from_file"><code>read_from_file</code></a> and <a href="../reference/models/#Base.read-Tuple{IO,Type{Model}}"><code>Base.read</code></a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../containers/">« Containers</a><a class="docs-footer-nextpage" href="../solutions/">Querying Solutions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 28 January 2021 23:52">Thursday 28 January 2021</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>