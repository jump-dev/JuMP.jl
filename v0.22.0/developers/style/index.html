<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Style Guide · JuMP</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-44252521-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-44252521-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/extra_styles.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="JuMP logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="JuMP logo"/></a><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../installation/">Installation Guide</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/getting_started/getting_started_with_julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../../tutorials/getting_started/getting_started_with_JuMP/">Getting started with JuMP</a></li><li><a class="tocitem" href="../../tutorials/getting_started/getting_started_with_sets_and_indexing/">Getting started with sets and indexing</a></li><li><a class="tocitem" href="../../tutorials/getting_started/getting_started_with_data_and_plotting/">Getting started with data and plotting</a></li><li><a class="tocitem" href="../../tutorials/getting_started/performance_tips/">Performance tips</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Linear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/linear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../tutorials/linear/diet/">The diet problem</a></li><li><a class="tocitem" href="../../tutorials/linear/cannery/">The cannery problem</a></li><li><a class="tocitem" href="../../tutorials/linear/facility_location/">The facility location problem</a></li><li><a class="tocitem" href="../../tutorials/linear/factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../../tutorials/linear/finance/">Financial modeling problems</a></li><li><a class="tocitem" href="../../tutorials/linear/geographic_clustering/">Geographical clustering</a></li><li><a class="tocitem" href="../../tutorials/linear/knapsack/">The knapsack problem</a></li><li><a class="tocitem" href="../../tutorials/linear/multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../../tutorials/linear/n-queens/">N-Queens</a></li><li><a class="tocitem" href="../../tutorials/linear/network_flows/">Network flow problems</a></li><li><a class="tocitem" href="../../tutorials/linear/prod/">The workforce scheduling problem</a></li><li><a class="tocitem" href="../../tutorials/linear/steelT3/">The SteelT3 problem</a></li><li><a class="tocitem" href="../../tutorials/linear/sudoku/">Sudoku</a></li><li><a class="tocitem" href="../../tutorials/linear/transp/">The transportation problem</a></li><li><a class="tocitem" href="../../tutorials/linear/urban_plan/">The urban planning problem</a></li><li><a class="tocitem" href="../../tutorials/linear/callbacks/">Callbacks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Nonlinear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/nonlinear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/portfolio/">Portfolio optimization</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/qcp/">Quadratically constrained programs</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/space_shuttle_reentry_trajectory/">Optimal control for a Space Shuttle reentry trajectory</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/rocket_control/">Rocket Control</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/rosenbrock/">The Rosenbrock function</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/mle/">Maximum likelihood estimation</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/clnlbeam/">The clnlbeam problem</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Conic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/conic/tips_and_tricks/">Tips and Tricks</a></li><li><a class="tocitem" href="../../tutorials/conic/logistic_regression/">Logistic regression</a></li><li><a class="tocitem" href="../../tutorials/conic/cluster/">K-means clustering via SDP</a></li><li><a class="tocitem" href="../../tutorials/conic/corr_sdp/">The correlation problem</a></li><li><a class="tocitem" href="../../tutorials/conic/experiment_design/">Experiment design</a></li><li><a class="tocitem" href="../../tutorials/conic/max_cut_sdp/">SDP relaxations: max-cut</a></li><li><a class="tocitem" href="../../tutorials/conic/min_distortion/">The minimum distortion problem</a></li><li><a class="tocitem" href="../../tutorials/conic/min_ellipse/">Minimum ellipses</a></li><li><a class="tocitem" href="../../tutorials/conic/robust_uncertainty/">Robust uncertainty sets</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Algorithms</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/algorithms/benders_decomposition/">Benders decomposition</a></li><li><a class="tocitem" href="../../tutorials/algorithms/benders_lazy_constraints/">Benders decomposition (via callbacks)</a></li><li><a class="tocitem" href="../../tutorials/algorithms/cutting_stock_column_generation/">Column generation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-6" type="checkbox"/><label class="tocitem" for="menuitem-2-6"><span class="docs-label">Applications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/applications/power_systems/">Power Systems</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/models/">Models</a></li><li><a class="tocitem" href="../../manual/variables/">Variables</a></li><li><a class="tocitem" href="../../manual/expressions/">Expressions</a></li><li><a class="tocitem" href="../../manual/objective/">Objectives</a></li><li><a class="tocitem" href="../../manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../manual/containers/">Containers</a></li><li><a class="tocitem" href="../../manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../manual/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../manual/callbacks/">Solver-independent Callbacks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../reference/models/">Models</a></li><li><a class="tocitem" href="../../reference/variables/">Variables</a></li><li><a class="tocitem" href="../../reference/expressions/">Expressions</a></li><li><a class="tocitem" href="../../reference/objectives/">Objectives</a></li><li><a class="tocitem" href="../../reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../reference/containers/">Containers</a></li><li><a class="tocitem" href="../../reference/solutions/">Solutions</a></li><li><a class="tocitem" href="../../reference/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../reference/extensions/">Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Background Information</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../background/should_i_use/">Should I use JuMP?</a></li><li><a class="tocitem" href="../../background/algebraic_modeling_languages/">Algebraic modeling languages</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox" checked/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../extensions/">Extensions</a></li><li class="is-active"><a class="tocitem" href>Style Guide</a><ul class="internal"><li><a class="tocitem" href="#Style-guide"><span>Style guide</span></a></li><li><a class="tocitem" href="#Documentation"><span>Documentation</span></a></li><li><a class="tocitem" href="#Testing"><span>Testing</span></a></li><li><a class="tocitem" href="#Design-principles"><span>Design principles</span></a></li></ul></li><li><a class="tocitem" href="../roadmap/">Roadmap</a></li></ul></li><li><a class="tocitem" href="../../release_notes/">Release notes</a></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">MathOptInterface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-8-2" type="checkbox"/><label class="tocitem" for="menuitem-8-2"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/background/motivation/">Motivation</a></li><li><a class="tocitem" href="../../moi/background/duality/">Duality</a></li><li><a class="tocitem" href="../../moi/background/naming_conventions/">Naming conventions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-3" type="checkbox"/><label class="tocitem" for="menuitem-8-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/tutorials/example/">Solving a problem using MathOptInterface</a></li><li><a class="tocitem" href="../../moi/tutorials/implementing/">Implementing a solver interface</a></li><li><a class="tocitem" href="../../moi/tutorials/mathprogbase/">Transitioning from MathProgBase</a></li><li><a class="tocitem" href="../../moi/tutorials/bridging_constraint/">Implementing a constraint bridge</a></li><li><a class="tocitem" href="../../moi/tutorials/manipulating_expressions/">Manipulating expressions</a></li><li><a class="tocitem" href="../../moi/tutorials/latency/">Latency</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-4" type="checkbox"/><label class="tocitem" for="menuitem-8-4"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/manual/standard_form/">Standard form problem</a></li><li><a class="tocitem" href="../../moi/manual/models/">Models</a></li><li><a class="tocitem" href="../../moi/manual/variables/">Variables</a></li><li><a class="tocitem" href="../../moi/manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../moi/manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../moi/manual/modification/">Problem modification</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-5" type="checkbox"/><label class="tocitem" for="menuitem-8-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/reference/standard_form/">Standard form</a></li><li><a class="tocitem" href="../../moi/reference/models/">Models</a></li><li><a class="tocitem" href="../../moi/reference/variables/">Variables</a></li><li><a class="tocitem" href="../../moi/reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../moi/reference/modification/">Modifications</a></li><li><a class="tocitem" href="../../moi/reference/nonlinear/">Nonlinear programming</a></li><li><a class="tocitem" href="../../moi/reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../moi/reference/errors/">Errors</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6" type="checkbox"/><label class="tocitem" for="menuitem-8-6"><span class="docs-label">Submodules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-8-6-1" type="checkbox"/><label class="tocitem" for="menuitem-8-6-1"><span class="docs-label">Benchmarks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/Benchmarks/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/Benchmarks/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-2" type="checkbox"/><label class="tocitem" for="menuitem-8-6-2"><span class="docs-label">Bridges</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/Bridges/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/Bridges/implementation/">Implementation</a></li><li><a class="tocitem" href="../../moi/submodules/Bridges/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-3" type="checkbox"/><label class="tocitem" for="menuitem-8-6-3"><span class="docs-label">FileFormats</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/FileFormats/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/FileFormats/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-4" type="checkbox"/><label class="tocitem" for="menuitem-8-6-4"><span class="docs-label">Utilities</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/Utilities/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/Utilities/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-6-5" type="checkbox"/><label class="tocitem" for="menuitem-8-6-5"><span class="docs-label">Test</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../moi/submodules/Test/overview/">Overview</a></li><li><a class="tocitem" href="../../moi/submodules/Test/reference/">API Reference</a></li></ul></li></ul></li><li><a class="tocitem" href="../../moi/release_notes/">Release notes</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Developer Docs</a></li><li class="is-active"><a href>Style Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Style Guide</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/developers/style.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Style-guide-and-design-principles"><a class="docs-heading-anchor" href="#Style-guide-and-design-principles">Style guide and design principles</a><a id="Style-guide-and-design-principles-1"></a><a class="docs-heading-anchor-permalink" href="#Style-guide-and-design-principles" title="Permalink"></a></h1><h2 id="Style-guide"><a class="docs-heading-anchor" href="#Style-guide">Style guide</a><a id="Style-guide-1"></a><a class="docs-heading-anchor-permalink" href="#Style-guide" title="Permalink"></a></h2><p>This section describes the coding style rules that apply to JuMP code and that we recommend for JuMP models and surrounding Julia code. The motivations for a style guide include:</p><ul><li>conveying best practices for writing readable and maintainable code</li><li>reducing the amount of time spent on <a href="https://en.wikipedia.org/wiki/Law_of_triviality">bike-shedding</a> by establishing basic naming and formatting conventions</li><li>lowering the barrier for new contributors by codifying the existing practices (e.g., you can be more confident your code will pass review if you follow the style guide)</li></ul><p>In some cases, the JuMP style guide diverges from the <a href="https://docs.julialang.org/en/v1.0.0/manual/style-guide/">Julia style guide</a>. All such cases will be explicitly noted and justified.</p><p>The JuMP style guide adopts many recommendations from the <a href="https://github.com/google/styleguide">Google style guides</a>.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>The style guide is always a work in progress, and not all JuMP code follows the rules. When modifying JuMP, please fix the style violations of the surrounding code (i.e., leave the code tidier than when you started). If large changes are needed, consider separating them into another PR.</p></div></div><h3 id="JuliaFormatter"><a class="docs-heading-anchor" href="#JuliaFormatter">JuliaFormatter</a><a id="JuliaFormatter-1"></a><a class="docs-heading-anchor-permalink" href="#JuliaFormatter" title="Permalink"></a></h3><p>JuMP uses <a href="https://github.com/domluna/JuliaFormatter.jl">JuliaFormatter.jl</a> as an autoformatting tool.</p><p>We use the options contained in <a href="https://github.com/jump-dev/JuMP.jl/blob/master/.JuliaFormatter.toml"><code>.JuliaFormatter.toml</code></a>.</p><p>To format code, <code>cd</code> to the JuMP directory, then run:</p><pre><code class="language-julia hljs">] add JuliaFormatter@0.13.2
using JuliaFormatter
format(&quot;src&quot;)
format(&quot;test&quot;)</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>A continuous integration check verifies that all PRs made to JuMP have passed the formatter.</p></div></div><p>The following sections outline extra style guide points that are not fixed automatically by JuliaFormatter.</p><h3 id="Whitespace"><a class="docs-heading-anchor" href="#Whitespace">Whitespace</a><a id="Whitespace-1"></a><a class="docs-heading-anchor-permalink" href="#Whitespace" title="Permalink"></a></h3><p>For conciseness, never use more than one blank line within a function, and never begin a function with a blank line.</p><p>Bad:</p><pre><code class="language-julia hljs">function foo(x)
    y = 2 * x


    return y
end

function foo(x)

    y = 2 * x
    return y
end</code></pre><h3 id="Juxtaposed-multiplication"><a class="docs-heading-anchor" href="#Juxtaposed-multiplication">Juxtaposed multiplication</a><a id="Juxtaposed-multiplication-1"></a><a class="docs-heading-anchor-permalink" href="#Juxtaposed-multiplication" title="Permalink"></a></h3><p>Only use juxtaposed multiplication when the right-hand side is a symbol.</p><p>Good:</p><pre><code class="language-julia hljs">2x  # Acceptable if there are space constraints.
2 * x  # This is preferred if space is not an issue.
2 * (x + 1)</code></pre><p>Bad:</p><pre><code class="language-julia hljs">2(x + 1)</code></pre><h3 id="Empty-vectors"><a class="docs-heading-anchor" href="#Empty-vectors">Empty vectors</a><a id="Empty-vectors-1"></a><a class="docs-heading-anchor-permalink" href="#Empty-vectors" title="Permalink"></a></h3><p>For a type <code>T</code>, <code>T[]</code> and <code>Vector{T}()</code> are equivalent ways to create an empty vector with element type <code>T</code>. Prefer <code>T[]</code> because it is more concise.</p><h3 id="Comments"><a class="docs-heading-anchor" href="#Comments">Comments</a><a id="Comments-1"></a><a class="docs-heading-anchor-permalink" href="#Comments" title="Permalink"></a></h3><p>For non-native speakers and for general clarity, comments in code must be proper English sentences with appropriate punctuation.</p><p>Good:</p><pre><code class="language-julia hljs"># This is a comment demonstrating a good comment.</code></pre><p>Bad:</p><pre><code class="language-julia hljs"># a bad comment</code></pre><h3 id="JuMP-macro-syntax"><a class="docs-heading-anchor" href="#JuMP-macro-syntax">JuMP macro syntax</a><a id="JuMP-macro-syntax-1"></a><a class="docs-heading-anchor-permalink" href="#JuMP-macro-syntax" title="Permalink"></a></h3><p>For consistency, always use parentheses.</p><p>Good:</p><pre><code class="language-julia hljs">@variable(model, x &gt;= 0)</code></pre><p>Bad:</p><pre><code class="language-julia hljs">@variable model x &gt;= 0</code></pre><p>For consistency, always use <code>constant * variable</code> as opposed to <code>variable * constant</code>. This makes it easier to read models in ambiguous cases like <code>a * x</code>.</p><p>Good:</p><pre><code class="language-julia hljs">a = 4
@constraint(model, 3 * x &lt;= 1)
@constraint(model, a * x &lt;= 1)</code></pre><p>Bad:</p><pre><code class="language-julia hljs">a = 4
@constraint(model, x * 3 &lt;= 1)
@constraint(model, x * a &lt;= 1)</code></pre><p>In order to reduce boilerplate code, prefer the plural form of macros over lots of repeated calls to singular forms.</p><p>Good:</p><pre><code class="language-julia hljs">@variables(model, begin
    x &gt;= 0
    y &gt;= 1
    z &lt;= 2
end)</code></pre><p>Bad:</p><pre><code class="language-julia hljs">@variable(model, x &gt;= 0)
@variable(model, y &gt;= 1)
@variable(model, z &lt;= 2)</code></pre><p>An exception is made for calls with many keyword arguments, since these need to be enclosed in parentheses in order to parse properly.</p><p>Acceptable:</p><pre><code class="language-julia hljs">@variable(model, x &gt;= 0, start = 0.0, base_name = &quot;my_x&quot;)
@variable(model, y &gt;= 1, start = 2.0)
@variable(model, z &lt;= 2, start = -1.0)</code></pre><p>Also acceptable:</p><pre><code class="language-julia hljs">@variables(model, begin
    x &gt;= 0, (start = 0.0, base_name = &quot;my_x&quot;)
    y &gt;= 1, (start = 2.0)
    z &lt;= 2, (start = -1.0)
end)</code></pre><p>While we always use <code>in</code> for <code>for</code>-loops, it is acceptable to use <code>=</code> in the container declarations of JuMP macros.</p><p>Okay:</p><pre><code class="language-julia hljs">@variable(model, x[i=1:3])</code></pre><p>Also okay:</p><pre><code class="language-julia hljs">@variable(model, x[i in 1:3])</code></pre><h3 id="Naming"><a class="docs-heading-anchor" href="#Naming">Naming</a><a id="Naming-1"></a><a class="docs-heading-anchor-permalink" href="#Naming" title="Permalink"></a></h3><pre><code class="language-julia hljs">module SomeModule end
function some_function end
const SOME_CONSTANT = ...
struct SomeStruct
  some_field::SomeType
end
@enum SomeEnum ENUM_VALUE_A ENUM_VALUE_B
some_local_variable = ...
some_file.jl # Except for ModuleName.jl.</code></pre><h3 id="Exported-and-non-exported-names"><a class="docs-heading-anchor" href="#Exported-and-non-exported-names">Exported and non-exported names</a><a id="Exported-and-non-exported-names-1"></a><a class="docs-heading-anchor-permalink" href="#Exported-and-non-exported-names" title="Permalink"></a></h3><p>Begin private module level functions and constants with an underscore. All other objects in the scope of a module should be exported. (See JuMP.jl for an example of how to do this.)</p><p>Names beginning with an underscore should only be used for distinguishing between exported (public) and non-exported (private) objects. Therefore, never begin the name of a local variable with an underscore.</p><pre><code class="language-julia hljs">module MyModule

export public_function, PUBLIC_CONSTANT

function _private_function()
    local_variable = 1
    return
end

function public_function end

const _PRIVATE_CONSTANT = 3.14159
const PUBLIC_CONSTANT = 1.41421

end</code></pre><h3 id="Use-of-underscores-within-names"><a class="docs-heading-anchor" href="#Use-of-underscores-within-names">Use of underscores within names</a><a id="Use-of-underscores-within-names-1"></a><a class="docs-heading-anchor-permalink" href="#Use-of-underscores-within-names" title="Permalink"></a></h3><p>The Julia style guide recommends avoiding underscores &quot;when readable&quot;, for example, <code>haskey</code>, <code>isequal</code>, <code>remotecall</code>, and <code>remotecall_fetch</code>. This convention creates the potential for unnecessary bikeshedding and also forces the user to recall the presence/absence of an underscore, e.g., &quot;was that argument named <code>basename</code> or <code>base_name</code>?&quot;. For consistency, <em>always use underscores</em> in variable names and function names to separate words.</p><h3 id="Use-of-!"><a class="docs-heading-anchor" href="#Use-of-!">Use of <code>!</code></a><a id="Use-of-!-1"></a><a class="docs-heading-anchor-permalink" href="#Use-of-!" title="Permalink"></a></h3><p>Julia has a convention of appending <code>!</code> to a function name if the function modifies its arguments. We recommend to:</p><ul><li>Omit <code>!</code> when the name itself makes it clear that modification is taking place, e.g., <code>add_constraint</code> and <code>set_name</code>. We depart from the Julia style guide because <code>!</code> does not provide a reader with any additional information in this case, and adherence to this convention is not uniform even in base Julia itself (consider <code>Base.println</code> and <code>Base.finalize</code>).</li><li>Use <code>!</code> in all other cases. In particular it can be used to distinguish between modifying and non-modifying variants of the same function like <code>scale</code> and <code>scale!</code>.</li></ul><p>Note that <code>!</code> is <em>not</em> a self-documenting feature because it is still ambiguous which arguments are modified when multiple arguments are present. Be sure to document which arguments are modified in the method&#39;s docstring.</p><p>See also the Julia style guide recommendations for <a href="https://docs.julialang.org/en/v1/manual/style-guide/#Write-functions-with-argument-ordering-similar-to-Julia-Base">ordering of function arguments</a>.</p><h3 id="Abbreviations"><a class="docs-heading-anchor" href="#Abbreviations">Abbreviations</a><a id="Abbreviations-1"></a><a class="docs-heading-anchor-permalink" href="#Abbreviations" title="Permalink"></a></h3><p>Abbreviate names to make the code more readable, not to save typing. Don&#39;t arbitrarily delete letters from a word to abbreviate it (e.g., <code>indx</code>). Use abbreviations consistently within a body of code (e.g., do not mix <code>con</code> and <code>constr</code>, <code>idx</code> and <code>indx</code>).</p><p>Common abbreviations:</p><ul><li><code>num</code> for <code>number</code></li><li><code>con</code> for <code>constraint</code></li></ul><h3 id="No-one-letter-variable-names"><a class="docs-heading-anchor" href="#No-one-letter-variable-names">No one-letter variable names</a><a id="No-one-letter-variable-names-1"></a><a class="docs-heading-anchor-permalink" href="#No-one-letter-variable-names" title="Permalink"></a></h3><p>Where possible, avoid one-letter variable names.</p><p>Use <code>model = Model()</code> instead of <code>m = Model()</code></p><p>Exceptions are made for indices in loops.</p><h3 id="User-facing-MethodError"><a class="docs-heading-anchor" href="#User-facing-MethodError">User-facing <code>MethodError</code></a><a id="User-facing-MethodError-1"></a><a class="docs-heading-anchor-permalink" href="#User-facing-MethodError" title="Permalink"></a></h3><p>Specifying argument types for methods is mostly optional in Julia, which means that it&#39;s possible to find out that you are working with unexpected types deep in the call chain. Avoid this situation or handle it with a helpful error message. <em>A user should see a <code>MethodError</code> only for methods that they called directly.</em></p><p>Bad:</p><pre><code class="language-julia hljs">_internal_function(x::Integer) = x + 1
# The user sees a MethodError for _internal_function when calling
# public_function(&quot;a string&quot;). This is not very helpful.
public_function(x) = _internal_function(x)</code></pre><p>Good:</p><pre><code class="language-julia hljs">_internal_function(x::Integer) = x + 1
# The user sees a MethodError for public_function when calling
# public_function(&quot;a string&quot;). This is easy to understand.
public_function(x::Integer) = _internal_function(x)</code></pre><p>If it is hard to provide an error message at the top of the call chain, then the following pattern is also ok:</p><pre><code class="language-julia hljs">_internal_function(x::Integer) = x + 1
function _internal_function(x)
    error(
        &quot;Internal error. This probably means that you called &quot; *
        &quot;public_function() with the wrong type.&quot;,
    )
end
public_function(x) = _internal_function(x)</code></pre><h3 id="@enum-vs.-Symbol"><a class="docs-heading-anchor" href="#@enum-vs.-Symbol"><code>@enum</code> vs. <code>Symbol</code></a><a id="@enum-vs.-Symbol-1"></a><a class="docs-heading-anchor-permalink" href="#@enum-vs.-Symbol" title="Permalink"></a></h3><p>The <code>@enum</code> macro lets you define types with a finite number of values that are explicitly enumerated (like <code>enum</code> in C/C++). <code>Symbol</code>s are lightweight strings that are used to represent identifiers in Julia (for example, <code>:x</code>).</p><p><code>@enum</code> provides type safety and can have docstrings attached to explain the possible values. Use <code>@enum</code>s when applicable, e.g., for reporting statuses. Use strings to provide long-form additional information like error messages.</p><p>Use of <code>Symbol</code> should typically be reserved for identifiers, e.g., for lookup in the JuMP model (<code>model[:my_variable]</code>).</p><h3 id="using-vs.-import"><a class="docs-heading-anchor" href="#using-vs.-import"><code>using</code> vs. <code>import</code></a><a id="using-vs.-import-1"></a><a class="docs-heading-anchor-permalink" href="#using-vs.-import" title="Permalink"></a></h3><p><code>using ModuleName</code> brings all symbols exported by the module <code>ModuleName</code> into scope, while <code>import ModuleName</code> brings only the module itself into scope. (See the Julia <a href="https://docs.julialang.org/en/v1/manual/modules/#modules-1">manual</a>) for examples and more details.</p><p>For the same reason that <code>from &lt;module&gt; import *</code> is not recommended in python (<a href="https://www.python.org/dev/peps/pep-0008/#imports">PEP 8</a>), avoid <code>using ModuleName</code> except in throw-away scripts or at the REPL. The <code>using</code> statement makes it harder to track where symbols come from and exposes the code to ambiguities when two modules export the same symbol.</p><p>Prefer <code>using ModuleName: x, p</code> to <code>import ModuleName.x, ModuleName.p</code> and <code>import MyModule: x, p</code> because the <code>import</code> versions allow method extension without qualifying with the module name.</p><p>Similarly, <code>using ModuleName: ModuleName</code> is an acceptable substitute for <code>import ModuleName</code>, because it does not bring all symbols exported by <code>ModuleName</code> into scope. However, we prefer <code>import ModuleName</code> for consistency.</p><h2 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h2><p>This section describes the writing style that should be used when writing documentation for JuMP (and supporting packages).</p><p>We can recommend the documentation style guides by <a href="https://www.divio.com/blog/documentation/">Divio</a>, <a href="https://developers.google.com/style/">Google</a>, and <a href="https://www.writethedocs.org/guide/">Write the Docs</a> as general reading for those writing documentation. This guide delegates a thorough handling of the topic to those guides and instead elaborates on the points more specific to Julia and documentation that use <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter</a>.</p><ul><li>Be concise</li><li>Use lists instead of long sentences</li><li>Use numbered lists when describing a sequence, e.g., (1) do X, (2) then Y</li><li>Use bullet points when the items are not ordered</li><li>Example code should be covered by doctests</li><li>When a word is a Julia symbol and not an English word, enclose it with backticks. In addition, if it has a docstring in this doc add a link using <code>@ref</code>. If it is a plural, add the &quot;s&quot; after the closing backtick. For example,<pre><code class="nohighlight hljs">[`VariableRef`](@ref)s</code></pre></li><li>Use <a href="https://juliadocs.github.io/Documenter.jl/v0.21/man/syntax/#@meta-block-1"><code>@meta</code></a> blocks for TODOs and other comments that shouldn&#39;t be visible to readers. For example,<pre><code class="language- hljs">```@meta
# TODO: Mention also X, Y, and Z.
```</code></pre></li></ul><h3 id="Docstrings"><a class="docs-heading-anchor" href="#Docstrings">Docstrings</a><a id="Docstrings-1"></a><a class="docs-heading-anchor-permalink" href="#Docstrings" title="Permalink"></a></h3><ul><li>Every exported object needs a docstring</li><li>All examples in docstrings should be <a href="https://juliadocs.github.io/Documenter.jl/stable/man/doctests/"><code>jldoctests</code></a></li><li>Always use complete English sentences with proper punctuation</li><li>Do not terminate lists with punctuation (e.g., as in this doc)</li></ul><p>Here is an example:</p><pre><code class="language-julia hljs">&quot;&quot;&quot;
    signature(args; kwargs...)

Short sentence describing the function.

Optional: add a slightly longer paragraph describing the function.

## Notes

 - List any notes that the user should be aware of

## Examples

```jldoctest
julia&gt; 1 + 1
2
```
&quot;&quot;&quot;</code></pre><h2 id="Testing"><a class="docs-heading-anchor" href="#Testing">Testing</a><a id="Testing-1"></a><a class="docs-heading-anchor-permalink" href="#Testing" title="Permalink"></a></h2><p>Use a module to encapsulate tests, and structure all tests as functions. This avoids leaking local variables between tests.</p><p>Here is a basic skeleton:</p><pre><code class="language-julia hljs">module TestPkg

using Test

_helper_function() = 2

function test_addition()
    @test 1 + 1 == _helper_function()
end

function runtests()
    for name in names(@__MODULE__; all = true)
        if startswith(&quot;$(name)&quot;, &quot;test_&quot;)
            @testset &quot;$(name)&quot; begin
                getfield(@__MODULE__, name)()
            end
        end
    end
end

end # TestPkg

TestPkg.runtests()</code></pre><p>Break the tests into multiple files, with one module per file, so that subsets of the codebase can be tested by calling <code>include</code> with the relevant file.</p><h2 id="Design-principles"><a class="docs-heading-anchor" href="#Design-principles">Design principles</a><a id="Design-principles-1"></a><a class="docs-heading-anchor-permalink" href="#Design-principles" title="Permalink"></a></h2><p>TODO: How to structure and test large JuMP models, libraries that use JuMP.</p><p>For how to write a solver, see MOI.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../extensions/">« Extensions</a><a class="docs-footer-nextpage" href="../roadmap/">Roadmap »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Wednesday 10 November 2021 03:46">Wednesday 10 November 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
