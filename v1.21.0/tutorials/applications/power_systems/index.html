<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Power Systems · JuMP</title><meta name="title" content="Power Systems · JuMP"/><meta property="og:title" content="Power Systems · JuMP"/><meta property="twitter:title" content="Power Systems · JuMP"/><meta name="description" content="Documentation for JuMP."/><meta property="og:description" content="Documentation for JuMP."/><meta property="twitter:description" content="Documentation for JuMP."/><script async src="https://www.googletagmanager.com/gtag/js?id=G-0RZ8X3D3D0"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-0RZ8X3D3D0', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/extra_styles.css" rel="stylesheet" type="text/css"/><link href="../../../assets/citations.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img class="docs-light-only" src="../../../assets/logo.svg" alt="JuMP logo"/><img class="docs-dark-only" src="../../../assets/logo-dark.svg" alt="JuMP logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../../should_i_use/">Should you use JuMP?</a></li><li><a class="tocitem" href="../../../installation/">Installation Guide</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../getting_started/introduction/">Introduction</a></li><li><a class="tocitem" href="../../getting_started/getting_started_with_julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../../getting_started/getting_started_with_JuMP/">Getting started with JuMP</a></li><li><a class="tocitem" href="../../getting_started/getting_started_with_sets_and_indexing/">Getting started with sets and indexing</a></li><li><a class="tocitem" href="../../getting_started/getting_started_with_data_and_plotting/">Getting started with data and plotting</a></li><li><a class="tocitem" href="../../getting_started/debugging/">Debugging</a></li><li><a class="tocitem" href="../../getting_started/design_patterns_for_larger_models/">Design patterns for larger models</a></li><li><a class="tocitem" href="../../getting_started/performance_tips/">Performance tips</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Transitioning</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../transitioning/transitioning_from_matlab/">Transitioning from MATLAB</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Linear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../linear/introduction/">Introduction</a></li><li><a class="tocitem" href="../../linear/knapsack/">The knapsack problem example</a></li><li><a class="tocitem" href="../../linear/diet/">The diet problem</a></li><li><a class="tocitem" href="../../linear/cannery/">The cannery problem</a></li><li><a class="tocitem" href="../../linear/factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../../linear/multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../../linear/multi_commodity_network/">The network multi-commodity flow problem</a></li><li><a class="tocitem" href="../../linear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../linear/piecewise_linear/">Approximating nonlinear functions</a></li><li><a class="tocitem" href="../../linear/facility_location/">The facility location problem</a></li><li><a class="tocitem" href="../../linear/finance/">Financial modeling problems</a></li><li><a class="tocitem" href="../../linear/geographic_clustering/">Geographical clustering</a></li><li><a class="tocitem" href="../../linear/network_flows/">Network flow problems</a></li><li><a class="tocitem" href="../../linear/transp/">The transportation problem</a></li><li><a class="tocitem" href="../../linear/multi_objective_knapsack/">Multi-objective knapsack</a></li><li><a class="tocitem" href="../../linear/multi_objective_examples/">Simple multi-objective examples</a></li><li><a class="tocitem" href="../../linear/sudoku/">Sudoku</a></li><li><a class="tocitem" href="../../linear/n-queens/">N-Queens</a></li><li><a class="tocitem" href="../../linear/constraint_programming/">Constraint programming</a></li><li><a class="tocitem" href="../../linear/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../linear/lp_sensitivity/">Sensitivity analysis of a linear program</a></li><li><a class="tocitem" href="../../linear/basis/">Basis matrices</a></li><li><a class="tocitem" href="../../linear/mip_duality/">Computing the duals of a mixed-integer program</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Nonlinear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../nonlinear/introduction/">Introduction</a></li><li><a class="tocitem" href="../../nonlinear/simple_examples/">Simple examples</a></li><li><a class="tocitem" href="../../nonlinear/portfolio/">Portfolio optimization</a></li><li><a class="tocitem" href="../../nonlinear/rocket_control/">Rocket Control</a></li><li><a class="tocitem" href="../../nonlinear/space_shuttle_reentry_trajectory/">Optimal control for a Space Shuttle reentry trajectory</a></li><li><a class="tocitem" href="../../nonlinear/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../nonlinear/user_defined_hessians/">User-defined Hessians</a></li><li><a class="tocitem" href="../../nonlinear/nested_problems/">Nested optimization problems</a></li><li><a class="tocitem" href="../../nonlinear/querying_hessians/">Computing Hessians</a></li><li><a class="tocitem" href="../../nonlinear/complementarity/">Mixed complementarity problems</a></li><li><a class="tocitem" href="../../nonlinear/classifiers/">Classifiers</a></li><li><a class="tocitem" href="../../nonlinear/operator_ad/">Automatic differentiation of user-defined operators</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Conic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../conic/introduction/">Introduction</a></li><li><a class="tocitem" href="../../conic/start_values/">Primal and dual warm-starts</a></li><li><a class="tocitem" href="../../conic/tips_and_tricks/">Tips and Tricks</a></li><li><a class="tocitem" href="../../conic/simple_examples/">Simple semidefinite programming examples</a></li><li><a class="tocitem" href="../../conic/dualization/">Dualization</a></li><li><a class="tocitem" href="../../conic/arbitrary_precision/">Arbitrary precision arithmetic</a></li><li><a class="tocitem" href="../../conic/logistic_regression/">Logistic regression</a></li><li><a class="tocitem" href="../../conic/experiment_design/">Experiment design</a></li><li><a class="tocitem" href="../../conic/min_ellipse/">Minimal ellipses</a></li><li><a class="tocitem" href="../../conic/ellipse_approx/">Ellipsoid approximation</a></li><li><a class="tocitem" href="../../conic/quantum_discrimination/">Quantum state discrimination</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-6" type="checkbox"/><label class="tocitem" for="menuitem-2-6"><span class="docs-label">Algorithms</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../algorithms/benders_decomposition/">Benders decomposition</a></li><li><a class="tocitem" href="../../algorithms/cutting_stock_column_generation/">Column generation</a></li><li><a class="tocitem" href="../../algorithms/tsp_lazy_constraints/">Traveling Salesperson Problem</a></li><li><a class="tocitem" href="../../algorithms/parallelism/">Parallelism</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-7" type="checkbox" checked/><label class="tocitem" for="menuitem-2-7"><span class="docs-label">Applications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Power Systems</a><ul class="internal"><li><a class="tocitem" href="#Economic-dispatch"><span>Economic dispatch</span></a></li><li><a class="tocitem" href="#Economic-dispatch-with-adjustable-incremental-costs"><span>Economic dispatch with adjustable incremental costs</span></a></li><li><a class="tocitem" href="#Modifying-the-JuMP-model-in-place"><span>Modifying the JuMP model in-place</span></a></li><li><a class="tocitem" href="#Inefficient-usage-of-wind-generators"><span>Inefficient usage of wind generators</span></a></li><li><a class="tocitem" href="#Unit-commitment"><span>Unit commitment</span></a></li><li><a class="tocitem" href="#Unit-commitment-as-a-function-of-demand"><span>Unit commitment as a function of demand</span></a></li><li><a class="tocitem" href="#Nonlinear-economic-dispatch"><span>Nonlinear economic dispatch</span></a></li></ul></li><li><a class="tocitem" href="../optimal_power_flow/">Optimal power flow</a></li><li><a class="tocitem" href="../web_app/">Serving web apps</a></li><li><a class="tocitem" href="../two_stage_stochastic/">Two-stage stochastic programs</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../manual/models/">Models</a></li><li><a class="tocitem" href="../../../manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../manual/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../manual/objective/">Objectives</a></li><li><a class="tocitem" href="../../../manual/containers/">Containers</a></li><li><a class="tocitem" href="../../../manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../manual/callbacks/">Solver-independent Callbacks</a></li><li><a class="tocitem" href="../../../manual/complex/">Complex number support</a></li><li><a class="tocitem" href="../../../manual/nonlinear/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../manual/nlp/">Nonlinear Modeling (Legacy)</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../api/JuMP/">JuMP</a></li><li><a class="tocitem" href="../../../api/JuMP.Containers/">JuMP.Containers</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Background Information</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../background/algebraic_modeling_languages/">Algebraic modeling languages</a></li><li><a class="tocitem" href="../../../background/bibliography/">Bibliography</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../developers/contributing/">Contributing</a></li><li><a class="tocitem" href="../../../developers/extensions/">Extensions</a></li><li><a class="tocitem" href="../../../developers/custom_solver_binaries/">Custom binaries</a></li><li><a class="tocitem" href="../../../developers/style/">Style Guide</a></li><li><a class="tocitem" href="../../../developers/roadmap/">Roadmap</a></li><li><a class="tocitem" href="../../../developers/checklists/">Checklists</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Solvers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../packages/solvers/">Introduction</a></li><li><a class="tocitem" href="../../../packages/AmplNLWriter/">jump-dev/AmplNLWriter.jl</a></li><li><a class="tocitem" href="../../../packages/BARON/">jump-dev/BARON.jl</a></li><li><a class="tocitem" href="../../../packages/CPLEX/">jump-dev/CPLEX.jl</a></li><li><a class="tocitem" href="../../../packages/CSDP/">jump-dev/CSDP.jl</a></li><li><a class="tocitem" href="../../../packages/Cbc/">jump-dev/Cbc.jl</a></li><li><a class="tocitem" href="../../../packages/Clp/">jump-dev/Clp.jl</a></li><li><a class="tocitem" href="../../../packages/Dualization/">jump-dev/Dualization.jl</a></li><li><a class="tocitem" href="../../../packages/ECOS/">jump-dev/ECOS.jl</a></li><li><a class="tocitem" href="../../../packages/GLPK/">jump-dev/GLPK.jl</a></li><li><a class="tocitem" href="../../../packages/Gurobi/">jump-dev/Gurobi.jl</a></li><li><a class="tocitem" href="../../../packages/HiGHS/">jump-dev/HiGHS.jl</a></li><li><a class="tocitem" href="../../../packages/Hypatia/">jump-dev/Hypatia.jl</a></li><li><a class="tocitem" href="../../../packages/Ipopt/">jump-dev/Ipopt.jl</a></li><li><a class="tocitem" href="../../../packages/KNITRO/">jump-dev/KNITRO.jl</a></li><li><a class="tocitem" href="../../../packages/MiniZinc/">jump-dev/MiniZinc.jl</a></li><li><a class="tocitem" href="../../../packages/MosekTools/">jump-dev/MosekTools.jl</a></li><li><a class="tocitem" href="../../../packages/MultiObjectiveAlgorithms/">jump-dev/MultiObjectiveAlgorithms.jl</a></li><li><a class="tocitem" href="../../../packages/Pajarito/">jump-dev/Pajarito.jl</a></li><li><a class="tocitem" href="../../../packages/Pavito/">jump-dev/Pavito.jl</a></li><li><a class="tocitem" href="../../../packages/SCS/">jump-dev/SCS.jl</a></li><li><a class="tocitem" href="../../../packages/SDPA/">jump-dev/SDPA.jl</a></li><li><a class="tocitem" href="../../../packages/SDPLR/">jump-dev/SDPLR.jl</a></li><li><a class="tocitem" href="../../../packages/SDPNAL/">jump-dev/SDPNAL.jl</a></li><li><a class="tocitem" href="../../../packages/SDPT3/">jump-dev/SDPT3.jl</a></li><li><a class="tocitem" href="../../../packages/SeDuMi/">jump-dev/SeDuMi.jl</a></li><li><a class="tocitem" href="../../../packages/Xpress/">jump-dev/Xpress.jl</a></li><li><a class="tocitem" href="../../../packages/COPT/">COPT-Public/COPT.jl</a></li><li><a class="tocitem" href="../../../packages/GAMS/">GAMS-dev/GAMS.jl</a></li><li><a class="tocitem" href="../../../packages/Manopt/">JuliaManifolds/Manopt.jl</a></li><li><a class="tocitem" href="../../../packages/Optim/">JuliaNLSolvers/Optim.jl</a></li><li><a class="tocitem" href="../../../packages/NLopt/">JuliaOpt/NLopt.jl</a></li><li><a class="tocitem" href="../../../packages/CDDLib/">JuliaPolyhedra/CDDLib.jl</a></li><li><a class="tocitem" href="../../../packages/Percival/">JuliaSmoothOptimizers/Percival.jl</a></li><li><a class="tocitem" href="../../../packages/MAiNGO/">MAiNGO-github/MAiNGO.jl</a></li><li><a class="tocitem" href="../../../packages/MadNLP/">MadNLP/MadNLP.jl</a></li><li><a class="tocitem" href="../../../packages/EAGO/">PSORLab/EAGO.jl</a></li><li><a class="tocitem" href="../../../packages/PATHSolver/">chkwon/PATHSolver.jl</a></li><li><a class="tocitem" href="../../../packages/DAQP/">darnstrom/DAQP.jl</a></li><li><a class="tocitem" href="../../../packages/Tulip/">ds4dm/Tulip.jl</a></li><li><a class="tocitem" href="../../../packages/Loraine/">kocvara/Loraine.jl</a></li><li><a class="tocitem" href="../../../packages/Alpine/">lanl-ansi/Alpine.jl</a></li><li><a class="tocitem" href="../../../packages/Juniper/">lanl-ansi/Juniper.jl</a></li><li><a class="tocitem" href="../../../packages/ProxSDP/">mariohsouto/ProxSDP.jl</a></li><li><a class="tocitem" href="../../../packages/NEOSServer/">odow/NEOSServer.jl</a></li><li><a class="tocitem" href="../../../packages/OSQP/">osqp/OSQP.jl</a></li><li><a class="tocitem" href="../../../packages/CDCS/">oxfordcontrol/CDCS.jl</a></li><li><a class="tocitem" href="../../../packages/COSMO/">oxfordcontrol/COSMO.jl</a></li><li><a class="tocitem" href="../../../packages/Clarabel/">oxfordcontrol/Clarabel.jl</a></li><li><a class="tocitem" href="../../../packages/SCIP/">scipopt/SCIP.jl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">Extensions</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../extensions/introduction/">Introduction</a></li><li><a class="tocitem" href="../../../packages/DiffOpt/">jump-dev/DiffOpt.jl</a></li><li><a class="tocitem" href="../../../packages/ParametricOptInterface/">jump-dev/ParametricOptInterface.jl</a></li><li><a class="tocitem" href="../../../packages/PolyJuMP/">jump-dev/PolyJuMP.jl</a></li><li><a class="tocitem" href="../../../packages/SumOfSquares/">jump-dev/SumOfSquares.jl</a></li><li><a class="tocitem" href="../../../packages/DisjunctiveProgramming/">hdavid16/DisjunctiveProgramming.jl</a></li><li><a class="tocitem" href="../../../packages/InfiniteOpt/">infiniteopt/InfiniteOpt.jl</a></li><li><a class="tocitem" href="../../../packages/BilevelJuMP/">joaquimg/BilevelJuMP.jl</a></li><li><a class="tocitem" href="../../../packages/SDDP/">odow/SDDP.jl</a></li><li><a class="tocitem" href="../../../packages/Plasmo/">plasmo-dev/Plasmo.jl</a></li><li><a class="tocitem" href="../../../extensions/DimensionalData/">rafaqz/DimensionalData.jl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9" type="checkbox"/><label class="tocitem" for="menuitem-9"><span class="docs-label">MathOptInterface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-9-1" type="checkbox"/><label class="tocitem" for="menuitem-9-1"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/">Introduction</a></li><li><a class="tocitem" href="../../../moi/background/motivation/">Motivation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/tutorials/example/">Solving a problem using MathOptInterface</a></li><li><a class="tocitem" href="../../../moi/tutorials/implementing/">Implementing a solver interface</a></li><li><a class="tocitem" href="../../../moi/tutorials/mathprogbase/">Transitioning from MathProgBase</a></li><li><a class="tocitem" href="../../../moi/tutorials/bridging_constraint/">Implementing a constraint bridge</a></li><li><a class="tocitem" href="../../../moi/tutorials/manipulating_expressions/">Manipulating expressions</a></li><li><a class="tocitem" href="../../../moi/tutorials/latency/">Latency</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-3" type="checkbox"/><label class="tocitem" for="menuitem-9-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/manual/standard_form/">Standard form problem</a></li><li><a class="tocitem" href="../../../moi/manual/models/">Models</a></li><li><a class="tocitem" href="../../../moi/manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../moi/manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../moi/manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../moi/manual/modification/">Problem modification</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-4" type="checkbox"/><label class="tocitem" for="menuitem-9-4"><span class="docs-label">Background</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/background/duality/">Duality</a></li><li><a class="tocitem" href="../../../moi/background/infeasibility_certificates/">Infeasibility certificates</a></li><li><a class="tocitem" href="../../../moi/background/naming_conventions/">Naming conventions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-5" type="checkbox"/><label class="tocitem" for="menuitem-9-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/reference/standard_form/">Standard form</a></li><li><a class="tocitem" href="../../../moi/reference/models/">Models</a></li><li><a class="tocitem" href="../../../moi/reference/variables/">Variables</a></li><li><a class="tocitem" href="../../../moi/reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../moi/reference/modification/">Modifications</a></li><li><a class="tocitem" href="../../../moi/reference/nonlinear/">Nonlinear programming</a></li><li><a class="tocitem" href="../../../moi/reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../../moi/reference/errors/">Errors</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6" type="checkbox"/><label class="tocitem" for="menuitem-9-6"><span class="docs-label">Submodules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-9-6-1" type="checkbox"/><label class="tocitem" for="menuitem-9-6-1"><span class="docs-label">Benchmarks</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Benchmarks/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Benchmarks/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-2" type="checkbox"/><label class="tocitem" for="menuitem-9-6-2"><span class="docs-label">Bridges</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Bridges/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Bridges/implementation/">Implementation</a></li><li><a class="tocitem" href="../../../moi/submodules/Bridges/list_of_bridges/">List of bridges</a></li><li><a class="tocitem" href="../../../moi/submodules/Bridges/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-3" type="checkbox"/><label class="tocitem" for="menuitem-9-6-3"><span class="docs-label">FileFormats</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/FileFormats/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/FileFormats/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-4" type="checkbox"/><label class="tocitem" for="menuitem-9-6-4"><span class="docs-label">Nonlinear</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Nonlinear/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Nonlinear/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-5" type="checkbox"/><label class="tocitem" for="menuitem-9-6-5"><span class="docs-label">Utilities</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Utilities/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Utilities/reference/">API Reference</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-6-6" type="checkbox"/><label class="tocitem" for="menuitem-9-6-6"><span class="docs-label">Test</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/submodules/Test/overview/">Overview</a></li><li><a class="tocitem" href="../../../moi/submodules/Test/reference/">API Reference</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-7" type="checkbox"/><label class="tocitem" for="menuitem-9-7"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../moi/developer/checklists/">Checklists</a></li></ul></li><li><a class="tocitem" href="../../../moi/release_notes/">Release notes</a></li></ul></li><li><a class="tocitem" href="../../../release_notes/">Release notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Applications</a></li><li class="is-active"><a href>Power Systems</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Power Systems</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jump-dev/JuMP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/tutorials/applications/power_systems.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Power-Systems"><a class="docs-heading-anchor" href="#Power-Systems">Power Systems</a><a id="Power-Systems-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Systems" title="Permalink"></a></h1><p><em>This tutorial was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em> <a href="../power_systems.jl"><em>Download the source as a <code>.jl</code> file</em></a>.</p><p><strong>This tutorial was originally contributed by Yury Dvorkin and Miles Lubin.</strong></p><p>This tutorial demonstrates how to formulate basic power systems engineering models in JuMP.</p><p>We will consider basic &quot;economic dispatch&quot; and &quot;unit commitment&quot; models without taking into account transmission constraints.</p><p>For this tutorial, we use the following packages:</p><pre><code class="language-julia hljs">using JuMP
import DataFrames
import HiGHS
import Plots
import StatsPlots</code></pre><h2 id="Economic-dispatch"><a class="docs-heading-anchor" href="#Economic-dispatch">Economic dispatch</a><a id="Economic-dispatch-1"></a><a class="docs-heading-anchor-permalink" href="#Economic-dispatch" title="Permalink"></a></h2><p>Economic dispatch (ED) is an optimization problem that minimizes the cost of supplying energy demand subject to operational constraints on power system assets. In its simplest modification, ED is an LP problem solved for an aggregated load and wind forecast and for a single infinitesimal moment.</p><p>Mathematically, the ED problem can be written as follows:</p><p class="math-container">\[\min \sum_{i \in I} c^g_{i} \cdot g_{i} + c^w \cdot w,\]</p><p>where <span>$c_{i}$</span> and <span>$g_{i}$</span> are the incremental cost (<span>$</span>/MWh) and power output (MW) of the <span>$i^{th}$</span> generator, respectively, and <span>$c^w$</span> and <span>$w$</span> are the incremental cost (<span>$</span>/MWh) and wind power injection (MW), respectively.</p><p>Subject to the constraints:</p><ul><li>Minimum (<span>$g^{\min}$</span>) and maximum (<span>$g^{\max}$</span>) limits on power outputs of generators: <span>$g^{\min}_{i} \leq g_{i} \leq g^{\max}_{i}.$</span></li><li>Constraint on the wind power injection: <span>$0 \leq w \leq w^f,$</span> where <span>$w$</span> and <span>$w^f$</span> are the wind power injection and wind power forecast, respectively.</li><li>Power balance constraint: <span>$\sum_{i \in I} g_{i} + w = d^f,$</span> where <span>$d^f$</span> is the demand forecast.</li></ul><p>Further reading on ED models can be found in A. J. Wood, B. F. Wollenberg, and G. B. Sheblé, &quot;Power Generation, Operation and Control,&quot; Wiley, 2013.</p><p>Define some input data about the test system.</p><p>We define some thermal generators:</p><pre><code class="language-julia hljs">function ThermalGenerator(
    min::Float64,
    max::Float64,
    fixed_cost::Float64,
    variable_cost::Float64,
)
    return (
        min = min,
        max = max,
        fixed_cost = fixed_cost,
        variable_cost = variable_cost,
    )
end

generators = [
    ThermalGenerator(0.0, 1000.0, 1000.0, 50.0),
    ThermalGenerator(300.0, 1000.0, 0.0, 100.0),
]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{@NamedTuple{min::Float64, max::Float64, fixed_cost::Float64, variable_cost::Float64}}:
 (min = 0.0, max = 1000.0, fixed_cost = 1000.0, variable_cost = 50.0)
 (min = 300.0, max = 1000.0, fixed_cost = 0.0, variable_cost = 100.0)</code></pre><p>A wind generator</p><pre><code class="language-julia hljs">WindGenerator(variable_cost::Float64) = (variable_cost = variable_cost,)

wind_generator = WindGenerator(50.0)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(variable_cost = 50.0,)</code></pre><p>And a scenario</p><pre><code class="language-julia hljs">function Scenario(demand::Float64, wind::Float64)
    return (demand = demand, wind = wind)
end

scenario = Scenario(1500.0, 200.0)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(demand = 1500.0, wind = 200.0)</code></pre><p>Create a function <code>solve_economic_dispatch</code>, which solves the economic dispatch problem for a given set of input parameters.</p><pre><code class="language-julia hljs">function solve_economic_dispatch(generators::Vector, wind, scenario)
    # Define the economic dispatch (ED) model
    model = Model(HiGHS.Optimizer)
    set_silent(model)
    # Define decision variables
    # power output of generators
    N = length(generators)
    @variable(model, generators[i].min &lt;= g[i = 1:N] &lt;= generators[i].max)
    # wind power injection
    @variable(model, 0 &lt;= w &lt;= scenario.wind)
    # Define the objective function
    @objective(
        model,
        Min,
        sum(generators[i].variable_cost * g[i] for i in 1:N) +
        wind.variable_cost * w,
    )
    # Define the power balance constraint
    @constraint(model, sum(g[i] for i in 1:N) + w == scenario.demand)
    # Solve statement
    optimize!(model)
    @assert is_solved_and_feasible(model)
    # return the optimal value of the objective function and its minimizers
    return (
        g = value.(g),
        w = value(w),
        wind_spill = scenario.wind - value(w),
        total_cost = objective_value(model),
    )
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">solve_economic_dispatch (generic function with 1 method)</code></pre><p>Solve the economic dispatch problem</p><pre><code class="language-julia hljs">solution = solve_economic_dispatch(generators, wind_generator, scenario);

println(&quot;Dispatch of Generators: &quot;, solution.g, &quot; MW&quot;)
println(&quot;Dispatch of Wind: &quot;, solution.w, &quot; MW&quot;)
println(&quot;Wind spillage: &quot;, solution.wind_spill, &quot; MW&quot;)
println(&quot;Total cost: \$&quot;, solution.total_cost)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dispatch of Generators: [1000.0, 300.0] MW
Dispatch of Wind: 200.0 MW
Wind spillage: 0.0 MW
Total cost: $90000.0</code></pre><h2 id="Economic-dispatch-with-adjustable-incremental-costs"><a class="docs-heading-anchor" href="#Economic-dispatch-with-adjustable-incremental-costs">Economic dispatch with adjustable incremental costs</a><a id="Economic-dispatch-with-adjustable-incremental-costs-1"></a><a class="docs-heading-anchor-permalink" href="#Economic-dispatch-with-adjustable-incremental-costs" title="Permalink"></a></h2><p>In the following exercise we adjust the incremental cost of generator G1 and observe its impact on the total cost.</p><pre><code class="language-julia hljs">function scale_generator_cost(g, scale)
    return ThermalGenerator(g.min, g.max, g.fixed_cost, scale * g.variable_cost)
end

start = time()
c_g_scale_df = DataFrames.DataFrame(;
    # Scale factor
    scale = Float64[],
    # Dispatch of Generator 1 [MW]
    dispatch_G1 = Float64[],
    # Dispatch of Generator 2 [MW]
    dispatch_G2 = Float64[],
    # Dispatch of Wind [MW]
    dispatch_wind = Float64[],
    # Spillage of Wind [MW]
    spillage_wind = Float64[],
    # Total cost [$]
    total_cost = Float64[],
)
for c_g1_scale in 0.5:0.1:3.0
    # Update the incremental cost of the first generator at every iteration.
    new_generators = scale_generator_cost.(generators, [c_g1_scale, 1.0])
    # Solve the economic-dispatch problem with the updated incremental cost
    sol = solve_economic_dispatch(new_generators, wind_generator, scenario)
    push!(
        c_g_scale_df,
        (c_g1_scale, sol.g[1], sol.g[2], sol.w, sol.wind_spill, sol.total_cost),
    )
end
print(string(&quot;elapsed time: &quot;, time() - start, &quot; seconds&quot;))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">elapsed time: 0.16373515129089355 seconds</code></pre><pre><code class="language-julia hljs">c_g_scale_df</code></pre><div><div style = "float: left;"><span>26×6 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">scale</th><th style = "text-align: left;">dispatch_G1</th><th style = "text-align: left;">dispatch_G2</th><th style = "text-align: left;">dispatch_wind</th><th style = "text-align: left;">spillage_wind</th><th style = "text-align: left;">total_cost</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.5</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">65000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">0.6</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">70000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">0.7</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">75000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">0.8</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">80000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">0.9</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">85000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">90000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">1.1</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">95000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">1.2</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">100000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: right;">1.3</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">105000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: right;">1.4</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">110000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">11</td><td style = "text-align: right;">1.5</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">115000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">12</td><td style = "text-align: right;">1.6</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">120000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">13</td><td style = "text-align: right;">1.7</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">125000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">14</td><td style = "text-align: right;">1.8</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">130000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">15</td><td style = "text-align: right;">1.9</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">135000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">16</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">140000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">17</td><td style = "text-align: right;">2.1</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">141500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">18</td><td style = "text-align: right;">2.2</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">143000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">19</td><td style = "text-align: right;">2.3</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">144500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">20</td><td style = "text-align: right;">2.4</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">146000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">21</td><td style = "text-align: right;">2.5</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">147500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">22</td><td style = "text-align: right;">2.6</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">149000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">23</td><td style = "text-align: right;">2.7</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">150500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">24</td><td style = "text-align: right;">2.8</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">152000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">25</td><td style = "text-align: right;">2.9</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">153500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">26</td><td style = "text-align: right;">3.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">155000.0</td></tr></tbody></table></div><h2 id="Modifying-the-JuMP-model-in-place"><a class="docs-heading-anchor" href="#Modifying-the-JuMP-model-in-place">Modifying the JuMP model in-place</a><a id="Modifying-the-JuMP-model-in-place-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-the-JuMP-model-in-place" title="Permalink"></a></h2><p>Note that in the previous exercise we entirely rebuilt the optimization model at every iteration of the internal loop, which incurs an additional computational burden. This burden can be alleviated if instead of re-building the entire model, we modify the constraints or objective function, as it shown in the example below.</p><p>Compare the computing time in case of the above and below models.</p><pre><code class="language-julia hljs">function solve_economic_dispatch_inplace(
    generators::Vector,
    wind,
    scenario,
    scale::AbstractVector{Float64},
)
    obj_out = Float64[]
    w_out = Float64[]
    g1_out = Float64[]
    g2_out = Float64[]
    # This function only works for two generators
    @assert length(generators) == 2
    model = Model(HiGHS.Optimizer)
    set_silent(model)
    N = length(generators)
    @variable(model, generators[i].min &lt;= g[i = 1:N] &lt;= generators[i].max)
    @variable(model, 0 &lt;= w &lt;= scenario.wind)
    @objective(
        model,
        Min,
        sum(generators[i].variable_cost * g[i] for i in 1:N) +
        wind.variable_cost * w,
    )
    @constraint(model, sum(g[i] for i in 1:N) + w == scenario.demand)
    for c_g1_scale in scale
        @objective(
            model,
            Min,
            c_g1_scale * generators[1].variable_cost * g[1] +
            generators[2].variable_cost * g[2] +
            wind.variable_cost * w,
        )
        optimize!(model)
        @assert is_solved_and_feasible(model)
        push!(obj_out, objective_value(model))
        push!(w_out, value(w))
        push!(g1_out, value(g[1]))
        push!(g2_out, value(g[2]))
    end
    df = DataFrames.DataFrame(;
        scale = scale,
        dispatch_G1 = g1_out,
        dispatch_G2 = g2_out,
        dispatch_wind = w_out,
        spillage_wind = scenario.wind .- w_out,
        total_cost = obj_out,
    )
    return df
end

start = time()
inplace_df = solve_economic_dispatch_inplace(
    generators,
    wind_generator,
    scenario,
    0.5:0.1:3.0,
)
print(string(&quot;elapsed time: &quot;, time() - start, &quot; seconds&quot;))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">elapsed time: 0.15381503105163574 seconds</code></pre><p>For small models, adjusting specific constraints or the objective function is sometimes faster and sometimes slower than re-building the entire model. However, as the problem size increases, updating the model in-place is usually faster.</p><pre><code class="language-julia hljs">inplace_df</code></pre><div><div style = "float: left;"><span>26×6 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">scale</th><th style = "text-align: left;">dispatch_G1</th><th style = "text-align: left;">dispatch_G2</th><th style = "text-align: left;">dispatch_wind</th><th style = "text-align: left;">spillage_wind</th><th style = "text-align: left;">total_cost</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0.5</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">65000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">0.6</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">70000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">0.7</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">75000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">0.8</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">80000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">0.9</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">85000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">90000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">1.1</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">95000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">1.2</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">100000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: right;">1.3</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">105000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: right;">1.4</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">110000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">11</td><td style = "text-align: right;">1.5</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">115000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">12</td><td style = "text-align: right;">1.6</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">120000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">13</td><td style = "text-align: right;">1.7</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">125000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">14</td><td style = "text-align: right;">1.8</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">130000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">15</td><td style = "text-align: right;">1.9</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">135000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">16</td><td style = "text-align: right;">2.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">140000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">17</td><td style = "text-align: right;">2.1</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">141500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">18</td><td style = "text-align: right;">2.2</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">143000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">19</td><td style = "text-align: right;">2.3</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">144500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">20</td><td style = "text-align: right;">2.4</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">146000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">21</td><td style = "text-align: right;">2.5</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">147500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">22</td><td style = "text-align: right;">2.6</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">149000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">23</td><td style = "text-align: right;">2.7</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">150500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">24</td><td style = "text-align: right;">2.8</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">152000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">25</td><td style = "text-align: right;">2.9</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">153500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">26</td><td style = "text-align: right;">3.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">155000.0</td></tr></tbody></table></div><h2 id="Inefficient-usage-of-wind-generators"><a class="docs-heading-anchor" href="#Inefficient-usage-of-wind-generators">Inefficient usage of wind generators</a><a id="Inefficient-usage-of-wind-generators-1"></a><a class="docs-heading-anchor-permalink" href="#Inefficient-usage-of-wind-generators" title="Permalink"></a></h2><p>The economic dispatch problem does not perform commitment decisions and, thus, assumes that all generators must be dispatched at least at their minimum power output limit. This approach is not cost efficient and may lead to absurd decisions. For example, if <span>$d = \sum_{i \in I} g^{\min}_{i}$</span>, the wind power injection must be zero, that is, all available wind generation is spilled, to meet the minimum power output constraints on generators.</p><p>In the following example, we adjust the total demand and observed how it affects wind spillage.</p><pre><code class="language-julia hljs">demand_scale_df = DataFrames.DataFrame(;
    demand = Float64[],
    dispatch_G1 = Float64[],
    dispatch_G2 = Float64[],
    dispatch_wind = Float64[],
    spillage_wind = Float64[],
    total_cost = Float64[],
)

function scale_demand(scenario, scale)
    return Scenario(scale * scenario.demand, scenario.wind)
end

for demand_scale in 0.2:0.1:1.4
    new_scenario = scale_demand(scenario, demand_scale)
    sol = solve_economic_dispatch(generators, wind_generator, new_scenario)
    push!(
        demand_scale_df,
        (
            new_scenario.demand,
            sol.g[1],
            sol.g[2],
            sol.w,
            sol.wind_spill,
            sol.total_cost,
        ),
    )
end

demand_scale_df</code></pre><div><div style = "float: left;"><span>13×6 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">demand</th><th style = "text-align: left;">dispatch_G1</th><th style = "text-align: left;">dispatch_G2</th><th style = "text-align: left;">dispatch_wind</th><th style = "text-align: left;">spillage_wind</th><th style = "text-align: left;">total_cost</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">30000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">450.0</td><td style = "text-align: right;">150.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">37500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">600.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">45000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">750.0</td><td style = "text-align: right;">450.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">52500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">900.0</td><td style = "text-align: right;">600.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">60000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">1050.0</td><td style = "text-align: right;">750.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">67500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">1200.0</td><td style = "text-align: right;">900.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">75000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">1350.0</td><td style = "text-align: right;">850.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">82500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: right;">1500.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">90000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: right;">1650.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">450.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">105000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">11</td><td style = "text-align: right;">1800.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">600.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">120000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">12</td><td style = "text-align: right;">1950.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">750.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">135000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">13</td><td style = "text-align: right;">2100.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">900.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">150000.0</td></tr></tbody></table></div><pre><code class="language-julia hljs">dispatch_plot = StatsPlots.@df(
    demand_scale_df,
    Plots.plot(
        :demand,
        [:dispatch_G1, :dispatch_G2],
        labels = [&quot;G1&quot; &quot;G2&quot;],
        title = &quot;Thermal Dispatch&quot;,
        legend = :bottomright,
        linewidth = 3,
        xlabel = &quot;Demand&quot;,
        ylabel = &quot;Dispatch [MW]&quot;,
    ),
)

wind_plot = StatsPlots.@df(
    demand_scale_df,
    Plots.plot(
        :demand,
        [:dispatch_wind, :spillage_wind],
        labels = [&quot;Dispatch&quot; &quot;Spillage&quot;],
        title = &quot;Wind&quot;,
        legend = :bottomright,
        linewidth = 3,
        xlabel = &quot;Demand [MW]&quot;,
        ylabel = &quot;Energy [MW]&quot;,
    ),
)

Plots.plot(dispatch_plot, wind_plot)</code></pre><img src="35ecbb33.svg" alt="Example block output"/><p>This particular drawback can be overcome by introducing binary decisions on the &quot;on/off&quot; status of generators. This model is called unit commitment and considered later in these notes.</p><p>For further reading on the interplay between wind generation and the minimum power output constraints of generators, we refer interested readers to R. Baldick, &quot;Wind and energy markets: a case study of Texas,&quot; IEEE Systems Journal, vol. 6, pp. 27-34, 2012.</p><h2 id="Unit-commitment"><a class="docs-heading-anchor" href="#Unit-commitment">Unit commitment</a><a id="Unit-commitment-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-commitment" title="Permalink"></a></h2><p>The Unit Commitment (UC) model can be obtained from ED model by introducing binary variable associated with each generator. This binary variable can attain two values: if it is &quot;1,&quot; the generator is synchronized and, thus, can be dispatched, otherwise, that is, if the binary variable is &quot;0,&quot; that generator is not synchronized and its power output is set to 0.</p><p>To obtain the mathematical formulation of the UC model, we will modify the constraints of the ED model as follows:</p><p class="math-container">\[g^{\min}_{i} \cdot u_{t,i} \leq g_{i} \leq g^{\max}_{i} \cdot u_{t,i},\]</p><p>where <span>$u_{i} \in \{0,1\}.$</span> In this constraint, if <span>$u_{i} = 0$</span>, then <span>$g_{i}  = 0$</span>. On the other hand, if <span>$u_{i} = 1$</span>, then <span>$g^{min}_{i} \leq g_{i} \leq g^{max}_{i}$</span>.</p><p>For further reading on the UC problem we refer interested readers to G. Morales-Espana, J. M. Latorre, and A. Ramos, &quot;Tight and Compact MILP Formulation for the Thermal Unit Commitment Problem,&quot; IEEE Transactions on Power Systems, vol. 28, pp. 4897-4908, 2013.</p><p>In the following example we convert the ED model explained above to the UC model.</p><pre><code class="language-julia hljs">function solve_unit_commitment(generators::Vector, wind, scenario)
    model = Model(HiGHS.Optimizer)
    set_silent(model)
    N = length(generators)
    @variable(model, 0 &lt;= g[i = 1:N] &lt;= generators[i].max)
    @variable(model, 0 &lt;= w &lt;= scenario.wind)
    @constraint(model, sum(g[i] for i in 1:N) + w == scenario.demand)
    # !!! New: add binary on-off variables for each generator
    @variable(model, u[i = 1:N], Bin)
    @constraint(model, [i = 1:N], g[i] &lt;= generators[i].max * u[i])
    @constraint(model, [i = 1:N], g[i] &gt;= generators[i].min * u[i])
    @objective(
        model,
        Min,
        sum(generators[i].variable_cost * g[i] for i in 1:N) +
        wind.variable_cost * w +
        # !!! new
        sum(generators[i].fixed_cost * u[i] for i in 1:N)
    )
    optimize!(model)
    status = termination_status(model)
    if status != OPTIMAL
        return (status = status,)
    end
    @assert primal_status(model) == FEASIBLE_POINT
    return (
        status = status,
        g = value.(g),
        w = value(w),
        wind_spill = scenario.wind - value(w),
        u = value.(u),
        total_cost = objective_value(model),
    )
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">solve_unit_commitment (generic function with 1 method)</code></pre><p>Solve the unit commitment problem</p><pre><code class="language-julia hljs">solution = solve_unit_commitment(generators, wind_generator, scenario)

println(&quot;Dispatch of Generators: &quot;, solution.g, &quot; MW&quot;)
println(&quot;Commitments of Generators: &quot;, solution.u)
println(&quot;Dispatch of Wind: &quot;, solution.w, &quot; MW&quot;)
println(&quot;Wind spillage: &quot;, solution.wind_spill, &quot; MW&quot;)
println(&quot;Total cost: \$&quot;, solution.total_cost)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dispatch of Generators: [1000.0, 300.0] MW
Commitments of Generators: [1.0, 1.0]
Dispatch of Wind: 200.0 MW
Wind spillage: 0.0 MW
Total cost: $91000.0</code></pre><h2 id="Unit-commitment-as-a-function-of-demand"><a class="docs-heading-anchor" href="#Unit-commitment-as-a-function-of-demand">Unit commitment as a function of demand</a><a id="Unit-commitment-as-a-function-of-demand-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-commitment-as-a-function-of-demand" title="Permalink"></a></h2><p>After implementing the unit commitment model, we can now assess the interplay between the minimum power output constraints on generators and wind generation.</p><pre><code class="language-julia hljs">uc_df = DataFrames.DataFrame(;
    demand = Float64[],
    commitment_G1 = Float64[],
    commitment_G2 = Float64[],
    dispatch_G1 = Float64[],
    dispatch_G2 = Float64[],
    dispatch_wind = Float64[],
    spillage_wind = Float64[],
    total_cost = Float64[],
)

for demand_scale in 0.2:0.1:1.4
    new_scenario = scale_demand(scenario, demand_scale)
    sol = solve_unit_commitment(generators, wind_generator, new_scenario)
    if sol.status == OPTIMAL
        push!(
            uc_df,
            (
                new_scenario.demand,
                sol.u[1],
                sol.u[2],
                sol.g[1],
                sol.g[2],
                sol.w,
                sol.wind_spill,
                sol.total_cost,
            ),
        )
    end
    println(&quot;Status: $(sol.status) for demand_scale = $(demand_scale)&quot;)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Status: OPTIMAL for demand_scale = 0.2
Status: OPTIMAL for demand_scale = 0.3
Status: OPTIMAL for demand_scale = 0.4
Status: OPTIMAL for demand_scale = 0.5
Status: OPTIMAL for demand_scale = 0.6
Status: OPTIMAL for demand_scale = 0.7
Status: OPTIMAL for demand_scale = 0.8
Status: OPTIMAL for demand_scale = 0.9
Status: OPTIMAL for demand_scale = 1.0
Status: OPTIMAL for demand_scale = 1.1
Status: OPTIMAL for demand_scale = 1.2
Status: OPTIMAL for demand_scale = 1.3
Status: OPTIMAL for demand_scale = 1.4</code></pre><pre><code class="language-julia hljs">uc_df</code></pre><div><div style = "float: left;"><span>13×8 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">demand</th><th style = "text-align: left;">commitment_G1</th><th style = "text-align: left;">commitment_G2</th><th style = "text-align: left;">dispatch_G1</th><th style = "text-align: left;">dispatch_G2</th><th style = "text-align: left;">dispatch_wind</th><th style = "text-align: left;">spillage_wind</th><th style = "text-align: left;">total_cost</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">100.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">16000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">450.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">250.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">23500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">600.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">400.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">31000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">750.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">550.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">38500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">900.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">700.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">46000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">1050.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">850.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">53500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">1200.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">61000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">1350.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">850.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">83500.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: right;">1500.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">300.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">91000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: right;">1650.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">450.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">106000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">11</td><td style = "text-align: right;">1800.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">600.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">121000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">12</td><td style = "text-align: right;">1950.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">750.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">136000.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">13</td><td style = "text-align: right;">2100.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1000.0</td><td style = "text-align: right;">900.0</td><td style = "text-align: right;">200.0</td><td style = "text-align: right;">0.0</td><td style = "text-align: right;">151000.0</td></tr></tbody></table></div><pre><code class="language-julia hljs">commitment_plot = StatsPlots.@df(
    uc_df,
    Plots.plot(
        :demand,
        [:commitment_G1, :commitment_G2],
        labels = [&quot;G1&quot; &quot;G2&quot;],
        title = &quot;Commitment&quot;,
        legend = :bottomright,
        linewidth = 3,
        xlabel = &quot;Demand [MW]&quot;,
        ylabel = &quot;Commitment decision {0, 1}&quot;,
    ),
)

dispatch_plot = StatsPlots.@df(
    uc_df,
    Plots.plot(
        :demand,
        [:dispatch_G1, :dispatch_G2, :dispatch_wind],
        labels = [&quot;G1&quot; &quot;G2&quot; &quot;Wind&quot;],
        title = &quot;Dispatch [MW]&quot;,
        legend = :bottomright,
        linewidth = 3,
        xlabel = &quot;Demand&quot;,
        ylabel = &quot;Dispatch [MW]&quot;,
    ),
)

Plots.plot(commitment_plot, dispatch_plot)</code></pre><img src="3b578815.svg" alt="Example block output"/><h2 id="Nonlinear-economic-dispatch"><a class="docs-heading-anchor" href="#Nonlinear-economic-dispatch">Nonlinear economic dispatch</a><a id="Nonlinear-economic-dispatch-1"></a><a class="docs-heading-anchor-permalink" href="#Nonlinear-economic-dispatch" title="Permalink"></a></h2><p>As a final example, we modify our economic dispatch problem in two ways:</p><ul><li>The thermal cost function is user-defined</li><li>The output of the wind is only the square-root of the dispatch</li></ul><pre><code class="language-julia hljs">import Ipopt

&quot;&quot;&quot;
    thermal_cost_function(g)

A user-defined thermal cost function in pure-Julia! You can include
nonlinearities, and even things like control flow.

!!! warning
    It&#39;s still up to you to make sure that the function has a meaningful
    derivative.
&quot;&quot;&quot;
function thermal_cost_function(g)
    if g &lt;= 500
        return g
    else
        return g + 1e-2 * (g - 500)^2
    end
end

function solve_nonlinear_economic_dispatch(
    generators::Vector,
    wind,
    scenario;
    silent::Bool = false,
)
    model = Model(Ipopt.Optimizer)
    if silent
        set_silent(model)
    end
    @operator(model, op_tcf, 1, thermal_cost_function)
    N = length(generators)
    @variable(model, generators[i].min &lt;= g[i = 1:N] &lt;= generators[i].max)
    @variable(model, 0 &lt;= w &lt;= scenario.wind)
    @objective(
        model,
        Min,
        sum(generators[i].variable_cost * op_tcf(g[i]) for i in 1:N) +
        wind.variable_cost * w,
    )
    @constraint(model, sum(g[i] for i in 1:N) + sqrt(w) == scenario.demand)
    optimize!(model)
    @assert is_solved_and_feasible(model)
    return (
        g = value.(g),
        w = value(w),
        wind_spill = scenario.wind - value(w),
        total_cost = objective_value(model),
    )
end

solution =
    solve_nonlinear_economic_dispatch(generators, wind_generator, scenario)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(g = [847.3509933774712, 648.6754966887423], w = 15.788781193899027, wind_spill = 184.211218806101, total_cost = 190455.298013245)</code></pre><p>Now let&#39;s see how the wind is dispatched as a function of the cost:</p><pre><code class="language-julia hljs">wind_cost = 0.0:1:100
wind_dispatch = Float64[]
for c in wind_cost
    sol = solve_nonlinear_economic_dispatch(
        generators,
        WindGenerator(c),
        scenario;
        silent = true,
    )
    push!(wind_dispatch, sol.w)
end

Plots.plot(
    wind_cost,
    wind_dispatch;
    xlabel = &quot;Cost&quot;,
    ylabel = &quot;Dispatch [MW]&quot;,
    label = false,
)</code></pre><img src="128c4dff.svg" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../algorithms/parallelism/">« Parallelism</a><a class="docs-footer-nextpage" href="../optimal_power_flow/">Optimal power flow »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Monday 1 April 2024 02:34">Monday 1 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
