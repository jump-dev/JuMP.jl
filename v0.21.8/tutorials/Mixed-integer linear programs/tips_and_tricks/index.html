<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tips and tricks · JuMP</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44252521-1', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.png" alt="JuMP logo"/></a><div class="docs-package-name"><span class="docs-autofit">JuMP</span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../../installation/">Installation Guide</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Getting started/an_introduction_to_julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../../Getting started/getting_started_with_JuMP/">Getting started with JuMP</a></li><li><a class="tocitem" href="../../Getting started/performance_tips/">Performance tips</a></li><li><a class="tocitem" href="../../Getting started/solvers_and_solutions/">Solvers and Solutions</a></li><li><a class="tocitem" href="../../Getting started/variables_constraints_objective/">Variables, constraints, and objective functions</a></li><li><a class="tocitem" href="../../Getting started/working_with_data_files/">Working with Data Files</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox" checked/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Mixed-integer linear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../callbacks/">Callbacks</a></li><li><a class="tocitem" href="../cannery/">The cannery problem</a></li><li><a class="tocitem" href="../cutting_stock_column_generation/">Cutting stock</a></li><li><a class="tocitem" href="../diet/">The diet problem</a></li><li><a class="tocitem" href="../factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../finance/">Finance</a></li><li><a class="tocitem" href="../geographic_clustering/">Geographical Clustering</a></li><li><a class="tocitem" href="../knapsack/">The knapsack problem</a></li><li><a class="tocitem" href="../multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../n-queens/">N-Queens</a></li><li><a class="tocitem" href="../network_flows/">Network Flows</a></li><li><a class="tocitem" href="../power_systems/">Power Systems</a></li><li><a class="tocitem" href="../prod/">The workforce scheduling problem</a></li><li><a class="tocitem" href="../steelT3/">The SteelT3 problem</a></li><li><a class="tocitem" href="../sudoku/">Sudoku</a></li><li class="is-active"><a class="tocitem" href>Tips and tricks</a><ul class="internal"><li><a class="tocitem" href="#Boolean-Operators-on-Binary-Variables"><span>Boolean Operators on Binary Variables</span></a></li><li><a class="tocitem" href="#Big-M-Disjunctive-Constraints-(OR)"><span>Big-M Disjunctive Constraints (OR)</span></a></li><li><a class="tocitem" href="#Indicator-Constraints-(\\implies)"><span>Indicator Constraints (<span>$\implies$</span>)</span></a></li><li><a class="tocitem" href="#Semi-Continuous-Variables"><span>Semi-Continuous Variables</span></a></li><li><a class="tocitem" href="#Semi-Integer-Variables"><span>Semi-Integer Variables</span></a></li><li><a class="tocitem" href="#Special-Ordered-Sets-of-Type-I-(SOS1)"><span>Special Ordered Sets of Type I (SOS1)</span></a></li><li><a class="tocitem" href="#tip_sos2"><span>Special Ordered Sets of Type II (SOS2)</span></a></li><li><a class="tocitem" href="#Piecewise-linear-approximations"><span>Piecewise linear approximations</span></a></li></ul></li><li><a class="tocitem" href="../transp/">The transportation problem</a></li><li><a class="tocitem" href="../urban_plan/">The urban planning problem</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Nonlinear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Nonlinear programs/clnlbeam/">The clnlbeam problem</a></li><li><a class="tocitem" href="../../Nonlinear programs/mle/">Maximum likelihood estimation</a></li><li><a class="tocitem" href="../../Nonlinear programs/nlp_tricks/">Nonlinear tips and tricks</a></li><li><a class="tocitem" href="../../Nonlinear programs/rocket_control/">Rocket Control</a></li><li><a class="tocitem" href="../../Nonlinear programs/rosenbrock/">The Rosenbrock function</a></li><li><a class="tocitem" href="../../Nonlinear programs/space_shuttle_reentry_trajectory/">Space Shuttle Reentry Trajectory</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Quadratic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Quadratic programs/portfolio/">Portfolio Optimization</a></li><li><a class="tocitem" href="../../Quadratic programs/qcp/">Quadratically constrained programs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Conic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Conic programs/logistic_regression/">Logistic Regression</a></li><li><a class="tocitem" href="../../Conic programs/tips_and_tricks/">Tips and Tricks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">Semidefinite programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Semidefinite programs/cluster/">K-means clustering via SDP</a></li><li><a class="tocitem" href="../../Semidefinite programs/corr_sdp/">The correlation problem</a></li><li><a class="tocitem" href="../../Semidefinite programs/experiment_design/">Experiment Design</a></li><li><a class="tocitem" href="../../Semidefinite programs/max_cut_sdp/">SDP relaxations: max-cut</a></li><li><a class="tocitem" href="../../Semidefinite programs/min_distortion/">The minimum distortion problem</a></li><li><a class="tocitem" href="../../Semidefinite programs/min_ellipse/">Minimum ellipses</a></li><li><a class="tocitem" href="../../Semidefinite programs/robust_uncertainty/">Robust uncertainty sets</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-7" type="checkbox"/><label class="tocitem" for="menuitem-3-7"><span class="docs-label">Optimization concepts</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Optimization concepts/benders_decomposition/">Benders Decomposition</a></li><li><a class="tocitem" href="../../Optimization concepts/benders_lazy_constraints/">Benders Decomposition (Lazy Constraints)</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../manual/models/">Models</a></li><li><a class="tocitem" href="../../../manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../manual/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../manual/objective/">Objectives</a></li><li><a class="tocitem" href="../../../manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../manual/containers/">Containers</a></li><li><a class="tocitem" href="../../../manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../manual/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../manual/callbacks/">Callbacks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../reference/models/">Models</a></li><li><a class="tocitem" href="../../../reference/variables/">Variables</a></li><li><a class="tocitem" href="../../../reference/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../reference/objectives/">Objectives</a></li><li><a class="tocitem" href="../../../reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../reference/containers/">Containers</a></li><li><a class="tocitem" href="../../../reference/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../reference/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../../reference/moi/">MathOptInterface</a></li><li><a class="tocitem" href="../../../reference/extensions/">Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Background information</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../background/should_i_use/">Should I use JuMP?</a></li><li><a class="tocitem" href="../../../background/algebraic_modeling_languages/">Algebraic modeling languages</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../developers/extensions/">Extensions</a></li><li><a class="tocitem" href="../../../developers/style/">Style Guide</a></li><li><a class="tocitem" href="../../../developers/roadmap/">Roadmap</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Mixed-integer linear programs</a></li><li class="is-active"><a href>Tips and tricks</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tips and tricks</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/tutorials/Mixed-integer linear programs/tips_and_tricks.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tips-and-tricks"><a class="docs-heading-anchor" href="#Tips-and-tricks">Tips and tricks</a><a id="Tips-and-tricks-1"></a><a class="docs-heading-anchor-permalink" href="#Tips-and-tricks" title="Permalink"></a></h1><p><strong>Originally Contributed by</strong>: Arpit Bhatia</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>A good source of tips is the <a href="https://docs.mosek.com/modeling-cookbook/mio.html">Mosek Modeling Cookbook</a>.</p></div></div><p>This tutorial collates some tips and tricks you can use when formulating mixed-integer programs. It uses the following packages:</p><pre><code class="language-julia">using JuMP</code></pre><h2 id="Boolean-Operators-on-Binary-Variables"><a class="docs-heading-anchor" href="#Boolean-Operators-on-Binary-Variables">Boolean Operators on Binary Variables</a><a id="Boolean-Operators-on-Binary-Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Boolean-Operators-on-Binary-Variables" title="Permalink"></a></h2><p>Binary variables can be used to construct logical operators. Here are some example.</p><h3 id="OR"><a class="docs-heading-anchor" href="#OR">OR</a><a id="OR-1"></a><a class="docs-heading-anchor-permalink" href="#OR" title="Permalink"></a></h3><p class="math-container">\[x_3 = x_1 \lor x_2\]</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:3], Bin)
@constraints(model, begin
    x[1] &lt;= x[3]
    x[2] &lt;= x[3]
end)</code></pre><h3 id="And"><a class="docs-heading-anchor" href="#And">And</a><a id="And-1"></a><a class="docs-heading-anchor-permalink" href="#And" title="Permalink"></a></h3><p class="math-container">\[x_3 = x_1 \land x_2\]</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:3], Bin)
@constraints(model, begin
    x[3] &lt;= x[1]
    x[3] &lt;= x[2]
    x[3] &gt;= x[1] + x[2] - 1
end)</code></pre><h3 id="Not"><a class="docs-heading-anchor" href="#Not">Not</a><a id="Not-1"></a><a class="docs-heading-anchor-permalink" href="#Not" title="Permalink"></a></h3><p class="math-container">\[x_1 \neg x_2\]</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:2], Bin)
@constraint(model, x[1] == 1 - x[2])</code></pre><p class="math-container">\[ x_{1} + x_{2} = 1.0 \]</p><h3 id="Implies"><a class="docs-heading-anchor" href="#Implies">Implies</a><a id="Implies-1"></a><a class="docs-heading-anchor-permalink" href="#Implies" title="Permalink"></a></h3><p class="math-container">\[x_1 \implies x_2\]</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:2], Bin)
@constraint(model, x[1] &lt;= x[2])</code></pre><p class="math-container">\[ x_{1} - x_{2} \leq 0.0 \]</p><h2 id="Big-M-Disjunctive-Constraints-(OR)"><a class="docs-heading-anchor" href="#Big-M-Disjunctive-Constraints-(OR)">Big-M Disjunctive Constraints (OR)</a><a id="Big-M-Disjunctive-Constraints-(OR)-1"></a><a class="docs-heading-anchor-permalink" href="#Big-M-Disjunctive-Constraints-(OR)" title="Permalink"></a></h2><p><strong>Problem</strong> Suppose that we have two constraints <span>$a^\top x \leq b$</span> and <span>$c^\top x \leq d$</span>, and we want at least one to hold.</p><p><strong>Trick</strong> Introduce a &quot;big-M&quot; multiplied by a binary variable to relax one of the constraints.</p><p><strong>Example</strong> Either <span>$x_1 \leq 1$</span> and/or <span>$x_2 \leq 2$</span>.</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:2])
@variable(model, y, Bin)
M = 100
@constraint(model, x[1] &lt;= 1 + M * y)
@constraint(model, x[2] &lt;= 2 + M * (1 - y))</code></pre><p class="math-container">\[ x_{2} + 100 y \leq 102.0 \]</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If <code>M</code> is too small, the solution may be suboptimal. If <code>M</code> is too big, the solver may encounter numerical issues. Try to use domain knowledge to choose an <code>M</code> that is just right. Gurobi has a <a href="https://www.gurobi.com/documentation/9.1/refman/dealing_with_big_m_constra.html">good documentation section</a> on this topic.</p></div></div><h2 id="Indicator-Constraints-(\\implies)"><a class="docs-heading-anchor" href="#Indicator-Constraints-(\\implies)">Indicator Constraints (<span>$\implies$</span>)</a><a id="Indicator-Constraints-(\\implies)-1"></a><a class="docs-heading-anchor-permalink" href="#Indicator-Constraints-(\\implies)" title="Permalink"></a></h2><h3 id="Problem"><a class="docs-heading-anchor" href="#Problem">Problem</a><a id="Problem-1"></a><a class="docs-heading-anchor-permalink" href="#Problem" title="Permalink"></a></h3><p>Suppose we want to model that a certain linear inequality must be satisfied when some other event occurs, i.e., for a binary variable <span>$z$</span>, we want to model the implication:</p><p class="math-container">\[z = 1 \implies a^Tx \leq b\]</p><h3 id="Trick-1"><a class="docs-heading-anchor" href="#Trick-1">Trick 1</a><a id="Trick-1-1"></a><a class="docs-heading-anchor-permalink" href="#Trick-1" title="Permalink"></a></h3><p>Some solvers have native support for indicator constraints.</p><p><strong>Example</strong> <span>$x_1 + x_2 \leq 1$</span> if <span>$z = 1$</span>.</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:2])
@variable(model, z, Bin)
@constraint(model, z =&gt; {sum(x) &lt;= 1})</code></pre><p class="math-container">\[ z =&gt; {x_{1} + x_{2} \leq 1.0} \]</p><p><strong>Example</strong> <span>$x_1 + x_2 \leq 1$</span> if <span>$z = 0$</span>.</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:2])
@variable(model, z, Bin)
@constraint(model, !z =&gt; {sum(x) &lt;= 1})</code></pre><p class="math-container">\[ !z =&gt; {x_{1} + x_{2} \leq 1.0} \]</p><h3 id="Trick-2"><a class="docs-heading-anchor" href="#Trick-2">Trick 2</a><a id="Trick-2-1"></a><a class="docs-heading-anchor-permalink" href="#Trick-2" title="Permalink"></a></h3><p>If the solver doesn&#39;t support indicator constraints, you an use the big-M trick.</p><p><strong>Example</strong> <span>$x_1 + x_2 \leq 1$</span> if <span>$z = 1$</span>.</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:2])
@variable(model, z, Bin)
M = 100
@constraint(model, sum(x) &lt;=  1 + M * (1 - z))</code></pre><p class="math-container">\[ x_{1} + x_{2} + 100 z \leq 101.0 \]</p><p><strong>Example</strong> <span>$x_1 + x_2 \leq 1$</span> if <span>$z = 0$</span>.</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:2])
@variable(model, z, Bin)
M = 100
@constraint(model, sum(x) &lt;=  1 + M * z)</code></pre><p class="math-container">\[ x_{1} + x_{2} - 100 z \leq 1.0 \]</p><h2 id="Semi-Continuous-Variables"><a class="docs-heading-anchor" href="#Semi-Continuous-Variables">Semi-Continuous Variables</a><a id="Semi-Continuous-Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Semi-Continuous-Variables" title="Permalink"></a></h2><p>A semi-continuous variable is a continuous variable between bounds <span>$[l,u]$</span> that also can assume the value zero. ie. <span>$x \in \{0\} \cup [l,u].$</span></p><p><strong>Example</strong> <span>$x \in \{0\}\cup [1, 2]$</span></p><pre><code class="language-julia">model = Model()
@variable(model, x in MOI.Semicontinuous(1.0, 2.0))</code></pre><p class="math-container">\[ x \]</p><h2 id="Semi-Integer-Variables"><a class="docs-heading-anchor" href="#Semi-Integer-Variables">Semi-Integer Variables</a><a id="Semi-Integer-Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Semi-Integer-Variables" title="Permalink"></a></h2><p>A semi-integer variable is a variable which assumes integer values between bounds <span>$[l,u]$</span> and can also assume the value zero: <span>$x \in \{0\} \cup [l, u] \cap \mathbb{Z}.$</span></p><pre><code class="language-julia">model = Model()
@variable(model, x in MOI.Semiinteger(5.0, 10.0))</code></pre><p class="math-container">\[ x \]</p><h2 id="Special-Ordered-Sets-of-Type-I-(SOS1)"><a class="docs-heading-anchor" href="#Special-Ordered-Sets-of-Type-I-(SOS1)">Special Ordered Sets of Type I (SOS1)</a><a id="Special-Ordered-Sets-of-Type-I-(SOS1)-1"></a><a class="docs-heading-anchor-permalink" href="#Special-Ordered-Sets-of-Type-I-(SOS1)" title="Permalink"></a></h2><p>A Special Ordered Set of Type I is a set of variables, at most one of which can take a non-zero value, all others being at 0.</p><p>They most frequently apply where a set of variables are actually binary variables. In other words, we have to choose at most one from a set of possibilities.</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:3], Bin)
@constraint(model, x in SOS1())</code></pre><p class="math-container">\[ [x_{1}, x_{2}, x_{3}] \in \text{MathOptInterface.SOS1\{Float64\}([1.0, 2.0, 3.0])} \]</p><p>You can optionally pass <code>SOS1</code> a weight vector like</p><pre><code class="language-julia">@constraint(model, x in SOS1([0.2, 0.5, 0.3]))</code></pre><p class="math-container">\[ [x_{1}, x_{2}, x_{3}] \in \text{MathOptInterface.SOS1\{Float64\}([0.2, 0.5, 0.3])} \]</p><p>If the decision variables are related and have a physical ordering, then the weight vector, although not used directly in the constraint, can help the solver make a better decision in the solution process.</p><h2 id="tip_sos2"><a class="docs-heading-anchor" href="#tip_sos2">Special Ordered Sets of Type II (SOS2)</a><a id="tip_sos2-1"></a><a class="docs-heading-anchor-permalink" href="#tip_sos2" title="Permalink"></a></h2><p>A Special Ordered Set of type 2 is a set of non-negative variables, of which at most two can be non-zero, and if two are non-zero these must be consecutive in their ordering.</p><pre><code class="language-julia">model = Model()
@variable(model, x[1:3])
@constraint(model, x in MOI.SOS2([3.0, 1.0, 2.0]))</code></pre><p class="math-container">\[ [x_{1}, x_{2}, x_{3}] \in \text{MathOptInterface.SOS2\{Float64\}([3.0, 1.0, 2.0])} \]</p><p>The ordering provided by the weight vector is more important in this case as the variables need to be consecutive according to the ordering. For example, in the above constraint, the possible pairs are:</p><ul><li>Consecutive<ul><li>(<code>x[1]</code> and <code>x[3]</code>) as they correspond to 3 and 2 resp. and thus can be non-zero</li><li>(<code>x[2]</code> and <code>x[3]</code>) as they correspond to 1 and 2 resp. and thus can be non-zero</li></ul></li><li>Non-consecutive<ul><li>(<code>x[1]</code> and <code>x[2]</code>) as they correspond to 3 and 1 resp. and thus cannot be non-zero</li></ul></li></ul><h2 id="Piecewise-linear-approximations"><a class="docs-heading-anchor" href="#Piecewise-linear-approximations">Piecewise linear approximations</a><a id="Piecewise-linear-approximations-1"></a><a class="docs-heading-anchor-permalink" href="#Piecewise-linear-approximations" title="Permalink"></a></h2><p><a href="#tip_sos2">SOSII constraints</a> are most often used to form piecewise linear approximations of a function.</p><p>Given a set of points for <code>x</code>:</p><pre><code class="language-julia">x̂ = -1:0.5:2</code></pre><pre class="documenter-example-output">-1.0:0.5:2.0</pre><p>and a set of corresponding points for <code>y</code>:</p><pre><code class="language-julia">ŷ = x̂.^2</code></pre><pre class="documenter-example-output">7-element Array{Float64,1}:
 1.0 
 0.25
 0.0 
 0.25
 1.0 
 2.25
 4.0 </pre><p>the piecewise linear approximation is constructed by representing <code>x</code> and <code>y</code> as convex combinations of <code>x̂</code> and <code>ŷ</code>.</p><pre><code class="language-julia">N = length(x̂)
model = Model()
@variable(model, -1 &lt;= x &lt;= 2)
@variable(model, y)
@variable(model, 0 &lt;= λ[1:N] &lt;= 1)
@objective(model, Max, y)
@constraints(model, begin
    x == sum(x̂[i] * λ[i] for i = 1:N)
    y == sum(ŷ[i] * λ[i] for i = 1:N)
    sum(λ) == 1
    λ in SOS2()
end)</code></pre><p><a href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/tutorials/Mixed-integer linear programs/tips_and_tricks.jl">View this file on Github</a>.</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../sudoku/">« Sudoku</a><a class="docs-footer-nextpage" href="../transp/">The transportation problem »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 8 May 2021 23:27">Saturday 8 May 2021</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
