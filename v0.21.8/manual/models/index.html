<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Models Â· JuMP</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44252521-1', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="JuMP logo"/></a><div class="docs-package-name"><span class="docs-autofit">JuMP</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../installation/">Installation Guide</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/Getting started/an_introduction_to_julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../../tutorials/Getting started/getting_started_with_JuMP/">Getting started with JuMP</a></li><li><a class="tocitem" href="../../tutorials/Getting started/performance_tips/">Performance tips</a></li><li><a class="tocitem" href="../../tutorials/Getting started/solvers_and_solutions/">Solvers and Solutions</a></li><li><a class="tocitem" href="../../tutorials/Getting started/variables_constraints_objective/">Variables, constraints, and objective functions</a></li><li><a class="tocitem" href="../../tutorials/Getting started/working_with_data_files/">Working with Data Files</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Mixed-integer linear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/cannery/">The cannery problem</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/cutting_stock_column_generation/">Cutting stock</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/diet/">The diet problem</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/finance/">Finance</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/geographic_clustering/">Geographical Clustering</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/knapsack/">The knapsack problem</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/n-queens/">N-Queens</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/network_flows/">Network Flows</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/power_systems/">Power Systems</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/prod/">The workforce scheduling problem</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/steelT3/">The SteelT3 problem</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/sudoku/">Sudoku</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/transp/">The transportation problem</a></li><li><a class="tocitem" href="../../tutorials/Mixed-integer linear programs/urban_plan/">The urban planning problem</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Nonlinear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/Nonlinear programs/clnlbeam/">The clnlbeam problem</a></li><li><a class="tocitem" href="../../tutorials/Nonlinear programs/mle/">Maximum likelihood estimation</a></li><li><a class="tocitem" href="../../tutorials/Nonlinear programs/nlp_tricks/">Nonlinear tips and tricks</a></li><li><a class="tocitem" href="../../tutorials/Nonlinear programs/rocket_control/">Rocket Control</a></li><li><a class="tocitem" href="../../tutorials/Nonlinear programs/rosenbrock/">The Rosenbrock function</a></li><li><a class="tocitem" href="../../tutorials/Nonlinear programs/space_shuttle_reentry_trajectory/">Space Shuttle Reentry Trajectory</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Quadratic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/Quadratic programs/portfolio/">Portfolio Optimization</a></li><li><a class="tocitem" href="../../tutorials/Quadratic programs/qcp/">Quadratically constrained programs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Conic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/Conic programs/logistic_regression/">Logistic Regression</a></li><li><a class="tocitem" href="../../tutorials/Conic programs/tips_and_tricks/">Tips and Tricks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">Semidefinite programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/Semidefinite programs/cluster/">K-means clustering via SDP</a></li><li><a class="tocitem" href="../../tutorials/Semidefinite programs/corr_sdp/">The correlation problem</a></li><li><a class="tocitem" href="../../tutorials/Semidefinite programs/experiment_design/">Experiment Design</a></li><li><a class="tocitem" href="../../tutorials/Semidefinite programs/max_cut_sdp/">SDP relaxations: max-cut</a></li><li><a class="tocitem" href="../../tutorials/Semidefinite programs/min_distortion/">The minimum distortion problem</a></li><li><a class="tocitem" href="../../tutorials/Semidefinite programs/min_ellipse/">Minimum ellipses</a></li><li><a class="tocitem" href="../../tutorials/Semidefinite programs/robust_uncertainty/">Robust uncertainty sets</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-7" type="checkbox"/><label class="tocitem" for="menuitem-3-7"><span class="docs-label">Optimization concepts</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/Optimization concepts/benders_decomposition/">Benders Decomposition</a></li><li><a class="tocitem" href="../../tutorials/Optimization concepts/benders_lazy_constraints/">Benders Decomposition (Lazy Constraints)</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Models</a><ul class="internal"><li><a class="tocitem" href="#Create-a-model"><span>Create a model</span></a></li><li><a class="tocitem" href="#Print-the-model"><span>Print the model</span></a></li><li><a class="tocitem" href="#Turn-off-output"><span>Turn off output</span></a></li><li><a class="tocitem" href="#Set-a-time-limit"><span>Set a time limit</span></a></li><li><a class="tocitem" href="#Write-a-model-to-file"><span>Write a model to file</span></a></li><li><a class="tocitem" href="#Read-a-model-from-file"><span>Read a model from file</span></a></li><li><a class="tocitem" href="#Backends"><span>Backends</span></a></li><li><a class="tocitem" href="#Direct-mode"><span>Direct mode</span></a></li></ul></li><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../expressions/">Expressions</a></li><li><a class="tocitem" href="../objective/">Objectives</a></li><li><a class="tocitem" href="../constraints/">Constraints</a></li><li><a class="tocitem" href="../containers/">Containers</a></li><li><a class="tocitem" href="../solutions/">Solutions</a></li><li><a class="tocitem" href="../nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../callbacks/">Callbacks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../reference/models/">Models</a></li><li><a class="tocitem" href="../../reference/variables/">Variables</a></li><li><a class="tocitem" href="../../reference/expressions/">Expressions</a></li><li><a class="tocitem" href="../../reference/objectives/">Objectives</a></li><li><a class="tocitem" href="../../reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../reference/containers/">Containers</a></li><li><a class="tocitem" href="../../reference/solutions/">Solutions</a></li><li><a class="tocitem" href="../../reference/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../reference/moi/">MathOptInterface</a></li><li><a class="tocitem" href="../../reference/extensions/">Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Background information</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../background/should_i_use/">Should I use JuMP?</a></li><li><a class="tocitem" href="../../background/algebraic_modeling_languages/">Algebraic modeling languages</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../developers/extensions/">Extensions</a></li><li><a class="tocitem" href="../../developers/style/">Style Guide</a></li><li><a class="tocitem" href="../../developers/roadmap/">Roadmap</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Models</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/manual/models.md" title="Edit on GitHub"><span class="docs-icon fab">ï</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Models"><a class="docs-heading-anchor" href="#Models">Models</a><a id="Models-1"></a><a class="docs-heading-anchor-permalink" href="#Models" title="Permalink"></a></h1><h2 id="Create-a-model"><a class="docs-heading-anchor" href="#Create-a-model">Create a model</a><a id="Create-a-model-1"></a><a class="docs-heading-anchor-permalink" href="#Create-a-model" title="Permalink"></a></h2><p>Create a model by passing an optimizer to <a href="../../reference/models/#JuMP.Model"><code>Model</code></a>:</p><pre><code class="language-julia-repl">julia&gt; model = Model(GLPK.Optimizer)
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: GLPK</code></pre><p>or by calling <a href="../../reference/models/#JuMP.set_optimizer"><code>set_optimizer</code></a> on an empty <a href="../../reference/models/#JuMP.Model"><code>Model</code></a>:</p><pre><code class="language-julia-repl">julia&gt; model = Model()
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: NO_OPTIMIZER
Solver name: No optimizer attached.

julia&gt; set_optimizer(model, GLPK.Optimizer)</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>JuMP uses &quot;optimizer&quot; as a synonym for &quot;solver.&quot; Our convention is to use &quot;solver&quot; to refer to the underlying software, and use &quot;optimizer&quot; to refer to the Julia object that wraps the solver. For example, <code>GLPK</code> is a solver, and <code>GLPK.Optimizer</code> is an optimizer.</p></div></div><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Don&#39;t know what the fields <code>Model mode</code>, <code>CachingOptimizer state</code> mean? Read the <a href="#Backends">Backends</a> section.</p></div></div><p>Use <a href="../../reference/models/#JuMP.optimizer_with_attributes"><code>optimizer_with_attributes</code></a> to create an optimizer with some attributes initialized:</p><pre><code class="language-julia-repl">julia&gt; model = Model(optimizer_with_attributes(GLPK.Optimizer, &quot;msg_lev&quot; =&gt; 0))
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: GLPK</code></pre><p>Alternatively, you can create a function which takes no arguments and returns an initialized <code>Optimizer</code> object:</p><pre><code class="language-julia-repl">julia&gt; function my_optimizer()
           model = GLPK.Optimizer()
           MOI.set(model, MOI.RawParameter(&quot;msg_lev&quot;), 0)
           return model
       end
my_optimizer (generic function with 1 method)

julia&gt; model = Model(my_optimizer)
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: GLPK</code></pre><h2 id="Print-the-model"><a class="docs-heading-anchor" href="#Print-the-model">Print the model</a><a id="Print-the-model-1"></a><a class="docs-heading-anchor-permalink" href="#Print-the-model" title="Permalink"></a></h2><p>By default, <code>show(model)</code> will print a summary of the problem.</p><pre><code class="language-julia-repl">julia&gt; model = Model(); @variable(model, x &gt;= 0); @objective(model, Max, x);

julia&gt; model
A JuMP Model
Maximization problem with:
Variable: 1
Objective function type: VariableRef
`VariableRef`-in-`MathOptInterface.GreaterThan{Float64}`: 1 constraint
Model mode: AUTOMATIC
CachingOptimizer state: NO_OPTIMIZER
Solver name: No optimizer attached.
Names registered in the model: x</code></pre><p>Use <code>print</code> to print the formulation of the model (in IJulia, this will render as LaTeX.</p><pre><code class="language-julia-repl">julia&gt; print(model)
Max x
Subject to
 x â¥ 0.0</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This format is specific to JuMP. To write the model to a file, use <a href="../../reference/models/#JuMP.write_to_file"><code>write_to_file</code></a> instead.</p></div></div><p>Use <a href="../../reference/models/#JuMP.latex_formulation"><code>latex_formulation</code></a> to display the model in LaTeX form.</p><pre><code class="language-julia-repl">julia&gt; latex_formulation(model)
$$ \begin{aligned}
\max\quad &amp; x\\
\text{Subject to} \quad &amp; x \geq 0.0\\
\end{aligned} $$</code></pre><p>In IJulia (and Documenter), ending a cell in with <a href="../../reference/models/#JuMP.latex_formulation"><code>latex_formulation</code></a> will render the model in LaTeX!</p><pre><code class="language-julia">latex_formulation(model)</code></pre><p class="math-container">\[ \begin{aligned}
\max\quad &amp; x\\
\text{Subject to} \quad &amp; x \geq 0.0\\
\end{aligned} \]</p><h2 id="Turn-off-output"><a class="docs-heading-anchor" href="#Turn-off-output">Turn off output</a><a id="Turn-off-output-1"></a><a class="docs-heading-anchor-permalink" href="#Turn-off-output" title="Permalink"></a></h2><p>Use <a href="../../reference/models/#JuMP.set_silent"><code>set_silent</code></a> and <a href="../../reference/models/#JuMP.unset_silent"><code>unset_silent</code></a> to disable or enable printing output from the solver.</p><pre><code class="language-julia-repl">julia&gt; model = Model(GLPK.Optimizer);

julia&gt; set_silent(model)
true

julia&gt; unset_silent(model)
false</code></pre><h2 id="Set-a-time-limit"><a class="docs-heading-anchor" href="#Set-a-time-limit">Set a time limit</a><a id="Set-a-time-limit-1"></a><a class="docs-heading-anchor-permalink" href="#Set-a-time-limit" title="Permalink"></a></h2><p>Use <a href="../../reference/models/#JuMP.set_time_limit_sec"><code>set_time_limit_sec</code></a>, <a href="../../reference/models/#JuMP.unset_time_limit_sec"><code>unset_time_limit_sec</code></a>, and <a href="../../reference/models/#JuMP.time_limit_sec"><code>time_limit_sec</code></a> to manage time limits.</p><pre><code class="language-julia-repl">julia&gt; model = Model(GLPK.Optimizer);

julia&gt; set_time_limit_sec(model, 60.0)
60.0

julia&gt; time_limit_sec(model)
60.0

julia&gt; unset_time_limit_sec(model)

julia&gt; time_limit_sec(model)
2.147483647e6</code></pre><h2 id="Write-a-model-to-file"><a class="docs-heading-anchor" href="#Write-a-model-to-file">Write a model to file</a><a id="Write-a-model-to-file-1"></a><a class="docs-heading-anchor-permalink" href="#Write-a-model-to-file" title="Permalink"></a></h2><p>JuMP can write models to a variety of file-formats using <a href="../../reference/models/#JuMP.write_to_file"><code>write_to_file</code></a> and <a href="../../reference/models/#Base.write-Tuple{IO,Model}"><code>Base.write</code></a>.</p><pre><code class="language-julia-repl">julia&gt; write_to_file(model, &quot;model.mps&quot;)

julia&gt; write(io, model; format = MOI.FileFormats.FORMAT_MPS)</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>The supported file formats are defined by the <a href="https://jump.dev/MathOptInterface.jl/v0.9/apireference/#MathOptInterface.FileFormats.FileFormat">MOI.FileFormats.FileFormat</a> enum.</p><pre><code class="language-julia-repl">julia&gt; MOI.FileFormats.FileFormat
Enum MathOptInterface.FileFormats.FileFormat:
FORMAT_AUTOMATIC = 0
FORMAT_CBF = 1
FORMAT_LP = 2
FORMAT_MOF = 3
FORMAT_MPS = 4
FORMAT_SDPA = 5</code></pre></div></div><h2 id="Read-a-model-from-file"><a class="docs-heading-anchor" href="#Read-a-model-from-file">Read a model from file</a><a id="Read-a-model-from-file-1"></a><a class="docs-heading-anchor-permalink" href="#Read-a-model-from-file" title="Permalink"></a></h2><p>JuMP models can be created from file formats using <a href="../../reference/models/#JuMP.read_from_file"><code>read_from_file</code></a> and <a href="../../reference/models/#Base.read-Tuple{IO,Type{Model}}"><code>Base.read</code></a>.</p><pre><code class="language-julia-repl">julia&gt; model = read_from_file(&quot;model.mps&quot;)
A JuMP Model
Minimization problem with:
Variables: 0
Objective function type: GenericAffExpr{Float64,VariableRef}
Model mode: AUTOMATIC
CachingOptimizer state: NO_OPTIMIZER
Solver name: No optimizer attached.

julia&gt; seekstart(io);

julia&gt; model2 = read(io, Model; format = MOI.FileFormats.FORMAT_MPS)
A JuMP Model
Minimization problem with:
Variables: 0
Objective function type: GenericAffExpr{Float64,VariableRef}
Model mode: AUTOMATIC
CachingOptimizer state: NO_OPTIMIZER
Solver name: No optimizer attached.</code></pre><h2 id="Backends"><a class="docs-heading-anchor" href="#Backends">Backends</a><a id="Backends-1"></a><a class="docs-heading-anchor-permalink" href="#Backends" title="Permalink"></a></h2><p>A JuMP <a href="../../reference/models/#JuMP.Model"><code>Model</code></a> is a thin layer around a <em>backend</em> of type <a href="https://jump.dev/MathOptInterface.jl/v0.9/apireference/#Model-Interface"><code>MOI.ModelLike</code></a> that stores the optimization problem and acts as the optimization solver.</p><p>From JuMP, the MOI backend can be accessed using the <a href="../../reference/models/#JuMP.backend"><code>backend</code></a> function. Let&#39;s see what the <a href="../../reference/models/#JuMP.backend"><code>backend</code></a> of a JuMP <a href="../../reference/models/#JuMP.Model"><code>Model</code></a> is:</p><pre><code class="language-julia-repl">julia&gt; model = Model(GLPK.Optimizer)
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: GLPK

julia&gt; b = backend(model)
MOIU.CachingOptimizer{MOI.AbstractOptimizer,MOIU.UniversalFallback{MOIU.GenericModel{Float64,MOIU.ModelFunctionConstraints{Float64}}}}
in state EMPTY_OPTIMIZER
in mode AUTOMATIC
with model cache MOIU.UniversalFallback{MOIU.GenericModel{Float64,MOIU.ModelFunctionConstraints{Float64}}}
  fallback for MOIU.GenericModel{Float64,MOIU.ModelFunctionConstraints{Float64}}
with optimizer MOIB.LazyBridgeOptimizer{GLPK.Optimizer}
  with 0 variable bridges
  with 0 constraint bridges
  with 0 objective bridges
  with inner model A GLPK model</code></pre><p>The backend is a <code>MOIU.CachingOptimizer</code> in the state <code>EMPTY_OPTIMIZER</code> and mode <code>AUTOMATIC</code>.</p><h3 id="CachingOptimizer"><a class="docs-heading-anchor" href="#CachingOptimizer">CachingOptimizer</a><a id="CachingOptimizer-1"></a><a class="docs-heading-anchor-permalink" href="#CachingOptimizer" title="Permalink"></a></h3><p>A <code>MOIU.CachingOptimizer</code> is an MOI layer that abstracts the difference between solvers that support incremental modification (e.g., they support adding variables one-by-one), and solvers that require the entire problem in a single API call (e.g., they only accept the <code>A</code>, <code>b</code> and <code>c</code> matrices of a linear program).</p><p>It has two parts:</p><ol><li>A cache, where the model can be built and modified incrementally<pre><code class="language-julia-repl">julia&gt; b.model_cache
MOIU.UniversalFallback{MOIU.GenericModel{Float64,MOIU.ModelFunctionConstraints{Float64}}}
fallback for MOIU.GenericModel{Float64,MOIU.ModelFunctionConstraints{Float64}}</code></pre></li><li>An optimizer, which is used to solve the problem<pre><code class="language-julia-repl">julia&gt; b.optimizer
MOIB.LazyBridgeOptimizer{GLPK.Optimizer}
with 0 variable bridges
with 0 constraint bridges
with 0 objective bridges
with inner model A GLPK model</code></pre></li></ol><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>The <a href="#LazyBridgeOptimizer">LazyBridgeOptimizer</a> section explains what a <code>LazyBridgeOptimizer</code> is.</p></div></div><p>The <code>CachingOptimizer</code> has logic to decide when to copy the problem from the cache to the optimizer, and when it can efficiently update the optimizer in-place.</p><p>A <code>CachingOptimizer</code> may be in one of three possible states:</p><ul><li><code>NO_OPTIMIZER</code>: The CachingOptimizer does not have any optimizer.</li><li><code>EMPTY_OPTIMIZER</code>: The CachingOptimizer has an empty optimizer, and it is not synchronized with the cached model.</li><li><code>ATTACHED_OPTIMIZER</code>: The CachingOptimizer has an optimizer, and it is synchronized with the cached model.</li></ul><p>A <code>CachingOptimizer</code> has two modes of operation:</p><ul><li><code>AUTOMATIC</code>: The <code>CachingOptimizer</code> changes its state when necessary. For example, <a href="../../reference/solutions/#JuMP.optimize!"><code>optimize!</code></a> will automatically call <code>attach_optimizer</code> (an optimizer must have been previously set). Attempting to add a constraint or perform a modification not supported by the optimizer results in a drop to <code>EMPTY_OPTIMIZER</code> mode.</li><li><code>MANUAL</code>: The user must change the state of the <code>CachingOptimizer</code> using <a href="../../reference/moi/#MathOptInterface.Utilities.reset_optimizer-Tuple{Model}"><code>MOIU.reset_optimizer(::JuMP.Model)</code></a>, <a href="../../reference/moi/#MathOptInterface.Utilities.drop_optimizer-Tuple{Model}"><code>MOIU.drop_optimizer(::JuMP.Model)</code></a>, and <a href="../../reference/moi/#MathOptInterface.Utilities.attach_optimizer-Tuple{Model}"><code>MOIU.attach_optimizer(::JuMP.Model)</code></a>. Attempting to perform an operation in the incorrect state results in an error.</li></ul><p>By default <a href="../../reference/models/#JuMP.Model"><code>Model</code></a> will create a <code>CachingOptimizer</code> in <code>AUTOMATIC</code> mode. Use the <code>caching_mode</code> keyword to create a model in <code>MANUAL</code> mode:</p><pre><code class="language-julia-repl">julia&gt; Model(GLPK.Optimizer; caching_mode = MOI.Utilities.MANUAL)
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: MANUAL
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: GLPK</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Only use <code>MANUAL</code> mode if you have a very good reason. If you want to reduce the overhead between JuMP and the underlying solver, consider <a href="#Direct-mode">Direct mode</a> instead.</p></div></div><h3 id="LazyBridgeOptimizer"><a class="docs-heading-anchor" href="#LazyBridgeOptimizer">LazyBridgeOptimizer</a><a id="LazyBridgeOptimizer-1"></a><a class="docs-heading-anchor-permalink" href="#LazyBridgeOptimizer" title="Permalink"></a></h3><p>The second layer that JuMP applies automatically is a <code>LazyBridgeOptimizer</code>. A <code>LazyBridgeOptimizer</code> is an MOI layer that attempts to transform constraints added by the user into constraints supported by the solver. This may involve adding new variables and constraints to the optimizer. The transformations are selected from a set of known recipes called <em>bridges</em>.</p><p>A common example of a bridge is one that splits an interval constrait like <code>@constraint(model, 1 &lt;= x + y &lt;= 2)</code> into two constraints, <code>@constraint(model, x + y &gt;= 1)</code> and <code>@constraint(model, x + y &lt;= 2)</code>.</p><p>Use the <code>bridge_constraints=false</code> keyword to remove the bridging layer:</p><pre><code class="language-julia-repl">julia&gt; model = Model(GLPK.Optimizer; bridge_constraints = false)
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: GLPK

julia&gt; backend(model)
MOIU.CachingOptimizer{MOI.AbstractOptimizer,MOIU.UniversalFallback{MOIU.GenericModel{Float64,MOIU.ModelFunctionConstraints{Float64}}}}
in state EMPTY_OPTIMIZER
in mode AUTOMATIC
with model cache MOIU.UniversalFallback{MOIU.GenericModel{Float64,MOIU.ModelFunctionConstraints{Float64}}}
  fallback for MOIU.GenericModel{Float64,MOIU.ModelFunctionConstraints{Float64}}
with optimizer A GLPK model</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Only disable bridges if you have a very good reason. If you want to reduce the overhead between JuMP and the underlying solver, consider <a href="#Direct-mode">Direct mode</a> instead.</p></div></div><h2 id="Direct-mode"><a class="docs-heading-anchor" href="#Direct-mode">Direct mode</a><a id="Direct-mode-1"></a><a class="docs-heading-anchor-permalink" href="#Direct-mode" title="Permalink"></a></h2><p>Using a <code>CachingOptimizer</code> results in an additional copy of the model being stored by JuMP in the <code>.model_cache</code> field. To avoid this overhead, create a JuMP model using <a href="../../reference/models/#JuMP.direct_model"><code>direct_model</code></a>:</p><pre><code class="language-julia-repl">julia&gt; model = direct_model(GLPK.Optimizer())
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: DIRECT
Solver name: GLPK</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Solvers that do not support incremental modification do not support <code>direct_model</code>. An error will be thrown, telling you to use a <code>CachingOptimizer</code> instead.</p></div></div><p>The benefit of using <a href="../../reference/models/#JuMP.direct_model"><code>direct_model</code></a> is that there are no extra layers (e.g., <code>Cachingoptimizer</code> or <code>LazyBridgeOptimizer</code>) between <code>model</code> and the provided optimizer:</p><pre><code class="language-julia-repl">julia&gt; typeof(backend(model))
GLPK.Optimizer</code></pre><p>A downside of direct mode is that there is no bridging layer. Therefore, only constraints which are natively supported by the solver are supported. For example, <code>GLPK.jl</code> does not implement constraints of the form <code>l &lt;= a&#39; x &lt;= u</code>.</p><pre><code class="language-julia">julia&gt; @variable(model, x[1:2]);

julia&gt; @constraint(model, 1 &lt;= x[1] + x[2] &lt;= 2)
ERROR: Constraints of type MathOptInterface.ScalarAffineFunction{Float64}-in-MathOptInterface.Interval{Float64} are not supported by the solver.
[...]</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tutorials/Optimization concepts/benders_lazy_constraints/">Â« Benders Decomposition (Lazy Constraints)</a><a class="docs-footer-nextpage" href="../variables/">Variables Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 8 May 2021 23:27">Saturday 8 May 2021</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
