<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Portfolio Optimization Â· JuMP</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44252521-1', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script data-main="../../../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../../../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../../../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../../../assets/themeswap.js"></script><script data-outdated-warner="">function maybeAddWarning () {
    const head = document.getElementsByTagName('head')[0];

    // Add a noindex meta tag (unless one exists) so that search engines don't index this version of the docs.
    if (document.body.querySelector('meta[name="robots"]') === null) {
        const meta = document.createElement('meta');
        meta.name = 'robots';
        meta.content = 'noindex';

        head.appendChild(meta);
    };

    // Add a stylesheet to avoid inline styling
    const style = document.createElement('style');
    style.type = 'text/css';
    style.appendChild(document.createTextNode('.outdated-warning-overlay {  position: fixed;  top: 0;  left: 0;  right: 0;  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);  z-index: 999;  background-color: #ffaba7;  color: rgba(0, 0, 0, 0.7);  border-bottom: 3px solid #da0b00;  padding: 10px 35px;  text-align: center;  font-size: 15px; }  .outdated-warning-overlay .outdated-warning-closer {    position: absolute;    top: calc(50% - 10px);    right: 18px;    cursor: pointer;    width: 12px; }  .outdated-warning-overlay a {    color: #2e63b8; }    .outdated-warning-overlay a:hover {      color: #363636; }'));
    head.appendChild(style);

    const div = document.createElement('div');
    div.classList.add('outdated-warning-overlay');
    const closer = document.createElement('div');
    closer.classList.add('outdated-warning-closer');

    // Icon by font-awesome (license: https://fontawesome.com/license, link: https://fontawesome.com/icons/times?style=solid)
    closer.innerHTML = '<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>';
    closer.addEventListener('click', function () {
        document.body.removeChild(div);
    });
    let href = '/stable';
    if (window.documenterBaseURL) {
        href = window.documenterBaseURL + '/../stable';
    }
    div.innerHTML = 'This documentation is not for the latest version. <br> <a href="' + href + '">Go to the latest documentation</a>.';
    div.appendChild(closer);
    document.body.appendChild(div);
};

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', maybeAddWarning);
} else {
    maybeAddWarning();
};
</script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img alt="JuMP logo" src="../../../assets/logo.png"/></a><div class="docs-package-name"><span class="docs-autofit">JuMP</span></div><form action="../../../search/" class="docs-search"><input class="docs-search-query" id="documenter-search-query" name="q" placeholder="Search docs" type="text"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../../installation/">Installation Guide</a></li><li><input checked="" class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Getting started/an_introduction_to_julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../../Getting started/getting_started_with_JuMP/">Getting started with JuMP</a></li><li><a class="tocitem" href="../../Getting started/performance_tips/">Performance tips</a></li><li><a class="tocitem" href="../../Getting started/solvers_and_solutions/">Solvers and Solutions</a></li><li><a class="tocitem" href="../../Getting started/variables_constraints_objective/">Variables, constraints, and objective functions</a></li><li><a class="tocitem" href="../../Getting started/working_with_data_files/">Working with Data Files</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Mixed-integer linear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Mixed-integer linear programs/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/cannery/">The cannery problem</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/cutting_stock_column_generation/">Cutting stock</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/diet/">The diet problem</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/finance/">Finance</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/geographic_clustering/">Geographical Clustering</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/knapsack/">The knapsack problem</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/n-queens/">N-Queens</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/network_flows/">Network Flows</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/power_systems/">Power Systems</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/prod/">The workforce scheduling problem</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/steelT3/">The SteelT3 problem</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/sudoku/">Sudoku</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/transp/">The transportation problem</a></li><li><a class="tocitem" href="../../Mixed-integer linear programs/urban_plan/">The urban planning problem</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Nonlinear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Nonlinear programs/clnlbeam/">The clnlbeam problem</a></li><li><a class="tocitem" href="../../Nonlinear programs/mle/">Maximum likelihood estimation</a></li><li><a class="tocitem" href="../../Nonlinear programs/nlp_tricks/">Nonlinear tips and tricks</a></li><li><a class="tocitem" href="../../Nonlinear programs/rocket_control/">Rocket Control</a></li><li><a class="tocitem" href="../../Nonlinear programs/rosenbrock/">The Rosenbrock function</a></li><li><a class="tocitem" href="../../Nonlinear programs/space_shuttle_reentry_trajectory/">Space Shuttle Reentry Trajectory</a></li></ul></li><li><input checked="" class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Quadratic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href="">Portfolio Optimization</a></li><li><a class="tocitem" href="../qcp/">Quadratically constrained programs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Conic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Conic programs/logistic_regression/">Logistic Regression</a></li><li><a class="tocitem" href="../../Conic programs/tips_and_tricks/">Tips and Tricks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">Semidefinite programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Semidefinite programs/cluster/">K-means clustering via SDP</a></li><li><a class="tocitem" href="../../Semidefinite programs/corr_sdp/">The correlation problem</a></li><li><a class="tocitem" href="../../Semidefinite programs/experiment_design/">Experiment Design</a></li><li><a class="tocitem" href="../../Semidefinite programs/max_cut_sdp/">SDP relaxations: max-cut</a></li><li><a class="tocitem" href="../../Semidefinite programs/min_distortion/">The minimum distortion problem</a></li><li><a class="tocitem" href="../../Semidefinite programs/min_ellipse/">Minimum ellipses</a></li><li><a class="tocitem" href="../../Semidefinite programs/robust_uncertainty/">Robust uncertainty sets</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-7" type="checkbox"/><label class="tocitem" for="menuitem-3-7"><span class="docs-label">Optimization concepts</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Optimization concepts/benders_decomposition/">Benders Decomposition</a></li><li><a class="tocitem" href="../../Optimization concepts/benders_lazy_constraints/">Benders Decomposition (Lazy Constraints)</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../manual/models/">Models</a></li><li><a class="tocitem" href="../../../manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../manual/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../manual/objective/">Objectives</a></li><li><a class="tocitem" href="../../../manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../manual/containers/">Containers</a></li><li><a class="tocitem" href="../../../manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../manual/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../manual/callbacks/">Callbacks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../reference/models/">Models</a></li><li><a class="tocitem" href="../../../reference/variables/">Variables</a></li><li><a class="tocitem" href="../../../reference/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../reference/objectives/">Objectives</a></li><li><a class="tocitem" href="../../../reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../reference/containers/">Containers</a></li><li><a class="tocitem" href="../../../reference/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../reference/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../../reference/moi/">MathOptInterface</a></li><li><a class="tocitem" href="../../../reference/extensions/">Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Background information</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../background/should_i_use/">Should I use JuMP?</a></li><li><a class="tocitem" href="../../../background/algebraic_modeling_languages/">Algebraic modeling languages</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../developers/extensions/">Extensions</a></li><li><a class="tocitem" href="../../../developers/style/">Style Guide</a></li><li><a class="tocitem" href="../../../developers/roadmap/">Roadmap</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Quadratic programs</a></li><li class="is-active"><a href="">Portfolio Optimization</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">Portfolio Optimization</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/tutorials/Quadratic programs/portfolio.jl" title="Edit on GitHub"><span class="docs-icon fab">ï</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a></div></header><article class="content" id="documenter-page"><h1 id="Portfolio-Optimization"><a class="docs-heading-anchor" href="#Portfolio-Optimization">Portfolio Optimization</a><a id="Portfolio-Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Portfolio-Optimization" title="Permalink"></a></h1><p><strong>Originally Contributed by</strong>: Arpit Bhatia</p><p>Optimization models play an increasingly important role in financial decisions. Many computational finance problems can be solved efficiently using modern optimization techniques.</p><p>This tutorial solves the famous Markowitz Portfolio Optimization problem with data from <a href="https://www2.isye.gatech.edu/~sahmed/isye6669/">lecture notes from a course taught at Georgia Tech by Shabir Ahmed</a>.</p><p>This tutorial uses the following packages</p><pre><code class="language-julia">using JuMP
import Ipopt
import Statistics</code></pre><p>Suppose we are considering investing 1000 dollars in three non-dividend paying stocks, IBM (IBM), Walmart (WMT), and Southern Electric (SEHI), for a one-month period.</p><p>This means we will use the money to buy shares of the three stocks at the current market prices, hold these for one month, and sell the shares off at the prevailing market prices at the end of the month.</p><p>As a rational investor, we hope to make some profit out of this endeavor, i.e., the return on our investment should be positive.</p><p>Suppose we bought a stock at <span>$p$</span> dollars per share in the beginning of the month, and sold it off at <span>$s$</span> dollars per share at the end of the month. Then the one-month return on a share of the stock is $ \frac{s-p}{p} $.</p><p>Since the stock prices are quite uncertain, so is the end-of-month return on our investment. Our goal is to invest in such a way that the expected end-of-month return is at least $50 or 5%. Furthermore, we want to make sure that the âriskâ of not achieving our desired return is minimum.</p><p>Note that we are solving the problem under the following assumptions:</p><ol><li>We can trade any continuum of shares.</li><li>No short-selling is allowed.</li><li>There are no transaction costs.</li></ol><p>We model this problem by taking decision variables <span>$x_{i}, i=1,2,3,$</span> denoting the dollars invested in each of the 3 stocks.</p><p>Let us denote by <span>$\tilde{r}_{i}$</span> the random variable corresponding to the monthly return (increase in the stock price) per dollar for stock <span>$i$</span>.</p><p>Then, the return (or profit) on <span>$x_{i}$</span> dollars invested in stock <span>$i$</span> is <span>$\tilde{r}_{i} x_{i},$</span> and the total (random) return on our investment is <span>$\sum_{i=1}^{3} \tilde{r}_{i} x_{i}.$</span> The expected return on our investment is then <span>$\mathbb{E}\left[\sum_{i=1}^{3} \tilde{r}_{i} x_{i}\right]=\sum_{i=1}^{3} \overline{r}_{i} x_{i},$</span> where <span>$\overline{r}_{i}$</span> is the expected value of the <span>$\tilde{r}_{i}.$</span></p><p>Now we need to quantify the notion of âriskâ in our investment.</p><p>Markowitz, in his Nobel prize winning work, showed that a rational investorâs notion of minimizing risk can be closely approximated by minimizing the variance of the return of the investment portfolio. This variance is given by:</p><p class="math-container">\[\operatorname{Var}\left[\sum_{i=1}^{3} \tilde{r}_{i} x_{i}\right] = \sum_{i=1}^{3} \sum_{j=1}^{3} x_{i} x_{j} \sigma_{i j}\]</p><p>where <span>$\sigma_{i j}$</span> is the covariance of the return of stock <span>$i$</span> with stock <span>$j$</span>.</p><p>Note that the right hand side of the equation is the most reduced form of the expression and we have not shown the intermediate steps involved in getting to this form. We can also write this equation as:</p><p class="math-container">\[\operatorname{Var}\left[\sum_{i=1}^{3} \tilde{r}_{i} x_{i}\right] =x^{T} Q x\]</p><p>Where <span>$Q$</span> is the covariance matrix for the random vector <span>$\tilde{r}$</span>.</p><p>Finally, we can write the model as:</p><p class="math-container">\[\begin{aligned}
\min x^{T} Q x \\
\text { s.t. } \sum_{i=1}^{3} x_{i} \leq 1000.00 \\
\overline{r}^{T} x \geq 50.00 \\
x \geq 0
\end{aligned}\]</p><p>After that long discussion, lets now use JuMP to solve the portfolio optimization problem for the data given below.</p><table><tbody><tr><th style="text-align: right">Month</th><th style="text-align: right">IBM</th><th style="text-align: right">WMT</th><th style="text-align: right">SEHI</th></tr><tr><td style="text-align: right">November-00</td><td style="text-align: right">93.043</td><td style="text-align: right">51.826</td><td style="text-align: right">1.063</td></tr><tr><td style="text-align: right">December-00</td><td style="text-align: right">84.585</td><td style="text-align: right">52.823</td><td style="text-align: right">0.938</td></tr><tr><td style="text-align: right">January-01</td><td style="text-align: right">111.453</td><td style="text-align: right">56.477</td><td style="text-align: right">1.000</td></tr><tr><td style="text-align: right">February-01</td><td style="text-align: right">99.525</td><td style="text-align: right">49.805</td><td style="text-align: right">0.938</td></tr><tr><td style="text-align: right">March-01</td><td style="text-align: right">95.819</td><td style="text-align: right">50.287</td><td style="text-align: right">1.438</td></tr><tr><td style="text-align: right">April-01</td><td style="text-align: right">114.708</td><td style="text-align: right">51.521</td><td style="text-align: right">1.700</td></tr><tr><td style="text-align: right">May-01</td><td style="text-align: right">111.515</td><td style="text-align: right">51.531</td><td style="text-align: right">2.540</td></tr><tr><td style="text-align: right">June-01</td><td style="text-align: right">113.211</td><td style="text-align: right">48.664</td><td style="text-align: right">2.390</td></tr><tr><td style="text-align: right">July-01</td><td style="text-align: right">104.942</td><td style="text-align: right">55.744</td><td style="text-align: right">3.120</td></tr><tr><td style="text-align: right">August-01</td><td style="text-align: right">99.827</td><td style="text-align: right">47.916</td><td style="text-align: right">2.980</td></tr><tr><td style="text-align: right">September-01</td><td style="text-align: right">91.607</td><td style="text-align: right">49.438</td><td style="text-align: right">1.900</td></tr><tr><td style="text-align: right">October-01</td><td style="text-align: right">107.937</td><td style="text-align: right">51.336</td><td style="text-align: right">1.750</td></tr><tr><td style="text-align: right">November-01</td><td style="text-align: right">115.590</td><td style="text-align: right">55.081</td><td style="text-align: right">1.800</td></tr></tbody></table><pre><code class="language-julia">stock_data = [
    93.043 51.826 1.063;
    84.585 52.823 0.938;
    111.453 56.477 1.000;
    99.525 49.805 0.938;
    95.819 50.287 1.438;
    114.708 51.521 1.700;
    111.515 51.531 2.540;
    113.211 48.664 2.390;
    104.942 55.744 3.120;
    99.827 47.916 2.980;
    91.607 49.438 1.900;
    107.937 51.336 1.750;
    115.590 55.081 1.800;
]</code></pre><pre class="documenter-example-output">13Ã3 Array{Float64,2}:
  93.043  51.826  1.063
  84.585  52.823  0.938
 111.453  56.477  1.0  
  99.525  49.805  0.938
  95.819  50.287  1.438
 114.708  51.521  1.7  
 111.515  51.531  2.54 
 113.211  48.664  2.39 
 104.942  55.744  3.12 
  99.827  47.916  2.98 
  91.607  49.438  1.9  
 107.937  51.336  1.75 
 115.59   55.081  1.8  </pre><p>Calculating stock returns</p><pre><code class="language-julia">stock_returns = Array{Float64}(undef, 12, 3)
for i in 1:12
    stock_returns[i, :] = (stock_data[i + 1, :] .- stock_data[i, :]) ./ stock_data[i, :]
end
stock_returns</code></pre><pre class="documenter-example-output">12Ã3 Array{Float64,2}:
 -0.0909042   0.0192374    -0.117592 
  0.317645    0.0691744     0.0660981
 -0.107023   -0.118137     -0.062    
 -0.0372369   0.00967774    0.533049 
  0.197132    0.0245391     0.182197 
 -0.0278359   0.000194096   0.494118 
  0.0152087  -0.0556364    -0.0590551
 -0.0730406   0.145487      0.305439 
 -0.0487412  -0.140428     -0.0448718
 -0.0823425   0.0317639    -0.362416 
  0.178261    0.0383915    -0.0789474
  0.0709025   0.0729508     0.0285714</pre><p>Calculating the expected value of monthly return:</p><pre><code class="language-julia">r = Statistics.mean(stock_returns, dims = 1)</code></pre><pre class="documenter-example-output">1Ã3 Array{Float64,2}:
 0.0260022  0.00810132  0.0737159</pre><p>Calculating the covariance matrix Q</p><pre><code class="language-julia">Q = Statistics.cov(stock_returns)</code></pre><pre class="documenter-example-output">3Ã3 Array{Float64,2}:
 0.018641    0.00359853  0.00130976
 0.00359853  0.00643694  0.00488727
 0.00130976  0.00488727  0.0686828 </pre><p>JuMP Model</p><pre><code class="language-julia">portfolio = Model(Ipopt.Optimizer)
set_silent(portfolio)
@variable(portfolio, x[1:3] &gt;= 0)
@objective(portfolio, Min, x' * Q * x)
@constraint(portfolio, sum(x) &lt;= 1000)
@constraint(portfolio, sum(r[i] * x[i] for i = 1:3) &gt;= 50)
optimize!(portfolio)

objective_value(portfolio)</code></pre><pre class="documenter-example-output">22634.417849884154</pre><pre><code class="language-julia">value.(x)</code></pre><pre class="documenter-example-output">3-element Array{Float64,1}:
 497.04552984986384
   0.0             
 502.9544801594811 </pre><p><a href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/tutorials/Quadratic programs/portfolio.jl">View this file on Github</a>.</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../Nonlinear programs/space_shuttle_reentry_trajectory/">Â« Space Shuttle Reentry Trajectory</a><a class="docs-footer-nextpage" href="../qcp/">Quadratically constrained programs Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 12 April 2021 08:50">Monday 12 April 2021</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>