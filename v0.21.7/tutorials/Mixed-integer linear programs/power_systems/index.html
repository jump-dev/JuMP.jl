<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Power Systems · JuMP</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44252521-1', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script data-main="../../../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../../../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../../../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../../../assets/themeswap.js"></script><script data-outdated-warner="">function maybeAddWarning () {
    const head = document.getElementsByTagName('head')[0];

    // Add a noindex meta tag (unless one exists) so that search engines don't index this version of the docs.
    if (document.body.querySelector('meta[name="robots"]') === null) {
        const meta = document.createElement('meta');
        meta.name = 'robots';
        meta.content = 'noindex';

        head.appendChild(meta);
    };

    // Add a stylesheet to avoid inline styling
    const style = document.createElement('style');
    style.type = 'text/css';
    style.appendChild(document.createTextNode('.outdated-warning-overlay {  position: fixed;  top: 0;  left: 0;  right: 0;  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);  z-index: 999;  background-color: #ffaba7;  color: rgba(0, 0, 0, 0.7);  border-bottom: 3px solid #da0b00;  padding: 10px 35px;  text-align: center;  font-size: 15px; }  .outdated-warning-overlay .outdated-warning-closer {    position: absolute;    top: calc(50% - 10px);    right: 18px;    cursor: pointer;    width: 12px; }  .outdated-warning-overlay a {    color: #2e63b8; }    .outdated-warning-overlay a:hover {      color: #363636; }'));
    head.appendChild(style);

    const div = document.createElement('div');
    div.classList.add('outdated-warning-overlay');
    const closer = document.createElement('div');
    closer.classList.add('outdated-warning-closer');

    // Icon by font-awesome (license: https://fontawesome.com/license, link: https://fontawesome.com/icons/times?style=solid)
    closer.innerHTML = '<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>';
    closer.addEventListener('click', function () {
        document.body.removeChild(div);
    });
    let href = '/stable';
    if (window.documenterBaseURL) {
        href = window.documenterBaseURL + '/../stable';
    }
    div.innerHTML = 'This documentation is not for the latest version. <br> <a href="' + href + '">Go to the latest documentation</a>.';
    div.appendChild(closer);
    document.body.appendChild(div);
};

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', maybeAddWarning);
} else {
    maybeAddWarning();
};
</script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img alt="JuMP logo" src="../../../assets/logo.png"/></a><div class="docs-package-name"><span class="docs-autofit">JuMP</span></div><form action="../../../search/" class="docs-search"><input class="docs-search-query" id="documenter-search-query" name="q" placeholder="Search docs" type="text"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../../installation/">Installation Guide</a></li><li><input checked="" class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Getting started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Getting started/an_introduction_to_julia/">Getting started with Julia</a></li><li><a class="tocitem" href="../../Getting started/getting_started_with_JuMP/">Getting started with JuMP</a></li><li><a class="tocitem" href="../../Getting started/performance_tips/">Performance tips</a></li><li><a class="tocitem" href="../../Getting started/solvers_and_solutions/">Solvers and Solutions</a></li><li><a class="tocitem" href="../../Getting started/variables_constraints_objective/">Variables, constraints, and objective functions</a></li><li><a class="tocitem" href="../../Getting started/working_with_data_files/">Working with Data Files</a></li></ul></li><li><input checked="" class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Mixed-integer linear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../callbacks/">Callbacks</a></li><li><a class="tocitem" href="../cannery/">The cannery problem</a></li><li><a class="tocitem" href="../cutting_stock_column_generation/">Cutting stock</a></li><li><a class="tocitem" href="../diet/">The diet problem</a></li><li><a class="tocitem" href="../factory_schedule/">The factory schedule example</a></li><li><a class="tocitem" href="../finance/">Finance</a></li><li><a class="tocitem" href="../geographic_clustering/">Geographical Clustering</a></li><li><a class="tocitem" href="../knapsack/">The knapsack problem</a></li><li><a class="tocitem" href="../multi/">The multi-commodity flow problem</a></li><li><a class="tocitem" href="../n-queens/">N-Queens</a></li><li><a class="tocitem" href="../network_flows/">Network Flows</a></li><li class="is-active"><a class="tocitem" href="">Power Systems</a><ul class="internal"><li><a class="tocitem" href="#Illustrative-example"><span>Illustrative example</span></a></li><li><a class="tocitem" href="#Economic-dispatch"><span>Economic dispatch</span></a></li><li><a class="tocitem" href="#JuMP-Implementation-of-Economic-Dispatch"><span>JuMP Implementation of Economic Dispatch</span></a></li><li><a class="tocitem" href="#Modifying-the-JuMP-model-in-place"><span>Modifying the JuMP model in place</span></a></li><li><a class="tocitem" href="#A-few-practical-limitations-of-the-economic-dispatch-model"><span>A few practical limitations of the economic dispatch model</span></a></li><li><a class="tocitem" href="#Unit-Commitment-model"><span>Unit Commitment model</span></a></li></ul></li><li><a class="tocitem" href="../prod/">The workforce scheduling problem</a></li><li><a class="tocitem" href="../steelT3/">The SteelT3 problem</a></li><li><a class="tocitem" href="../sudoku/">Sudoku</a></li><li><a class="tocitem" href="../tips_and_tricks/">Tips and tricks</a></li><li><a class="tocitem" href="../transp/">The transportation problem</a></li><li><a class="tocitem" href="../urban_plan/">The urban planning problem</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Nonlinear programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Nonlinear programs/clnlbeam/">The clnlbeam problem</a></li><li><a class="tocitem" href="../../Nonlinear programs/mle/">Maximum likelihood estimation</a></li><li><a class="tocitem" href="../../Nonlinear programs/nlp_tricks/">Nonlinear tips and tricks</a></li><li><a class="tocitem" href="../../Nonlinear programs/rocket_control/">Rocket Control</a></li><li><a class="tocitem" href="../../Nonlinear programs/rosenbrock/">The Rosenbrock function</a></li><li><a class="tocitem" href="../../Nonlinear programs/space_shuttle_reentry_trajectory/">Space Shuttle Reentry Trajectory</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Quadratic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Quadratic programs/portfolio/">Portfolio Optimization</a></li><li><a class="tocitem" href="../../Quadratic programs/qcp/">Quadratically constrained programs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Conic programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Conic programs/logistic_regression/">Logistic Regression</a></li><li><a class="tocitem" href="../../Conic programs/tips_and_tricks/">Tips and Tricks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">Semidefinite programs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Semidefinite programs/cluster/">K-means clustering via SDP</a></li><li><a class="tocitem" href="../../Semidefinite programs/corr_sdp/">The correlation problem</a></li><li><a class="tocitem" href="../../Semidefinite programs/experiment_design/">Experiment Design</a></li><li><a class="tocitem" href="../../Semidefinite programs/max_cut_sdp/">SDP relaxations: max-cut</a></li><li><a class="tocitem" href="../../Semidefinite programs/min_distortion/">The minimum distortion problem</a></li><li><a class="tocitem" href="../../Semidefinite programs/min_ellipse/">Minimum ellipses</a></li><li><a class="tocitem" href="../../Semidefinite programs/robust_uncertainty/">Robust uncertainty sets</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-7" type="checkbox"/><label class="tocitem" for="menuitem-3-7"><span class="docs-label">Optimization concepts</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Optimization concepts/benders_decomposition/">Benders Decomposition</a></li><li><a class="tocitem" href="../../Optimization concepts/benders_lazy_constraints/">Benders Decomposition (Lazy Constraints)</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../manual/models/">Models</a></li><li><a class="tocitem" href="../../../manual/variables/">Variables</a></li><li><a class="tocitem" href="../../../manual/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../manual/objective/">Objectives</a></li><li><a class="tocitem" href="../../../manual/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../manual/containers/">Containers</a></li><li><a class="tocitem" href="../../../manual/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../manual/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../manual/callbacks/">Callbacks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../reference/models/">Models</a></li><li><a class="tocitem" href="../../../reference/variables/">Variables</a></li><li><a class="tocitem" href="../../../reference/expressions/">Expressions</a></li><li><a class="tocitem" href="../../../reference/objectives/">Objectives</a></li><li><a class="tocitem" href="../../../reference/constraints/">Constraints</a></li><li><a class="tocitem" href="../../../reference/containers/">Containers</a></li><li><a class="tocitem" href="../../../reference/solutions/">Solutions</a></li><li><a class="tocitem" href="../../../reference/nlp/">Nonlinear Modeling</a></li><li><a class="tocitem" href="../../../reference/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../../../reference/moi/">MathOptInterface</a></li><li><a class="tocitem" href="../../../reference/extensions/">Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Background information</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../background/should_i_use/">Should I use JuMP?</a></li><li><a class="tocitem" href="../../../background/algebraic_modeling_languages/">Algebraic modeling languages</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Developer Docs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../developers/extensions/">Extensions</a></li><li><a class="tocitem" href="../../../developers/style/">Style Guide</a></li><li><a class="tocitem" href="../../../developers/roadmap/">Roadmap</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Mixed-integer linear programs</a></li><li class="is-active"><a href="">Power Systems</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">Power Systems</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/tutorials/Mixed-integer linear programs/power_systems.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a></div></header><article class="content" id="documenter-page"><h1 id="Power-Systems"><a class="docs-heading-anchor" href="#Power-Systems">Power Systems</a><a id="Power-Systems-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Systems" title="Permalink"></a></h1><p><strong>Originally Contributed by</strong>: Yury Dvorkin and Miles Lubin</p><p>This tutorial demonstrates how to formulate basic power systems engineering models in JuMP using a 3 bus example.</p><p>We will consider basic "economic dispatch" and "unit commitment" models without taking into account transmission constraints.</p><h2 id="Illustrative-example"><a class="docs-heading-anchor" href="#Illustrative-example">Illustrative example</a><a id="Illustrative-example-1"></a><a class="docs-heading-anchor-permalink" href="#Illustrative-example" title="Permalink"></a></h2><p>In the following notes for the sake of simplicity, we are going to use a three bus example mirroring the interface between Western and Eastern Texas. This example is taken from R. Baldick, "<a href="http://dx.doi.org/10.1109/JSYST.2011.2162798">Wind and Energy Markets: A Case Study of Texas</a>," IEEE Systems Journal, vol. 6, pp. 27-34, 2012.</p><p><img alt="Power Systems" src="../../../assets/power_systems.png"/></p><p>For this example, we set the following characteristics of generators, transmission lines, wind farms and demands:</p><table><tbody><tr><th style="text-align: left">Quantity</th><th style="text-align: center">Generator 1</th><th style="text-align: right">Generator 2</th></tr><tr><td style="text-align: left"><span>$g_{min}$</span>, MW</td><td style="text-align: center">0</td><td style="text-align: right">300</td></tr><tr><td style="text-align: left"><span>$g_{max}$</span>, MW</td><td style="text-align: center">1000</td><td style="text-align: right">1000</td></tr><tr><td style="text-align: left"><span>$c^g$</span>, $/MWh</td><td style="text-align: center">50</td><td style="text-align: right">100</td></tr><tr><td style="text-align: left"><span>$c^{g0}$</span>, $/MWh</td><td style="text-align: center">1000</td><td style="text-align: right">0</td></tr></tbody></table><table><tbody><tr><th style="text-align: left">Quantity</th><th style="text-align: center">Line 1</th><th style="text-align: right">Line 2</th></tr><tr><td style="text-align: left"><span>$f^{max}$</span>, MW</td><td style="text-align: center">100</td><td style="text-align: right">1000</td></tr><tr><td style="text-align: left"><span>$x$</span>, p.u.</td><td style="text-align: center">0.001</td><td style="text-align: right">0.001</td></tr></tbody></table><table><tbody><tr><th style="text-align: left">Quantity</th><th style="text-align: center">Wind farm 1</th><th style="text-align: right">Wind farm 2</th></tr><tr><td style="text-align: left"><span>$w^{f}$</span>, MW</td><td style="text-align: center">150</td><td style="text-align: right">50</td></tr><tr><td style="text-align: left"><span>$c^{w}$</span>, $/MWh</td><td style="text-align: center">50</td><td style="text-align: right">50</td></tr></tbody></table><table><tbody><tr><th style="text-align: left">Quantity</th><th style="text-align: center">Bus 1</th><th style="text-align: center">Bus 2</th><th style="text-align: right">Bus 3</th></tr><tr><td style="text-align: left"><span>$d$</span>, MW</td><td style="text-align: center">0</td><td style="text-align: center">0</td><td style="text-align: right">15000</td></tr></tbody></table><h2 id="Economic-dispatch"><a class="docs-heading-anchor" href="#Economic-dispatch">Economic dispatch</a><a id="Economic-dispatch-1"></a><a class="docs-heading-anchor-permalink" href="#Economic-dispatch" title="Permalink"></a></h2><p>Economic dispatch (ED) is an optimization problem that minimizes the cost of supplying energy demand subject to operational constraints on power system assets. In its simplest modification, ED is an LP problem solved for an aggregated load and wind forecast and for a single infinitesimal moment.</p><p>Mathematically, the ED problem can be written as follows:</p><p class="math-container">\[\min \sum_{i \in I} c^g_{i} \cdot g_{i} + c^w \cdot w,\]</p><p>where <span>$c_{i}$</span> and <span>$g_{i}$</span> are the incremental cost ($/MWh) and power output (MW) of the <span>$i^{th}$</span> generator, respectively, and <span>$c^w$</span> and <span>$w$</span> are the incremental cost ($/MWh) and wind power injection (MW), respectively.</p><p>Subject to the constraints:</p><ul><li>Minimum (<span>$g^{\min}$</span>) and maximum (<span>$g^{\max}$</span>) limits on power outputs of generators: <span>$g^{\min}_{i} \leq g_{i} \leq g^{\max}_{i}.$</span></li><li>Constraint on the wind power injection: <span>$0 \leq w \leq w^f,$</span> where <span>$w$</span> and <span>$w^f$</span> are the wind power injection and wind power forecast, respectively.</li><li>Power balance constraint: <span>$\sum_{i \in I} g_{i} + w = d^f,$</span> where <span>$d^f$</span> is the demand forecast.</li></ul><p>Further reading on ED models can be found in A. J. Wood, B. F. Wollenberg, and G. B. Sheblé, "Power Generation, Operation and Control", Wiley, 2013.</p><h2 id="JuMP-Implementation-of-Economic-Dispatch"><a class="docs-heading-anchor" href="#JuMP-Implementation-of-Economic-Dispatch">JuMP Implementation of Economic Dispatch</a><a id="JuMP-Implementation-of-Economic-Dispatch-1"></a><a class="docs-heading-anchor-permalink" href="#JuMP-Implementation-of-Economic-Dispatch" title="Permalink"></a></h2><pre><code class="language-julia">using JuMP
import DataFrames
import GLPK</code></pre><p>Define some input data about the test system.</p><pre><code class="language-julia"># Maximum power output of generators
g_max = [1000, 1000]
# Minimum power output of generators
g_min = [0, 300]
# Incremental cost of generators
c_g = [50, 100]
# Fixed cost of generators
c_g0 = [1000, 0]
# Incremental cost of wind generators
c_w = 50
# Total demand
d = 1500
# Wind forecast
w_f = 200</code></pre><p>Create a function solve_ed, which solves the economic dispatch problem for a given set of input parameters.</p><pre><code class="language-julia">function solve_ed(g_max, g_min, c_g, c_w, d, w_f)
    # Define the economic dispatch (ED) model
    ed = Model(GLPK.Optimizer)
    # Define decision variables
    @variable(ed, 0 &lt;= g[i = 1:2] &lt;= g_max[i]) ## power output of generators
    @variable(ed, 0 &lt;= w &lt;= w_f) ## wind power injection
    # Define the objective function
    @objective(ed, Min, c_g' * g + c_w * w)
    # Define the constraint on the maximum and minimum power output of each
    # generator
    @constraint(ed, [i = 1:2], g[i] &lt;= g_max[i]) ## maximum
    @constraint(ed, [i = 1:2], g[i] &gt;= g_min[i]) ## minimum
    # Define the constraint on the wind power injection
    @constraint(ed, w &lt;= w_f)
    # Define the power balance constraint
    @constraint(ed, sum(g) + w == d)
    # Solve statement
    optimize!(ed)
    # return the optimal value of the objective function and its minimizers
    return value.(g), value(w), w_f - value(w), objective_value(ed)
end</code></pre><pre class="documenter-example-output">solve_ed (generic function with 1 method)</pre><p>Solve the economic dispatch problem</p><pre><code class="language-julia">(g_opt, w_opt, ws_opt, obj) = solve_ed(g_max, g_min, c_g, c_w, d, w_f);

println("Dispatch of Generators: ", g_opt, " MW")
println("Dispatch of Wind: ", w_opt, " MW")
println("Wind spillage: ", w_f - w_opt, " MW")
println("\n")
println("Total cost: ", obj, "\$")</code></pre><pre class="documenter-example-output">Dispatch of Generators: [1000.0, 300.0] MW
Dispatch of Wind: 200.0 MW
Wind spillage: 0.0 MW


Total cost: 90000.0$</pre><h3 id="Economic-dispatch-with-adjustable-incremental-costs"><a class="docs-heading-anchor" href="#Economic-dispatch-with-adjustable-incremental-costs">Economic dispatch with adjustable incremental costs</a><a id="Economic-dispatch-with-adjustable-incremental-costs-1"></a><a class="docs-heading-anchor-permalink" href="#Economic-dispatch-with-adjustable-incremental-costs" title="Permalink"></a></h3><p>In the following exercise we adjust the incremental cost of generator G1 and observe its impact on the total cost.</p><pre><code class="language-julia">c_g_scale_df = DataFrames.DataFrame(
    Symbol("Dispatch of Generator 1(MW)") =&gt; Float64[],
    Symbol("Dispatch of Generator 2(MW)") =&gt; Float64[],
    Symbol("Dispatch of Wind(MW)") =&gt; Float64[],
    Symbol("Spillage of Wind(MW)") =&gt; Float64[],
    Symbol("Total cost(\$)") =&gt; Float64[],
)
for c_g1_scale = 0.5:0.1:3.0
    # Update the incremental cost of the first generator at every iteration.
    c_g_scale = [c_g[1] * c_g1_scale, c_g[2]]
    # Solve the ed problem with the updated incremental cost
    g_opt, w_opt, ws_opt, obj = solve_ed(g_max, g_min, c_g_scale, c_w, d, w_f)
    push!(c_g_scale_df, (g_opt[1], g_opt[2], w_opt, ws_opt, obj))
end</code></pre><pre><code class="language-julia">c_g_scale_df</code></pre><p>26 rows × 5 columns</p><table class="data-frame"><thead><tr><th></th><th>Dispatch of Generator 1(MW)</th><th>Dispatch of Generator 2(MW)</th><th>Dispatch of Wind(MW)</th><th>Spillage of Wind(MW)</th><th>Total cost($)</th></tr><tr><th></th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th></tr></thead><tbody><tr><th>1</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>65000.0</td></tr><tr><th>2</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>70000.0</td></tr><tr><th>3</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>75000.0</td></tr><tr><th>4</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>80000.0</td></tr><tr><th>5</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>85000.0</td></tr><tr><th>6</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>90000.0</td></tr><tr><th>7</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>95000.0</td></tr><tr><th>8</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>100000.0</td></tr><tr><th>9</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>105000.0</td></tr><tr><th>10</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>110000.0</td></tr><tr><th>11</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>115000.0</td></tr><tr><th>12</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>120000.0</td></tr><tr><th>13</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>125000.0</td></tr><tr><th>14</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>130000.0</td></tr><tr><th>15</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>135000.0</td></tr><tr><th>16</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>140000.0</td></tr><tr><th>17</th><td>300.0</td><td>1000.0</td><td>200.0</td><td>0.0</td><td>141500.0</td></tr><tr><th>18</th><td>300.0</td><td>1000.0</td><td>200.0</td><td>0.0</td><td>143000.0</td></tr><tr><th>19</th><td>300.0</td><td>1000.0</td><td>200.0</td><td>0.0</td><td>144500.0</td></tr><tr><th>20</th><td>300.0</td><td>1000.0</td><td>200.0</td><td>0.0</td><td>146000.0</td></tr><tr><th>21</th><td>300.0</td><td>1000.0</td><td>200.0</td><td>0.0</td><td>147500.0</td></tr><tr><th>22</th><td>300.0</td><td>1000.0</td><td>200.0</td><td>0.0</td><td>149000.0</td></tr><tr><th>23</th><td>300.0</td><td>1000.0</td><td>200.0</td><td>0.0</td><td>150500.0</td></tr><tr><th>24</th><td>300.0</td><td>1000.0</td><td>200.0</td><td>0.0</td><td>152000.0</td></tr><tr><th>25</th><td>300.0</td><td>1000.0</td><td>200.0</td><td>0.0</td><td>153500.0</td></tr><tr><th>26</th><td>300.0</td><td>1000.0</td><td>200.0</td><td>0.0</td><td>155000.0</td></tr></tbody></table><h2 id="Modifying-the-JuMP-model-in-place"><a class="docs-heading-anchor" href="#Modifying-the-JuMP-model-in-place">Modifying the JuMP model in place</a><a id="Modifying-the-JuMP-model-in-place-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-the-JuMP-model-in-place" title="Permalink"></a></h2><p>Note that in the previous exercise we entirely rebuilt the optimization model at every iteration of the internal loop, which incurs an additional computational burden. This burden can be alleviated if instead of re-building the entire model, we modify a specific constraint(s) or the objective function, as it shown in the example below.</p><p>Compare the computing time in case of the above and below models.</p><pre><code class="language-julia">function solve_ed_inplace(c_w_scale)
    start = time()
    obj_out = Float64[]
    w_out = Float64[]
    g1_out = Float64[]
    g2_out = Float64[]
    ed = Model(GLPK.Optimizer)
    # Define decision variables
    @variable(ed, 0 &lt;= g[i = 1:2] &lt;= g_max[i]) ## power output of generators
    @variable(ed, 0 &lt;= w &lt;= w_f ) ## wind power injection
    # Define the objective function
    @objective(ed, Min, c_g' * g + c_w * w)
    # Define the constraint on the maximum and minimum power output of each generator
    @constraint(ed, [i = 1:2], g[i] &lt;= g_max[i]) ## maximum
    @constraint(ed, [i = 1:2], g[i] &gt;= g_min[i]) ## minimum
    # Define the constraint on the wind power injection
    @constraint(ed, w &lt;= w_f)
    # Define the power balance constraint
    @constraint(ed, sum(g) + w == d)
    optimize!(ed)
    for c_g1_scale = 0.5:0.01:3.0
        @objective(
            ed,
            Min,
            c_g1_scale * c_g[1] * g[1] + c_g[2] * g[2] + c_w_scale * c_w * w,
        )
        optimize!(ed)
        push!(obj_out, objective_value(ed))
        push!(w_out, value(w))
        push!(g1_out, value(g[1]))
        push!(g2_out, value(g[2]))
    end
    elapsed = time() - start
    print(string("elapsed time: ", elapsed, " seconds"))
    return obj_out, w_out, g1_out, g2_out
end

solve_ed_inplace(2.0)</code></pre><pre class="documenter-example-output">([75000.0, 75500.0, 76000.0, 76500.0, 77000.0, 77500.0, 78000.0, 78500.0, 79000.0, 79500.0  …  163650.0, 163800.0, 163950.0, 164100.0, 164250.0, 164400.0, 164550.0, 164700.0, 164850.0, 165000.0], [200.0, 200.0, 200.0, 200.0, 200.0, 200.0, 200.0, 200.0, 200.0, 200.0  …  200.0, 200.0, 200.0, 200.0, 200.0, 200.0, 200.0, 200.0, 200.0, 200.0], [1000.0, 1000.0, 1000.0, 1000.0, 1000.0, 1000.0, 1000.0, 1000.0, 1000.0, 1000.0  …  300.0, 300.0, 300.0, 300.0, 300.0, 300.0, 300.0, 300.0, 300.0, 300.0], [300.0, 300.0, 300.0, 300.0, 300.0, 300.0, 300.0, 300.0, 300.0, 300.0  …  1000.0, 1000.0, 1000.0, 1000.0, 1000.0, 1000.0, 1000.0, 1000.0, 1000.0, 1000.0])</pre><p>Adjusting specific constraints and/or the objective function is faster than re-building the entire model.</p><h2 id="A-few-practical-limitations-of-the-economic-dispatch-model"><a class="docs-heading-anchor" href="#A-few-practical-limitations-of-the-economic-dispatch-model">A few practical limitations of the economic dispatch model</a><a id="A-few-practical-limitations-of-the-economic-dispatch-model-1"></a><a class="docs-heading-anchor-permalink" href="#A-few-practical-limitations-of-the-economic-dispatch-model" title="Permalink"></a></h2><h3 id="Inefficient-usage-of-wind-generators"><a class="docs-heading-anchor" href="#Inefficient-usage-of-wind-generators">Inefficient usage of wind generators</a><a id="Inefficient-usage-of-wind-generators-1"></a><a class="docs-heading-anchor-permalink" href="#Inefficient-usage-of-wind-generators" title="Permalink"></a></h3><p>The economic dispatch problem does not perform commitment decisions and, thus, assumes that all generators must be dispatched at least at their minimum power output limit. This approach is not cost efficient and may lead to absurd decisions. For example, if $ d = \sum<em>{i \in I} g^{\min}</em>{i}$, the wind power injection must be zero, i.e. all available wind generation is spilled, to meet the minimum power output constraints on generators.</p><p>In the following example, we adjust the total demand and observed how it affects wind spillage.</p><pre><code class="language-julia">demandscale_df = DataFrames.DataFrame(
    Symbol("Dispatch of Generators(MW)") =&gt; Float64[],
    Symbol("Dispatch of Generator 2(MW)") =&gt; Float64[],
    Symbol("Dispatch of Wind(MW)") =&gt; Float64[],
    Symbol("Spillage of Wind(MW)") =&gt; Float64[],
    Symbol("Total cost(\$)") =&gt; Float64[],
)

for demandscale = 0.2:0.1:1.5
    g_opt,w_opt,ws_opt,obj = solve_ed(g_max, g_min, c_g, c_w, demandscale*d, w_f)
    push!(demandscale_df, (g_opt[1], g_opt[2], w_opt, ws_opt, obj))
end

demandscale_df</code></pre><p>14 rows × 5 columns</p><table class="data-frame"><thead><tr><th></th><th>Dispatch of Generators(MW)</th><th>Dispatch of Generator 2(MW)</th><th>Dispatch of Wind(MW)</th><th>Spillage of Wind(MW)</th><th>Total cost($)</th></tr><tr><th></th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th></tr></thead><tbody><tr><th>1</th><td>0.0</td><td>300.0</td><td>0.0</td><td>200.0</td><td>30000.0</td></tr><tr><th>2</th><td>150.0</td><td>300.0</td><td>0.0</td><td>200.0</td><td>37500.0</td></tr><tr><th>3</th><td>300.0</td><td>300.0</td><td>0.0</td><td>200.0</td><td>45000.0</td></tr><tr><th>4</th><td>450.0</td><td>300.0</td><td>0.0</td><td>200.0</td><td>52500.0</td></tr><tr><th>5</th><td>600.0</td><td>300.0</td><td>0.0</td><td>200.0</td><td>60000.0</td></tr><tr><th>6</th><td>750.0</td><td>300.0</td><td>0.0</td><td>200.0</td><td>67500.0</td></tr><tr><th>7</th><td>900.0</td><td>300.0</td><td>0.0</td><td>200.0</td><td>75000.0</td></tr><tr><th>8</th><td>1000.0</td><td>300.0</td><td>50.0</td><td>150.0</td><td>82500.0</td></tr><tr><th>9</th><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>90000.0</td></tr><tr><th>10</th><td>1000.0</td><td>450.0</td><td>200.0</td><td>0.0</td><td>105000.0</td></tr><tr><th>11</th><td>1000.0</td><td>600.0</td><td>200.0</td><td>0.0</td><td>120000.0</td></tr><tr><th>12</th><td>1000.0</td><td>750.0</td><td>200.0</td><td>0.0</td><td>135000.0</td></tr><tr><th>13</th><td>1000.0</td><td>900.0</td><td>200.0</td><td>0.0</td><td>150000.0</td></tr><tr><th>14</th><td>1000.0</td><td>1050.0</td><td>200.0</td><td>0.0</td><td>165000.0</td></tr></tbody></table><p>This particular drawback can be overcome by introducing binary decisions on the "on/off" status of generators. This model is called unit commitment and considered later in these notes.</p><p>For further reading on the interplay between wind generation and the minimum power output constraints of generators, we refer interested readers to R. Baldick, "Wind and Energy Markets: A Case Study of Texas," IEEE Systems Journal, vol. 6, pp. 27-34, 2012.</p><h3 id="Transmission-infeasible-solution"><a class="docs-heading-anchor" href="#Transmission-infeasible-solution">Transmission-infeasible solution</a><a id="Transmission-infeasible-solution-1"></a><a class="docs-heading-anchor-permalink" href="#Transmission-infeasible-solution" title="Permalink"></a></h3><p>The ED solution is entirely market-based and disrespects limitations of the transmission network. Indeed, the flows in transmission lines would attain the following values:</p><p class="math-container">\[f_{1-2} = 150 MW \leq f_{1-2}^{\max} = 100 MW\]</p><p class="math-container">\[f_{2-3} = 1200 MW \leq f_{2-3}^{\max} = 1000 MW\]</p><p>Thus, if this ED solution was enforced in practice, the power flow limits on both lines would be violated. Therefore, in the following section we consider the optimal power flow model, which amends the ED model with network constraints.</p><p>The importance of the transmission-aware decisions is emphasized in E. Lannoye, D. Flynn, and M. O'Malley, "Transmission, Variable Generation, and Power System Flexibility," IEEE Transactions on Power Systems, vol. 30, pp. 57-66, 2015.</p><h2 id="Unit-Commitment-model"><a class="docs-heading-anchor" href="#Unit-Commitment-model">Unit Commitment model</a><a id="Unit-Commitment-model-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-Commitment-model" title="Permalink"></a></h2><p>The Unit Commitment (UC) model can be obtained from ED model by introducing binary variable associated with each generator. This binary variable can attain two values: if it is "1", the generator is synchronized and, thus, can be dispatched, otherwise, i.e. if the binary variable is "0", that generator is not synchronized and its power output is set to 0.</p><p>To obtain the mathematical formulation of the UC model, we will modify the constraints of the ED model as follows:</p><p class="math-container">\[g^{\min}_{i} \cdot u_{t,i} \leq g_{i} \leq g^{\max}_{i} \cdot u_{t,i},\]</p><p>where <span>$u_{i} \in \{0,1\}.$</span> In this constraint, if <span>$u_{i} = 0$</span>, then <span>$g_{i}  = 0$</span>. On the other hand, if <span>$u_{i} = 1$</span>, then <span>$g^{max}_{i} \leq g_{i} \leq g^{min}_{i}$</span>.</p><p>For further reading on the UC problem we refer interested readers to G. Morales-Espana, J. M. Latorre, and A. Ramos, "Tight and Compact MILP Formulation for the Thermal Unit Commitment Problem," IEEE Transactions on Power Systems, vol. 28, pp. 4897-4908, 2013.</p><p>In the following example we convert the ED model explained above to the UC model.</p><pre><code class="language-julia">function solve_uc(g_max, g_min, c_g, c_w, d, w_f)
    # Define the unit commitment (UC) model
    uc = Model(GLPK.Optimizer)
    # Define decision variables
    @variable(uc, 0 &lt;= g[i=1:2] &lt;= g_max[i]) ## power output of generators
    @variable(uc, u[i = 1:2], Bin) ## Binary status of generators
    @variable(uc, 0 &lt;= w &lt;= w_f) ## wind power injection
    # Define the objective function
    @objective(uc, Min, c_g' * g + c_w * w)
    # Define the constraint on the maximum and minimum power output of each
    # generator.
    @constraint(uc, [i = 1:2], g[i] &lt;= g_max[i] * u[i]) ## maximum
    @constraint(uc, [i = 1:2], g[i] &gt;= g_min[i] * u[i]) ## minimum
    # Define the constraint on the wind power injection
    @constraint(uc, w &lt;= w_f)
    # Define the power balance constraint
    @constraint(uc, sum(g) + w == d)
    # Solve statement
    optimize!(uc)
    status = termination_status(uc)
    if status != MOI.OPTIMAL
        return status, zeros(length(g)), 0.0, 0.0, zeros(length(u)), Inf
    end
    return status, value.(g), value(w), w_f - value(w), value.(u), objective_value(uc)
end</code></pre><pre class="documenter-example-output">solve_uc (generic function with 1 method)</pre><p>Solve the economic dispatch problem</p><pre><code class="language-julia">status, g_opt, w_opt, ws_opt, u_opt, obj =
    solve_uc(g_max, g_min, c_g, c_w, d, w_f)

println("Dispatch of Generators: ", g_opt[:], " MW")
println("Commitments of Generators: ", u_opt[:])
println("Dispatch of Wind: ", w_opt, " MW")
println("Wind spillage: ", w_f - w_opt, " MW")
println("\n")
println("Total cost: ", obj, "\$")</code></pre><pre class="documenter-example-output">Dispatch of Generators: [1000.0, 300.0] MW
Commitments of Generators: [1.0, 1.0]
Dispatch of Wind: 200.0 MW
Wind spillage: 0.0 MW


Total cost: 90000.0$</pre><h3 id="Unit-Commitment-as-a-function-of-demand"><a class="docs-heading-anchor" href="#Unit-Commitment-as-a-function-of-demand">Unit Commitment as a function of demand</a><a id="Unit-Commitment-as-a-function-of-demand-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-Commitment-as-a-function-of-demand" title="Permalink"></a></h3><p>After implementing the UC model, we can now assess the interplay between the minimum power output constraints on generators and wind generation.</p><pre><code class="language-julia">uc_df = DataFrames.DataFrame(
    Symbol("Commitment of Generator 1(MW)") =&gt; Float64[],
    Symbol("Commitment of Generator 2(MW)") =&gt; Float64[],
    Symbol("Dispatch of Generator 1(MW)") =&gt; Float64[],
    Symbol("Dispatch of Generator 2(MW)") =&gt; Float64[],
    Symbol("Dispatch of Wind(MW)") =&gt; Float64[],
    Symbol("Spillage of Wind(MW)") =&gt; Float64[],
    Symbol("Total cost(\$)") =&gt; Float64[],
)

for demandscale = 0.2:0.1:1.5
    status, g_opt, w_opt, ws_opt, u_opt, obj =
        solve_uc(g_max, g_min, c_g, c_w, demandscale*d, w_f)
    if status == MOI.OPTIMAL
        push!(uc_df, (u_opt[1], u_opt[2], g_opt[1], g_opt[2], w_opt, ws_opt, obj))
    else
        println("Status: $status for demandscale = $demandscale \n")
    end
end</code></pre><pre class="documenter-example-output">Status: INFEASIBLE for demandscale = 1.5</pre><pre><code class="language-julia">uc_df</code></pre><p>13 rows × 7 columns</p><table class="data-frame"><thead><tr><th></th><th>Commitment of Generator 1(MW)</th><th>Commitment of Generator 2(MW)</th><th>Dispatch of Generator 1(MW)</th><th>Dispatch of Generator 2(MW)</th><th>Dispatch of Wind(MW)</th><th>Spillage of Wind(MW)</th><th>Total cost($)</th></tr><tr><th></th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th></tr></thead><tbody><tr><th>1</th><td>1.0</td><td>0.0</td><td>100.0</td><td>0.0</td><td>200.0</td><td>0.0</td><td>15000.0</td></tr><tr><th>2</th><td>1.0</td><td>0.0</td><td>250.0</td><td>0.0</td><td>200.0</td><td>0.0</td><td>22500.0</td></tr><tr><th>3</th><td>1.0</td><td>0.0</td><td>400.0</td><td>0.0</td><td>200.0</td><td>0.0</td><td>30000.0</td></tr><tr><th>4</th><td>1.0</td><td>0.0</td><td>550.0</td><td>0.0</td><td>200.0</td><td>0.0</td><td>37500.0</td></tr><tr><th>5</th><td>1.0</td><td>0.0</td><td>700.0</td><td>0.0</td><td>200.0</td><td>0.0</td><td>45000.0</td></tr><tr><th>6</th><td>1.0</td><td>0.0</td><td>850.0</td><td>0.0</td><td>200.0</td><td>0.0</td><td>52500.0</td></tr><tr><th>7</th><td>1.0</td><td>0.0</td><td>1000.0</td><td>0.0</td><td>200.0</td><td>0.0</td><td>60000.0</td></tr><tr><th>8</th><td>1.0</td><td>1.0</td><td>850.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>82500.0</td></tr><tr><th>9</th><td>1.0</td><td>1.0</td><td>1000.0</td><td>300.0</td><td>200.0</td><td>0.0</td><td>90000.0</td></tr><tr><th>10</th><td>1.0</td><td>1.0</td><td>1000.0</td><td>450.0</td><td>200.0</td><td>0.0</td><td>105000.0</td></tr><tr><th>11</th><td>1.0</td><td>1.0</td><td>1000.0</td><td>600.0</td><td>200.0</td><td>0.0</td><td>120000.0</td></tr><tr><th>12</th><td>1.0</td><td>1.0</td><td>1000.0</td><td>750.0</td><td>200.0</td><td>0.0</td><td>135000.0</td></tr><tr><th>13</th><td>1.0</td><td>1.0</td><td>1000.0</td><td>900.0</td><td>200.0</td><td>0.0</td><td>150000.0</td></tr></tbody></table><p><a href="https://github.com/jump-dev/JuMP.jl/blob/master/docs/src/tutorials/Mixed-integer linear programs/power_systems.jl">View this file on Github</a>.</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../network_flows/">« Network Flows</a><a class="docs-footer-nextpage" href="../prod/">The workforce scheduling problem »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 12 April 2021 08:50">Monday 12 April 2021</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>